var i=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var l=Object.getOwnPropertyNames;var h=Object.prototype.hasOwnProperty;var f=(n,t)=>{for(var r in t)i(n,r,{get:t[r],enumerable:!0})},C=(n,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let e of l(t))!h.call(n,e)&&e!==r&&i(n,e,{get:()=>t[e],enumerable:!(o=d(t,e))||o.enumerable});return n};var x=n=>C(i({},"__esModule",{value:!0}),n);var A={};f(A,{CANVAS_SANITY_PARAMETER_TYPES:()=>q,createSanityEnhancer:()=>T});module.exports=x(A);var u=require("@uniformdev/canvas"),q=Object.freeze(["sanityEntrySelector"]);function T({client:n,previewClient:t,modifyQuery:r,limitPolicy:o}){return t=t!=null?t:n,{enhanceOne:async({parameter:e,parameterName:m,component:S,context:c})=>{var s;if(R(e)){let p=c.preview?t:n;try{let a="*[_id == $id][0]",y={id:e.value},{query:E,queryParameters:P}=(s=r==null?void 0:r({query:a,queryParameters:y,parameter:e,component:S,parameterName:m,context:c}))!=null?s:{query:a,queryParameters:y};return await p.fetch(E,P)}catch(a){throw new Error(`Failed loading Sanity document ${e.value} ${a.toString()}`)}}},limitPolicy:o!=null?o:(0,u.createLimitPolicy)({throttle:!1})}}function R(n){return n.type==="sanityEntrySelector"&&typeof(n==null?void 0:n.value)=="string"}0&&(module.exports={CANVAS_SANITY_PARAMETER_TYPES,createSanityEnhancer});
