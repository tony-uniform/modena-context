var ef=Object.create;var Nn=Object.defineProperty;var tf=Object.getOwnPropertyDescriptor;var nf=Object.getOwnPropertyNames;var rf=Object.getPrototypeOf,of=Object.prototype.hasOwnProperty;var sf=(e,t,n)=>t in e?Nn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var af=(e,t)=>()=>(e&&(t=e(e=0)),t);var it=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),lf=(e,t)=>{for(var n in t)Nn(e,n,{get:t[n],enumerable:!0})},xo=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of nf(t))!of.call(e,i)&&i!==n&&Nn(e,i,{get:()=>t[i],enumerable:!(r=tf(t,i))||r.enumerable});return e};var Z=(e,t,n)=>(n=e!=null?ef(rf(e)):{},xo(t||!e||!e.__esModule?Nn(n,"default",{value:e,enumerable:!0}):n,e)),cf=e=>xo(Nn({},"__esModule",{value:!0}),e);var Co=(e,t,n)=>(sf(e,typeof t!="symbol"?t+"":t,n),n),ff=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var le=(e,t,n)=>(ff(e,t,"read from private field"),n?n.call(e):t.get(e)),ze=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)};var uf,O,b=af(()=>{uf=()=>typeof document=="undefined"?new URL("file:"+__filename).href:document.currentScript&&document.currentScript.src||new URL("main.js",document.baseURI).href,O=uf()});var Xa=it((zn,On)=>{b();var Tp=200,io="__lodash_hash_undefined__",Ta=1,Ur=2,La=9007199254740991,Lr="[object Arguments]",Qi="[object Array]",Da="[object Boolean]",Na="[object Date]",ka="[object Error]",Ra="[object Function]",Lp="[object GeneratorFunction]",Dr="[object Map]",Ua="[object Number]",Cn="[object Object]",Oa="[object Promise]",$a="[object RegExp]",Nr="[object Set]",Wa="[object String]",Dp="[object Symbol]",Ji="[object WeakMap]",Ba="[object ArrayBuffer]",kr="[object DataView]",Np="[object Float32Array]",kp="[object Float64Array]",Rp="[object Int8Array]",Up="[object Int16Array]",$p="[object Int32Array]",Wp="[object Uint8Array]",Bp="[object Uint8ClampedArray]",Hp="[object Uint16Array]",Gp="[object Uint32Array]",qp=/[\\^$.*+?()[\]{}|]/g,Yp=/^\[object .+?Constructor\]$/,zp=/^(?:0|[1-9]\d*)$/,ae={};ae[Np]=ae[kp]=ae[Rp]=ae[Up]=ae[$p]=ae[Wp]=ae[Bp]=ae[Hp]=ae[Gp]=!0;ae[Lr]=ae[Qi]=ae[Ba]=ae[Da]=ae[kr]=ae[Na]=ae[ka]=ae[Ra]=ae[Dr]=ae[Ua]=ae[Cn]=ae[$a]=ae[Nr]=ae[Wa]=ae[Ji]=!1;var Ha=typeof global=="object"&&global&&global.Object===Object&&global,Vp=typeof self=="object"&&self&&self.Object===Object&&self,It=Ha||Vp||Function("return this")(),Ga=typeof zn=="object"&&zn&&!zn.nodeType&&zn,va=Ga&&typeof On=="object"&&On&&!On.nodeType&&On,Kp=va&&va.exports===Ga,Ea=Kp&&Ha.process,_a=function(){try{return Ea&&Ea.binding("util")}catch(e){}}(),Sa=_a&&_a.isTypedArray;function Qp(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function Jp(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Xp(e){return function(t){return e(t)}}function Zp(e,t){return e==null?void 0:e[t]}function Xi(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch(n){}return t}function eh(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function th(e,t){return function(n){return e(t(n))}}function nh(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var rh=Array.prototype,ih=Function.prototype,$r=Object.prototype,Vi=It["__core-js_shared__"],ja=function(){var e=/[^.]+$/.exec(Vi&&Vi.keys&&Vi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),qa=ih.toString,bt=$r.hasOwnProperty,Qn=$r.toString,oh=RegExp("^"+qa.call(bt).replace(qp,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pa=It.Symbol,Ia=It.Uint8Array,sh=$r.propertyIsEnumerable,ah=rh.splice,lh=th(Object.keys,Object),Zi=vn(It,"DataView"),Vn=vn(It,"Map"),eo=vn(It,"Promise"),to=vn(It,"Set"),no=vn(It,"WeakMap"),Kn=vn(Object,"create"),ch=an(Zi),fh=an(Vn),uh=an(eo),dh=an(to),ph=an(no),Ma=Pa?Pa.prototype:void 0,Ki=Ma?Ma.valueOf:void 0;function on(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function hh(){this.__data__=Kn?Kn(null):{}}function mh(e){return this.has(e)&&delete this.__data__[e]}function gh(e){var t=this.__data__;if(Kn){var n=t[e];return n===io?void 0:n}return bt.call(t,e)?t[e]:void 0}function bh(e){var t=this.__data__;return Kn?t[e]!==void 0:bt.call(t,e)}function yh(e,t){var n=this.__data__;return n[e]=Kn&&t===void 0?io:t,this}on.prototype.clear=hh;on.prototype.delete=mh;on.prototype.get=gh;on.prototype.has=bh;on.prototype.set=yh;function yt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function wh(){this.__data__=[]}function Ah(e){var t=this.__data__,n=Wr(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():ah.call(t,n,1),!0}function xh(e){var t=this.__data__,n=Wr(t,e);return n<0?void 0:t[n][1]}function Ch(e){return Wr(this.__data__,e)>-1}function Oh(e,t){var n=this.__data__,r=Wr(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}yt.prototype.clear=wh;yt.prototype.delete=Ah;yt.prototype.get=xh;yt.prototype.has=Ch;yt.prototype.set=Oh;function sn(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function vh(){this.__data__={hash:new on,map:new(Vn||yt),string:new on}}function Eh(e){return Br(this,e).delete(e)}function _h(e){return Br(this,e).get(e)}function Sh(e){return Br(this,e).has(e)}function jh(e,t){return Br(this,e).set(e,t),this}sn.prototype.clear=vh;sn.prototype.delete=Eh;sn.prototype.get=_h;sn.prototype.has=Sh;sn.prototype.set=jh;function Rr(e){var t=-1,n=e?e.length:0;for(this.__data__=new sn;++t<n;)this.add(e[t])}function Ph(e){return this.__data__.set(e,io),this}function Ih(e){return this.__data__.has(e)}Rr.prototype.add=Rr.prototype.push=Ph;Rr.prototype.has=Ih;function Pt(e){this.__data__=new yt(e)}function Mh(){this.__data__=new yt}function Fh(e){return this.__data__.delete(e)}function Th(e){return this.__data__.get(e)}function Lh(e){return this.__data__.has(e)}function Dh(e,t){var n=this.__data__;if(n instanceof yt){var r=n.__data__;if(!Vn||r.length<Tp-1)return r.push([e,t]),this;n=this.__data__=new sn(r)}return n.set(e,t),this}Pt.prototype.clear=Mh;Pt.prototype.delete=Fh;Pt.prototype.get=Th;Pt.prototype.has=Lh;Pt.prototype.set=Dh;function Nh(e,t){var n=ro(e)||Vh(e)?Jp(e.length,String):[],r=n.length,i=!!r;for(var s in e)(t||bt.call(e,s))&&!(i&&(s=="length"||Gh(s,r)))&&n.push(s);return n}function Wr(e,t){for(var n=e.length;n--;)if(Va(e[n][0],t))return n;return-1}function kh(e){return Qn.call(e)}function Ya(e,t,n,r,i){return e===t?!0:e==null||t==null||!oo(e)&&!so(t)?e!==e&&t!==t:Rh(e,t,Ya,n,r,i)}function Rh(e,t,n,r,i,s){var o=ro(e),a=ro(t),l=Qi,c=Qi;o||(l=jt(e),l=l==Lr?Cn:l),a||(c=jt(t),c=c==Lr?Cn:c);var f=l==Cn&&!Xi(e),u=c==Cn&&!Xi(t),d=l==c;if(d&&!f)return s||(s=new Pt),o||Jh(e)?za(e,t,n,r,i,s):Bh(e,t,l,n,r,i,s);if(!(i&Ur)){var p=f&&bt.call(e,"__wrapped__"),y=u&&bt.call(t,"__wrapped__");if(p||y){var g=p?e.value():e,m=y?t.value():t;return s||(s=new Pt),n(g,m,r,i,s)}}return d?(s||(s=new Pt),Hh(e,t,n,r,i,s)):!1}function Uh(e){if(!oo(e)||Yh(e))return!1;var t=Qa(e)||Xi(e)?oh:Yp;return t.test(an(e))}function $h(e){return so(e)&&Ja(e.length)&&!!ae[Qn.call(e)]}function Wh(e){if(!zh(e))return lh(e);var t=[];for(var n in Object(e))bt.call(e,n)&&n!="constructor"&&t.push(n);return t}function za(e,t,n,r,i,s){var o=i&Ur,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(e);if(c&&s.get(t))return c==t;var f=-1,u=!0,d=i&Ta?new Rr:void 0;for(s.set(e,t),s.set(t,e);++f<a;){var p=e[f],y=t[f];if(r)var g=o?r(y,p,f,t,e,s):r(p,y,f,e,t,s);if(g!==void 0){if(g)continue;u=!1;break}if(d){if(!Qp(t,function(m,v){if(!d.has(v)&&(p===m||n(p,m,r,i,s)))return d.add(v)})){u=!1;break}}else if(!(p===y||n(p,y,r,i,s))){u=!1;break}}return s.delete(e),s.delete(t),u}function Bh(e,t,n,r,i,s,o){switch(n){case kr:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ba:return!(e.byteLength!=t.byteLength||!r(new Ia(e),new Ia(t)));case Da:case Na:case Ua:return Va(+e,+t);case ka:return e.name==t.name&&e.message==t.message;case $a:case Wa:return e==t+"";case Dr:var a=eh;case Nr:var l=s&Ur;if(a||(a=nh),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;s|=Ta,o.set(e,t);var f=za(a(e),a(t),r,i,s,o);return o.delete(e),f;case Dp:if(Ki)return Ki.call(e)==Ki.call(t)}return!1}function Hh(e,t,n,r,i,s){var o=i&Ur,a=Fa(e),l=a.length,c=Fa(t),f=c.length;if(l!=f&&!o)return!1;for(var u=l;u--;){var d=a[u];if(!(o?d in t:bt.call(t,d)))return!1}var p=s.get(e);if(p&&s.get(t))return p==t;var y=!0;s.set(e,t),s.set(t,e);for(var g=o;++u<l;){d=a[u];var m=e[d],v=t[d];if(r)var E=o?r(v,m,d,t,e,s):r(m,v,d,e,t,s);if(!(E===void 0?m===v||n(m,v,r,i,s):E)){y=!1;break}g||(g=d=="constructor")}if(y&&!g){var R=e.constructor,V=t.constructor;R!=V&&"constructor"in e&&"constructor"in t&&!(typeof R=="function"&&R instanceof R&&typeof V=="function"&&V instanceof V)&&(y=!1)}return s.delete(e),s.delete(t),y}function Br(e,t){var n=e.__data__;return qh(t)?n[typeof t=="string"?"string":"hash"]:n.map}function vn(e,t){var n=Zp(e,t);return Uh(n)?n:void 0}var jt=kh;(Zi&&jt(new Zi(new ArrayBuffer(1)))!=kr||Vn&&jt(new Vn)!=Dr||eo&&jt(eo.resolve())!=Oa||to&&jt(new to)!=Nr||no&&jt(new no)!=Ji)&&(jt=function(e){var t=Qn.call(e),n=t==Cn?e.constructor:void 0,r=n?an(n):void 0;if(r)switch(r){case ch:return kr;case fh:return Dr;case uh:return Oa;case dh:return Nr;case ph:return Ji}return t});function Gh(e,t){return t=t==null?La:t,!!t&&(typeof e=="number"||zp.test(e))&&e>-1&&e%1==0&&e<t}function qh(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Yh(e){return!!ja&&ja in e}function zh(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||$r;return e===n}function an(e){if(e!=null){try{return qa.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Va(e,t){return e===t||e!==e&&t!==t}function Vh(e){return Kh(e)&&bt.call(e,"callee")&&(!sh.call(e,"callee")||Qn.call(e)==Lr)}var ro=Array.isArray;function Ka(e){return e!=null&&Ja(e.length)&&!Qa(e)}function Kh(e){return so(e)&&Ka(e)}function Qh(e,t,n){n=typeof n=="function"?n:void 0;var r=n?n(e,t):void 0;return r===void 0?Ya(e,t,n):!!r}function Qa(e){var t=oo(e)?Qn.call(e):"";return t==Ra||t==Lp}function Ja(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=La}function oo(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function so(e){return!!e&&typeof e=="object"}var Jh=Sa?Xp(Sa):$h;function Fa(e){return Ka(e)?Nh(e):Wh(e)}On.exports=Qh});var Tl=it((Lb,Fl)=>{"use strict";b();Fl.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var lo=it((Db,Dl)=>{b();var er=Tl(),Ll={};for(let e of Object.keys(er))Ll[er[e]]=e;var F={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};Dl.exports=F;for(let e of Object.keys(F)){if(!("channels"in F[e]))throw new Error("missing channels property: "+e);if(!("labels"in F[e]))throw new Error("missing channel labels property: "+e);if(F[e].labels.length!==F[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:n}=F[e];delete F[e].channels,delete F[e].labels,Object.defineProperty(F[e],"channels",{value:t}),Object.defineProperty(F[e],"labels",{value:n})}F.rgb.hsl=function(e){let t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=s-i,a,l;s===i?a=0:t===s?a=(n-r)/o:n===s?a=2+(r-t)/o:r===s&&(a=4+(t-n)/o),a=Math.min(a*60,360),a<0&&(a+=360);let c=(i+s)/2;return s===i?l=0:c<=.5?l=o/(s+i):l=o/(2-s-i),[a,l*100,c*100]};F.rgb.hsv=function(e){let t,n,r,i,s,o=e[0]/255,a=e[1]/255,l=e[2]/255,c=Math.max(o,a,l),f=c-Math.min(o,a,l),u=function(d){return(c-d)/6/f+1/2};return f===0?(i=0,s=0):(s=f/c,t=u(o),n=u(a),r=u(l),o===c?i=r-n:a===c?i=1/3+t-r:l===c&&(i=2/3+n-t),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,c*100]};F.rgb.hwb=function(e){let t=e[0],n=e[1],r=e[2],i=F.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(n,r));return r=1-1/255*Math.max(t,Math.max(n,r)),[i,s*100,r*100]};F.rgb.cmyk=function(e){let t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.min(1-t,1-n,1-r),s=(1-t-i)/(1-i)||0,o=(1-n-i)/(1-i)||0,a=(1-r-i)/(1-i)||0;return[s*100,o*100,a*100,i*100]};function Zh(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}F.rgb.keyword=function(e){let t=Ll[e];if(t)return t;let n=1/0,r;for(let i of Object.keys(er)){let s=er[i],o=Zh(e,s);o<n&&(n=o,r=i)}return r};F.keyword.rgb=function(e){return er[e]};F.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,r=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;let i=t*.4124+n*.3576+r*.1805,s=t*.2126+n*.7152+r*.0722,o=t*.0193+n*.1192+r*.9505;return[i*100,s*100,o*100]};F.rgb.lab=function(e){let t=F.rgb.xyz(e),n=t[0],r=t[1],i=t[2];n/=95.047,r/=100,i/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let s=116*r-16,o=500*(n-r),a=200*(r-i);return[s,o,a]};F.hsl.rgb=function(e){let t=e[0]/360,n=e[1]/100,r=e[2]/100,i,s,o;if(n===0)return o=r*255,[o,o,o];r<.5?i=r*(1+n):i=r+n-r*n;let a=2*r-i,l=[0,0,0];for(let c=0;c<3;c++)s=t+1/3*-(c-1),s<0&&s++,s>1&&s--,6*s<1?o=a+(i-a)*6*s:2*s<1?o=i:3*s<2?o=a+(i-a)*(2/3-s)*6:o=a,l[c]=o*255;return l};F.hsl.hsv=function(e){let t=e[0],n=e[1]/100,r=e[2]/100,i=n,s=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,i*=s<=1?s:2-s;let o=(r+n)/2,a=r===0?2*i/(s+i):2*n/(r+n);return[t,a*100,o*100]};F.hsv.rgb=function(e){let t=e[0]/60,n=e[1]/100,r=e[2]/100,i=Math.floor(t)%6,s=t-Math.floor(t),o=255*r*(1-n),a=255*r*(1-n*s),l=255*r*(1-n*(1-s));switch(r*=255,i){case 0:return[r,l,o];case 1:return[a,r,o];case 2:return[o,r,l];case 3:return[o,a,r];case 4:return[l,o,r];case 5:return[r,o,a]}};F.hsv.hsl=function(e){let t=e[0],n=e[1]/100,r=e[2]/100,i=Math.max(r,.01),s,o;o=(2-n)*r;let a=(2-n)*i;return s=n*i,s/=a<=1?a:2-a,s=s||0,o/=2,[t,s*100,o*100]};F.hwb.rgb=function(e){let t=e[0]/360,n=e[1]/100,r=e[2]/100,i=n+r,s;i>1&&(n/=i,r/=i);let o=Math.floor(6*t),a=1-r;s=6*t-o,(o&1)!==0&&(s=1-s);let l=n+s*(a-n),c,f,u;switch(o){default:case 6:case 0:c=a,f=l,u=n;break;case 1:c=l,f=a,u=n;break;case 2:c=n,f=a,u=l;break;case 3:c=n,f=l,u=a;break;case 4:c=l,f=n,u=a;break;case 5:c=a,f=n,u=l;break}return[c*255,f*255,u*255]};F.cmyk.rgb=function(e){let t=e[0]/100,n=e[1]/100,r=e[2]/100,i=e[3]/100,s=1-Math.min(1,t*(1-i)+i),o=1-Math.min(1,n*(1-i)+i),a=1-Math.min(1,r*(1-i)+i);return[s*255,o*255,a*255]};F.xyz.rgb=function(e){let t=e[0]/100,n=e[1]/100,r=e[2]/100,i,s,o;return i=t*3.2406+n*-1.5372+r*-.4986,s=t*-.9689+n*1.8758+r*.0415,o=t*.0557+n*-.204+r*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};F.xyz.lab=function(e){let t=e[0],n=e[1],r=e[2];t/=95.047,n/=100,r/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;let i=116*n-16,s=500*(t-n),o=200*(n-r);return[i,s,o]};F.lab.xyz=function(e){let t=e[0],n=e[1],r=e[2],i,s,o;s=(t+16)/116,i=n/500+s,o=s-r/200;let a=s**3,l=i**3,c=o**3;return s=a>.008856?a:(s-16/116)/7.787,i=l>.008856?l:(i-16/116)/7.787,o=c>.008856?c:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};F.lab.lch=function(e){let t=e[0],n=e[1],r=e[2],i;i=Math.atan2(r,n)*360/2/Math.PI,i<0&&(i+=360);let o=Math.sqrt(n*n+r*r);return[t,o,i]};F.lch.lab=function(e){let t=e[0],n=e[1],i=e[2]/360*2*Math.PI,s=n*Math.cos(i),o=n*Math.sin(i);return[t,s,o]};F.rgb.ansi16=function(e,t=null){let[n,r,i]=e,s=t===null?F.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return s===2&&(o+=60),o};F.hsv.ansi16=function(e){return F.rgb.ansi16(F.hsv.rgb(e),e[2])};F.rgb.ansi256=function(e){let t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)};F.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let n=(~~(e>50)+1)*.5,r=(t&1)*n*255,i=(t>>1&1)*n*255,s=(t>>2&1)*n*255;return[r,i,s]};F.ansi256.rgb=function(e){if(e>=232){let s=(e-232)*10+8;return[s,s,s]}e-=16;let t,n=Math.floor(e/36)/5*255,r=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[n,r,i]};F.rgb.hex=function(e){let n=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(n.length)+n};F.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let n=t[0];t[0].length===3&&(n=n.split("").map(a=>a+a).join(""));let r=parseInt(n,16),i=r>>16&255,s=r>>8&255,o=r&255;return[i,s,o]};F.rgb.hcg=function(e){let t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(Math.max(t,n),r),s=Math.min(Math.min(t,n),r),o=i-s,a,l;return o<1?a=s/(1-o):a=0,o<=0?l=0:i===t?l=(n-r)/o%6:i===n?l=2+(r-t)/o:l=4+(t-n)/o,l/=6,l%=1,[l*360,o*100,a*100]};F.hsl.hcg=function(e){let t=e[1]/100,n=e[2]/100,r=n<.5?2*t*n:2*t*(1-n),i=0;return r<1&&(i=(n-.5*r)/(1-r)),[e[0],r*100,i*100]};F.hsv.hcg=function(e){let t=e[1]/100,n=e[2]/100,r=t*n,i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],r*100,i*100]};F.hcg.rgb=function(e){let t=e[0]/360,n=e[1]/100,r=e[2]/100;if(n===0)return[r*255,r*255,r*255];let i=[0,0,0],s=t%1*6,o=s%1,a=1-o,l=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return l=(1-n)*r,[(n*i[0]+l)*255,(n*i[1]+l)*255,(n*i[2]+l)*255]};F.hcg.hsv=function(e){let t=e[1]/100,n=e[2]/100,r=t+n*(1-t),i=0;return r>0&&(i=t/r),[e[0],i*100,r*100]};F.hcg.hsl=function(e){let t=e[1]/100,r=e[2]/100*(1-t)+.5*t,i=0;return r>0&&r<.5?i=t/(2*r):r>=.5&&r<1&&(i=t/(2*(1-r))),[e[0],i*100,r*100]};F.hcg.hwb=function(e){let t=e[1]/100,n=e[2]/100,r=t+n*(1-t);return[e[0],(r-t)*100,(1-r)*100]};F.hwb.hcg=function(e){let t=e[1]/100,n=e[2]/100,r=1-n,i=r-t,s=0;return i<1&&(s=(r-i)/(1-i)),[e[0],i*100,s*100]};F.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};F.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};F.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};F.gray.hsl=function(e){return[0,0,e[0]]};F.gray.hsv=F.gray.hsl;F.gray.hwb=function(e){return[0,100,e[0]]};F.gray.cmyk=function(e){return[0,0,0,e[0]]};F.gray.lab=function(e){return[e[0],0,0]};F.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r};F.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}});var kl=it((Nb,Nl)=>{b();var Vr=lo();function em(){let e={},t=Object.keys(Vr);for(let n=t.length,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}function tm(e){let t=em(),n=[e];for(t[e].distance=0;n.length;){let r=n.pop(),i=Object.keys(Vr[r]);for(let s=i.length,o=0;o<s;o++){let a=i[o],l=t[a];l.distance===-1&&(l.distance=t[r].distance+1,l.parent=r,n.unshift(a))}}return t}function nm(e,t){return function(n){return t(e(n))}}function rm(e,t){let n=[t[e].parent,e],r=Vr[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)n.unshift(t[i].parent),r=nm(Vr[t[i].parent][i],r),i=t[i].parent;return r.conversion=n,r}Nl.exports=function(e){let t=tm(e),n={},r=Object.keys(t);for(let i=r.length,s=0;s<i;s++){let o=r[s];t[o].parent!==null&&(n[o]=rm(o,t))}return n}});var Ul=it((kb,Rl)=>{b();var co=lo(),im=kl(),jn={},om=Object.keys(co);function sm(e){let t=function(...n){let r=n[0];return r==null?r:(r.length>1&&(n=r),e(n))};return"conversion"in e&&(t.conversion=e.conversion),t}function am(e){let t=function(...n){let r=n[0];if(r==null)return r;r.length>1&&(n=r);let i=e(n);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}om.forEach(e=>{jn[e]={},Object.defineProperty(jn[e],"channels",{value:co[e].channels}),Object.defineProperty(jn[e],"labels",{value:co[e].labels});let t=im(e);Object.keys(t).forEach(r=>{let i=t[r];jn[e][r]=am(i),jn[e][r].raw=sm(i)})});Rl.exports=jn});var ql=it((Rb,Gl)=>{"use strict";b();var $l=(e,t)=>(...n)=>`\x1B[${e(...n)+t}m`,Wl=(e,t)=>(...n)=>{let r=e(...n);return`\x1B[${38+t};5;${r}m`},Bl=(e,t)=>(...n)=>{let r=e(...n);return`\x1B[${38+t};2;${r[0]};${r[1]};${r[2]}m`},Kr=e=>e,Hl=(e,t,n)=>[e,t,n],Pn=(e,t,n)=>{Object.defineProperty(e,t,{get:()=>{let r=n();return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0}),r},enumerable:!0,configurable:!0})},fo,In=(e,t,n,r)=>{fo===void 0&&(fo=Ul());let i=r?10:0,s={};for(let[o,a]of Object.entries(fo)){let l=o==="ansi16"?"ansi":o;o===t?s[l]=e(n,i):typeof a=="object"&&(s[l]=e(a[t],i))}return s};function lm(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(let[n,r]of Object.entries(t)){for(let[i,s]of Object.entries(r))t[i]={open:`\x1B[${s[0]}m`,close:`\x1B[${s[1]}m`},r[i]=t[i],e.set(s[0],s[1]);Object.defineProperty(t,n,{value:r,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="\x1B[39m",t.bgColor.close="\x1B[49m",Pn(t.color,"ansi",()=>In($l,"ansi16",Kr,!1)),Pn(t.color,"ansi256",()=>In(Wl,"ansi256",Kr,!1)),Pn(t.color,"ansi16m",()=>In(Bl,"rgb",Hl,!1)),Pn(t.bgColor,"ansi",()=>In($l,"ansi16",Kr,!0)),Pn(t.bgColor,"ansi256",()=>In(Wl,"ansi256",Kr,!0)),Pn(t.bgColor,"ansi16m",()=>In(Bl,"rgb",Hl,!0)),t}Object.defineProperty(Gl,"exports",{enumerable:!0,get:lm})});var zl=it((Ub,Yl)=>{"use strict";b();Yl.exports=(e,t=process.argv)=>{let n=e.startsWith("-")?"":e.length===1?"-":"--",r=t.indexOf(n+e),i=t.indexOf("--");return r!==-1&&(i===-1||r<i)}});var Ql=it(($b,Kl)=>{"use strict";b();var cm=require("os"),Vl=require("tty"),rt=zl(),{env:Me}=process,Nt;rt("no-color")||rt("no-colors")||rt("color=false")||rt("color=never")?Nt=0:(rt("color")||rt("colors")||rt("color=true")||rt("color=always"))&&(Nt=1);"FORCE_COLOR"in Me&&(Me.FORCE_COLOR==="true"?Nt=1:Me.FORCE_COLOR==="false"?Nt=0:Nt=Me.FORCE_COLOR.length===0?1:Math.min(parseInt(Me.FORCE_COLOR,10),3));function uo(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function po(e,t){if(Nt===0)return 0;if(rt("color=16m")||rt("color=full")||rt("color=truecolor"))return 3;if(rt("color=256"))return 2;if(e&&!t&&Nt===void 0)return 0;let n=Nt||0;if(Me.TERM==="dumb")return n;if(process.platform==="win32"){let r=cm.release().split(".");return Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in Me)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(r=>r in Me)||Me.CI_NAME==="codeship"?1:n;if("TEAMCITY_VERSION"in Me)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Me.TEAMCITY_VERSION)?1:0;if(Me.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Me){let r=parseInt((Me.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Me.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Me.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Me.TERM)||"COLORTERM"in Me?1:n}function fm(e){let t=po(e,e&&e.isTTY);return uo(t)}Kl.exports={supportsColor:fm,stdout:uo(po(!0,Vl.isatty(1))),stderr:uo(po(!0,Vl.isatty(2)))}});var Xl=it((Wb,Jl)=>{"use strict";b();var um=(e,t,n)=>{let r=e.indexOf(t);if(r===-1)return e;let i=t.length,s=0,o="";do o+=e.substr(s,r-s)+t+n,s=r+i,r=e.indexOf(t,s);while(r!==-1);return o+=e.substr(s),o},dm=(e,t,n,r)=>{let i=0,s="";do{let o=e[r-1]==="\r";s+=e.substr(i,(o?r-1:r)-i)+t+(o?`\r
`:`
`)+n,i=r+1,r=e.indexOf(`
`,i)}while(r!==-1);return s+=e.substr(i),s};Jl.exports={stringReplaceAll:um,stringEncaseCRLFWithFirstIndex:dm}});var rc=it((Bb,nc)=>{"use strict";b();var pm=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,Zl=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,hm=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,mm=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,gm=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function tc(e){let t=e[0]==="u",n=e[1]==="{";return t&&!n&&e.length===5||e[0]==="x"&&e.length===3?String.fromCharCode(parseInt(e.slice(1),16)):t&&n?String.fromCodePoint(parseInt(e.slice(2,-1),16)):gm.get(e)||e}function bm(e,t){let n=[],r=t.trim().split(/\s*,\s*/g),i;for(let s of r){let o=Number(s);if(!Number.isNaN(o))n.push(o);else if(i=s.match(hm))n.push(i[2].replace(mm,(a,l,c)=>l?tc(l):c));else throw new Error(`Invalid Chalk template style argument: ${s} (in style '${e}')`)}return n}function ym(e){Zl.lastIndex=0;let t=[],n;for(;(n=Zl.exec(e))!==null;){let r=n[1];if(n[2]){let i=bm(r,n[2]);t.push([r].concat(i))}else t.push([r])}return t}function ec(e,t){let n={};for(let i of t)for(let s of i.styles)n[s[0]]=i.inverse?null:s.slice(1);let r=e;for(let[i,s]of Object.entries(n))if(!!Array.isArray(s)){if(!(i in r))throw new Error(`Unknown Chalk style: ${i}`);r=s.length>0?r[i](...s):r[i]}return r}nc.exports=(e,t)=>{let n=[],r=[],i=[];if(t.replace(pm,(s,o,a,l,c,f)=>{if(o)i.push(tc(o));else if(l){let u=i.join("");i=[],r.push(n.length===0?u:ec(e,n)(u)),n.push({inverse:a,styles:ym(l)})}else if(c){if(n.length===0)throw new Error("Found extraneous } in Chalk template literal");r.push(ec(e,n)(i.join(""))),i=[],n.pop()}else i.push(f)}),r.push(i.join("")),n.length>0){let s=`Chalk template literal is missing ${n.length} closing bracket${n.length===1?"":"s"} (\`}\`)`;throw new Error(s)}return r.join("")}});var fc=it((Hb,cc)=>{"use strict";b();var tr=ql(),{stdout:mo,stderr:go}=Ql(),{stringReplaceAll:wm,stringEncaseCRLFWithFirstIndex:Am}=Xl(),{isArray:Qr}=Array,oc=["ansi","ansi","ansi256","ansi16m"],Mn=Object.create(null),xm=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let n=mo?mo.level:0;e.level=t.level===void 0?n:t.level},bo=class{constructor(t){return sc(t)}},sc=e=>{let t={};return xm(t,e),t.template=(...n)=>lc(t.template,...n),Object.setPrototypeOf(t,Jr.prototype),Object.setPrototypeOf(t.template,t),t.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},t.template.Instance=bo,t.template};function Jr(e){return sc(e)}for(let[e,t]of Object.entries(tr))Mn[e]={get(){let n=Xr(this,yo(t.open,t.close,this._styler),this._isEmpty);return Object.defineProperty(this,e,{value:n}),n}};Mn.visible={get(){let e=Xr(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:e}),e}};var ac=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(let e of ac)Mn[e]={get(){let{level:t}=this;return function(...n){let r=yo(tr.color[oc[t]][e](...n),tr.color.close,this._styler);return Xr(this,r,this._isEmpty)}}};for(let e of ac){let t="bg"+e[0].toUpperCase()+e.slice(1);Mn[t]={get(){let{level:n}=this;return function(...r){let i=yo(tr.bgColor[oc[n]][e](...r),tr.bgColor.close,this._styler);return Xr(this,i,this._isEmpty)}}}}var Cm=Object.defineProperties(()=>{},{...Mn,level:{enumerable:!0,get(){return this._generator.level},set(e){this._generator.level=e}}}),yo=(e,t,n)=>{let r,i;return n===void 0?(r=e,i=t):(r=n.openAll+e,i=t+n.closeAll),{open:e,close:t,openAll:r,closeAll:i,parent:n}},Xr=(e,t,n)=>{let r=(...i)=>Qr(i[0])&&Qr(i[0].raw)?ic(r,lc(r,...i)):ic(r,i.length===1?""+i[0]:i.join(" "));return Object.setPrototypeOf(r,Cm),r._generator=e,r._styler=t,r._isEmpty=n,r},ic=(e,t)=>{if(e.level<=0||!t)return e._isEmpty?"":t;let n=e._styler;if(n===void 0)return t;let{openAll:r,closeAll:i}=n;if(t.indexOf("\x1B")!==-1)for(;n!==void 0;)t=wm(t,n.close,n.open),n=n.parent;let s=t.indexOf(`
`);return s!==-1&&(t=Am(t,i,r,s)),r+t+i},ho,lc=(e,...t)=>{let[n]=t;if(!Qr(n)||!Qr(n.raw))return t.join(" ");let r=t.slice(1),i=[n.raw[0]];for(let s=1;s<n.length;s++)i.push(String(r[s-1]).replace(/[{}\\]/g,"\\$&"),String(n.raw[s]));return ho===void 0&&(ho=rc()),ho(e,i.join(""))};Object.defineProperties(Jr.prototype,Mn);var Zr=Jr();Zr.supportsColor=mo;Zr.stderr=Jr({level:go?go.level:0});Zr.stderr.supportsColor=go;cc.exports=Zr});var Em={};lf(Em,{readContextPackage:()=>me,uniformCLI:()=>vm,writeContextPackage:()=>at});module.exports=cf(Em);b();b();b();var hr=require("assert");b();b();var df={right:bf,center:yf},pf=0,ar=1,hf=2,lr=3,si=class{constructor(t){var n;this.width=t.width,this.wrap=(n=t.wrap)!==null&&n!==void 0?n:!0,this.rows=[]}span(...t){let n=this.div(...t);n.span=!0}resetOutput(){this.rows=[]}div(...t){if(t.length===0&&this.div(""),this.wrap&&this.shouldApplyLayoutDSL(...t)&&typeof t[0]=="string")return this.applyLayoutDSL(t[0]);let n=t.map(r=>typeof r=="string"?this.colFromString(r):r);return this.rows.push(n),n}shouldApplyLayoutDSL(...t){return t.length===1&&typeof t[0]=="string"&&/[\t\n]/.test(t[0])}applyLayoutDSL(t){let n=t.split(`
`).map(i=>i.split("	")),r=0;return n.forEach(i=>{i.length>1&&Ve.stringWidth(i[0])>r&&(r=Math.min(Math.floor(this.width*.5),Ve.stringWidth(i[0])))}),n.forEach(i=>{this.div(...i.map((s,o)=>({text:s.trim(),padding:this.measurePadding(s),width:o===0&&i.length>1?r:void 0})))}),this.rows[this.rows.length-1]}colFromString(t){return{text:t,padding:this.measurePadding(t)}}measurePadding(t){let n=Ve.stripAnsi(t);return[0,n.match(/\s*$/)[0].length,0,n.match(/^\s*/)[0].length]}toString(){let t=[];return this.rows.forEach(n=>{this.rowToString(n,t)}),t.filter(n=>!n.hidden).map(n=>n.text).join(`
`)}rowToString(t,n){return this.rasterize(t).forEach((r,i)=>{let s="";r.forEach((o,a)=>{let{width:l}=t[a],c=this.negatePadding(t[a]),f=o;c>Ve.stringWidth(o)&&(f+=" ".repeat(c-Ve.stringWidth(o))),t[a].align&&t[a].align!=="left"&&this.wrap&&(f=df[t[a].align](f,c),Ve.stringWidth(f)<c&&(f+=" ".repeat((l||0)-Ve.stringWidth(f)-1)));let u=t[a].padding||[0,0,0,0];u[lr]&&(s+=" ".repeat(u[lr])),s+=Oo(t[a],f,"| "),s+=f,s+=Oo(t[a],f," |"),u[ar]&&(s+=" ".repeat(u[ar])),i===0&&n.length>0&&(s=this.renderInline(s,n[n.length-1]))}),n.push({text:s.replace(/ +$/,""),span:t.span})}),n}renderInline(t,n){let r=t.match(/^ */),i=r?r[0].length:0,s=n.text,o=Ve.stringWidth(s.trimRight());return n.span?this.wrap?i<o?t:(n.hidden=!0,s.trimRight()+" ".repeat(i-o)+t.trimLeft()):(n.hidden=!0,s+t):t}rasterize(t){let n=[],r=this.columnWidths(t),i;return t.forEach((s,o)=>{s.width=r[o],this.wrap?i=Ve.wrap(s.text,this.negatePadding(s),{hard:!0}).split(`
`):i=s.text.split(`
`),s.border&&(i.unshift("."+"-".repeat(this.negatePadding(s)+2)+"."),i.push("'"+"-".repeat(this.negatePadding(s)+2)+"'")),s.padding&&(i.unshift(...new Array(s.padding[pf]||0).fill("")),i.push(...new Array(s.padding[hf]||0).fill(""))),i.forEach((a,l)=>{n[l]||n.push([]);let c=n[l];for(let f=0;f<o;f++)c[f]===void 0&&c.push("");c.push(a)})}),n}negatePadding(t){let n=t.width||0;return t.padding&&(n-=(t.padding[lr]||0)+(t.padding[ar]||0)),t.border&&(n-=4),n}columnWidths(t){if(!this.wrap)return t.map(o=>o.width||Ve.stringWidth(o.text));let n=t.length,r=this.width,i=t.map(o=>{if(o.width)return n--,r-=o.width,o.width}),s=n?Math.floor(r/n):0;return i.map((o,a)=>o===void 0?Math.max(s,mf(t[a])):o)}};function Oo(e,t,n){return e.border?/[.']-+[.']/.test(t)?"":t.trim().length!==0?n:"  ":""}function mf(e){let t=e.padding||[],n=1+(t[lr]||0)+(t[ar]||0);return e.border?n+4:n}function gf(){return typeof process=="object"&&process.stdout&&process.stdout.columns?process.stdout.columns:80}function bf(e,t){e=e.trim();let n=Ve.stringWidth(e);return n<t?" ".repeat(t-n)+e:e}function yf(e,t){e=e.trim();let n=Ve.stringWidth(e);return n>=t?e:" ".repeat(t-n>>1)+e}var Ve;function vo(e,t){return Ve=t,new si({width:(e==null?void 0:e.width)||gf(),wrap:e==null?void 0:e.wrap})}b();var Eo=new RegExp("\x1B(?:\\[(?:\\d+[ABCDEFGJKSTm]|\\d+;\\d+[Hfm]|\\d+;\\d+;\\d+m|6n|s|u|\\?25[lh])|\\w)","g");function ai(e){return e.replace(Eo,"")}function _o(e,t){let[n,r]=e.match(Eo)||["",""];e=ai(e);let i="";for(let s=0;s<e.length;s++)s!==0&&s%t===0&&(i+=`
`),i+=e.charAt(s);return n&&r&&(i=`${n}${i}${r}`),i}function li(e){return vo(e,{stringWidth:t=>[...t].length,stripAnsi:ai,wrap:_o})}b();var fn=require("path"),cr=require("fs");function So(e,t){let n=(0,fn.resolve)(".",e),r;for((0,cr.statSync)(n).isDirectory()||(n=(0,fn.dirname)(n));;){if(r=t(n,(0,cr.readdirSync)(n)),r)return(0,fn.resolve)(n,r);if(n=(0,fn.dirname)(r=n),r===n)break}}var Bo=require("util"),Ho=require("fs"),Go=require("url");b();var Mo=require("util"),pr=require("path");b();function Ht(e){if(e!==e.toLowerCase()&&e!==e.toUpperCase()||(e=e.toLowerCase()),e.indexOf("-")===-1&&e.indexOf("_")===-1)return e;{let n="",r=!1,i=e.match(/^-+/);for(let s=i?i[0].length:0;s<e.length;s++){let o=e.charAt(s);r&&(r=!1,o=o.toUpperCase()),s!==0&&(o==="-"||o==="_")?r=!0:o!=="-"&&o!=="_"&&(n+=o)}return n}}function fr(e,t){let n=e.toLowerCase();t=t||"-";let r="";for(let i=0;i<e.length;i++){let s=n.charAt(i),o=e.charAt(i);s!==o&&i>0?r+=`${t}${n.charAt(i)}`:r+=o}return r}function ur(e){return e==null?!1:typeof e=="number"||/^0x[0-9a-f]+$/i.test(e)?!0:/^0[^.]/.test(e)?!1:/^[-]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}b();b();function jo(e){if(Array.isArray(e))return e.map(o=>typeof o!="string"?o+"":o);e=e.trim();let t=0,n=null,r=null,i=null,s=[];for(let o=0;o<e.length;o++){if(n=r,r=e.charAt(o),r===" "&&!i){n!==" "&&t++;continue}r===i?i=null:(r==="'"||r==='"')&&!i&&(i=r),s[t]||(s[t]=""),s[t]+=r}return s}b();var Xe;(function(e){e.BOOLEAN="boolean",e.STRING="string",e.NUMBER="number",e.ARRAY="array"})(Xe||(Xe={}));var ht,dr=class{constructor(t){ht=t}parse(t,n){let r=Object.assign({alias:void 0,array:void 0,boolean:void 0,config:void 0,configObjects:void 0,configuration:void 0,coerce:void 0,count:void 0,default:void 0,envPrefix:void 0,narg:void 0,normalize:void 0,string:void 0,number:void 0,__:void 0,key:void 0},n),i=jo(t),s=typeof t=="string",o=wf(Object.assign(Object.create(null),r.alias)),a=Object.assign({"boolean-negation":!0,"camel-case-expansion":!0,"combine-arrays":!1,"dot-notation":!0,"duplicate-arguments-array":!0,"flatten-duplicate-arrays":!0,"greedy-arrays":!0,"halt-at-non-option":!1,"nargs-eats-options":!1,"negation-prefix":"no-","parse-numbers":!0,"parse-positional-numbers":!0,"populate--":!1,"set-placeholder-key":!1,"short-option-groups":!0,"strip-aliased":!1,"strip-dashed":!1,"unknown-options-as-args":!1},r.configuration),l=Object.assign(Object.create(null),r.default),c=r.configObjects||[],f=r.envPrefix,u=a["populate--"],d=u?"--":"_",p=Object.create(null),y=Object.create(null),g=r.__||ht.format,m={aliases:Object.create(null),arrays:Object.create(null),bools:Object.create(null),strings:Object.create(null),numbers:Object.create(null),counts:Object.create(null),normalize:Object.create(null),configs:Object.create(null),nargs:Object.create(null),coercions:Object.create(null),keys:[]},v=/^-([0-9]+(\.[0-9]+)?|\.[0-9]+)$/,E=new RegExp("^--"+a["negation-prefix"]+"(.+)");[].concat(r.array||[]).filter(Boolean).forEach(function(w){let x=typeof w=="object"?w.key:w,_=Object.keys(w).map(function(C){return{boolean:"bools",string:"strings",number:"numbers"}[C]}).filter(Boolean).pop();_&&(m[_][x]=!0),m.arrays[x]=!0,m.keys.push(x)}),[].concat(r.boolean||[]).filter(Boolean).forEach(function(w){m.bools[w]=!0,m.keys.push(w)}),[].concat(r.string||[]).filter(Boolean).forEach(function(w){m.strings[w]=!0,m.keys.push(w)}),[].concat(r.number||[]).filter(Boolean).forEach(function(w){m.numbers[w]=!0,m.keys.push(w)}),[].concat(r.count||[]).filter(Boolean).forEach(function(w){m.counts[w]=!0,m.keys.push(w)}),[].concat(r.normalize||[]).filter(Boolean).forEach(function(w){m.normalize[w]=!0,m.keys.push(w)}),typeof r.narg=="object"&&Object.entries(r.narg).forEach(([w,x])=>{typeof x=="number"&&(m.nargs[w]=x,m.keys.push(w))}),typeof r.coerce=="object"&&Object.entries(r.coerce).forEach(([w,x])=>{typeof x=="function"&&(m.coercions[w]=x,m.keys.push(w))}),typeof r.config!="undefined"&&(Array.isArray(r.config)||typeof r.config=="string"?[].concat(r.config).filter(Boolean).forEach(function(w){m.configs[w]=!0}):typeof r.config=="object"&&Object.entries(r.config).forEach(([w,x])=>{(typeof x=="boolean"||typeof x=="function")&&(m.configs[w]=x)})),Dn(r.key,o,r.default,m.arrays),Object.keys(l).forEach(function(w){(m.aliases[w]||[]).forEach(function(x){l[x]=l[w]})});let R=null;oi();let V=[],Q=Object.assign(Object.create(null),{_:[]}),z={};for(let w=0;w<i.length;w++){let x=i[w],_=x.replace(/^-{3,}/,"---"),C,A,M,j,$,je;if(x!=="--"&&re(x))U(x);else if(_.match(/---+(=|$)/)){U(x);continue}else if(x.match(/^--.+=/)||!a["short-option-groups"]&&x.match(/^-.+=/))j=x.match(/^--?([^=]+)=([\s\S]*)$/),j!==null&&Array.isArray(j)&&j.length>=3&&(B(j[1],m.arrays)?w=ne(w,j[1],i,j[2]):B(j[1],m.nargs)!==!1?w=X(w,j[1],i,j[2]):q(j[1],j[2],!0));else if(x.match(E)&&a["boolean-negation"])j=x.match(E),j!==null&&Array.isArray(j)&&j.length>=2&&(A=j[1],q(A,B(A,m.arrays)?[!1]:!1));else if(x.match(/^--.+/)||!a["short-option-groups"]&&x.match(/^-[^-]+/))j=x.match(/^--?(.+)/),j!==null&&Array.isArray(j)&&j.length>=2&&(A=j[1],B(A,m.arrays)?w=ne(w,A,i):B(A,m.nargs)!==!1?w=X(w,A,i):($=i[w+1],$!==void 0&&(!$.match(/^-/)||$.match(v))&&!B(A,m.bools)&&!B(A,m.counts)||/^(true|false)$/.test($)?(q(A,$),w++):q(A,J(A))));else if(x.match(/^-.\..+=/))j=x.match(/^-([^=]+)=([\s\S]*)$/),j!==null&&Array.isArray(j)&&j.length>=3&&q(j[1],j[2]);else if(x.match(/^-.\..+/)&&!x.match(v))$=i[w+1],j=x.match(/^-(.\..+)/),j!==null&&Array.isArray(j)&&j.length>=2&&(A=j[1],$!==void 0&&!$.match(/^-/)&&!B(A,m.bools)&&!B(A,m.counts)?(q(A,$),w++):q(A,J(A)));else if(x.match(/^-[^-]+/)&&!x.match(v)){M=x.slice(1,-1).split(""),C=!1;for(let Ne=0;Ne<M.length;Ne++){if($=x.slice(Ne+2),M[Ne+1]&&M[Ne+1]==="="){je=x.slice(Ne+3),A=M[Ne],B(A,m.arrays)?w=ne(w,A,i,je):B(A,m.nargs)!==!1?w=X(w,A,i,je):q(A,je),C=!0;break}if($==="-"){q(M[Ne],$);continue}if(/[A-Za-z]/.test(M[Ne])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test($)&&B($,m.bools)===!1){q(M[Ne],$),C=!0;break}if(M[Ne+1]&&M[Ne+1].match(/\W/)){q(M[Ne],$),C=!0;break}else q(M[Ne],J(M[Ne]))}A=x.slice(-1)[0],!C&&A!=="-"&&(B(A,m.arrays)?w=ne(w,A,i):B(A,m.nargs)!==!1?w=X(w,A,i):($=i[w+1],$!==void 0&&(!/^(-|--)[^-]/.test($)||$.match(v))&&!B(A,m.bools)&&!B(A,m.counts)||/^(true|false)$/.test($)?(q(A,$),w++):q(A,J(A))))}else if(x.match(/^-[0-9]$/)&&x.match(v)&&B(x.slice(1),m.bools))A=x.slice(1),q(A,J(A));else if(x==="--"){V=i.slice(w+1);break}else if(a["halt-at-non-option"]){V=i.slice(w);break}else U(x)}ge(Q,!0),ge(Q,!1),L(Q),te(),wt(Q,m.aliases,l,!0),ee(Q),a["set-placeholder-key"]&&ve(Q),Object.keys(m.counts).forEach(function(w){oe(Q,w.split("."))||q(w,0)}),u&&V.length&&(Q[d]=[]),V.forEach(function(w){Q[d].push(w)}),a["camel-case-expansion"]&&a["strip-dashed"]&&Object.keys(Q).filter(w=>w!=="--"&&w.includes("-")).forEach(w=>{delete Q[w]}),a["strip-aliased"]&&[].concat(...Object.keys(o).map(w=>o[w])).forEach(w=>{a["camel-case-expansion"]&&w.includes("-")&&delete Q[w.split(".").map(x=>Ht(x)).join(".")],delete Q[w]});function U(w){let x=S("_",w);(typeof x=="string"||typeof x=="number")&&Q._.push(x)}function X(w,x,_,C){let A,M=B(x,m.nargs);if(M=typeof M!="number"||isNaN(M)?1:M,M===0)return _e(C)||(R=Error(g("Argument unexpected for: %s",x))),q(x,J(x)),w;let j=_e(C)?0:1;if(a["nargs-eats-options"])_.length-(w+1)+j<M&&(R=Error(g("Not enough arguments following: %s",x))),j=M;else{for(A=w+1;A<_.length&&(!_[A].match(/^-[^0-9]/)||_[A].match(v)||re(_[A]));A++)j++;j<M&&(R=Error(g("Not enough arguments following: %s",x)))}let $=Math.min(j,M);for(!_e(C)&&$>0&&(q(x,C),$--),A=w+1;A<$+w+1;A++)q(x,_[A]);return w+$}function ne(w,x,_,C){let A=[],M=C||_[w+1],j=B(x,m.nargs);if(B(x,m.bools)&&!/^(true|false)$/.test(M))A.push(!0);else if(_e(M)||_e(C)&&/^-/.test(M)&&!v.test(M)&&!re(M)){if(l[x]!==void 0){let $=l[x];A=Array.isArray($)?$:[$]}}else{_e(C)||A.push(T(x,C,!0));for(let $=w+1;$<_.length&&!(!a["greedy-arrays"]&&A.length>0||j&&typeof j=="number"&&A.length>=j||(M=_[$],/^-/.test(M)&&!v.test(M)&&!re(M)));$++)w=$,A.push(T(x,M,s))}return typeof j=="number"&&(j&&A.length<j||isNaN(j)&&A.length===0)&&(R=Error(g("Not enough arguments following: %s",x))),q(x,A),w}function q(w,x,_=s){if(/-/.test(w)&&a["camel-case-expansion"]){let M=w.split(".").map(function(j){return Ht(j)}).join(".");Ye(w,M)}let C=T(w,x,_),A=w.split(".");pt(Q,A,C),m.aliases[w]&&m.aliases[w].forEach(function(M){let j=M.split(".");pt(Q,j,C)}),A.length>1&&a["dot-notation"]&&(m.aliases[A[0]]||[]).forEach(function(M){let j=M.split("."),$=[].concat(A);$.shift(),j=j.concat($),(m.aliases[w]||[]).includes(j.join("."))||pt(Q,j,C)}),B(w,m.normalize)&&!B(w,m.arrays)&&[w].concat(m.aliases[w]||[]).forEach(function(j){Object.defineProperty(z,j,{enumerable:!0,get(){return x},set($){x=typeof $=="string"?ht.normalize($):$}})})}function Ye(w,x){m.aliases[w]&&m.aliases[w].length||(m.aliases[w]=[x],p[x]=!0),m.aliases[x]&&m.aliases[x].length||Ye(x,w)}function T(w,x,_){_&&(x=Af(x)),(B(w,m.bools)||B(w,m.counts))&&typeof x=="string"&&(x=x==="true");let C=Array.isArray(x)?x.map(function(A){return S(w,A)}):S(w,x);return B(w,m.counts)&&(_e(C)||typeof C=="boolean")&&(C=ci()),B(w,m.normalize)&&B(w,m.arrays)&&(Array.isArray(x)?C=x.map(A=>ht.normalize(A)):C=ht.normalize(x)),C}function S(w,x){return!a["parse-positional-numbers"]&&w==="_"||!B(w,m.strings)&&!B(w,m.bools)&&!Array.isArray(x)&&(ur(x)&&a["parse-numbers"]&&Number.isSafeInteger(Math.floor(parseFloat(`${x}`)))||!_e(x)&&B(w,m.numbers))&&(x=Number(x)),x}function L(w){let x=Object.create(null);wt(x,m.aliases,l),Object.keys(m.configs).forEach(function(_){let C=w[_]||x[_];if(C)try{let A=null,M=ht.resolve(ht.cwd(),C),j=m.configs[_];if(typeof j=="function"){try{A=j(M)}catch($){A=$}if(A instanceof Error){R=A;return}}else A=ht.require(M);Y(A)}catch(A){A.name==="PermissionDenied"?R=A:w[_]&&(R=Error(g("Invalid JSON config file: %s",C)))}})}function Y(w,x){Object.keys(w).forEach(function(_){let C=w[_],A=x?x+"."+_:_;typeof C=="object"&&C!==null&&!Array.isArray(C)&&a["dot-notation"]?Y(C,A):(!oe(Q,A.split("."))||B(A,m.arrays)&&a["combine-arrays"])&&q(A,C)})}function te(){typeof c!="undefined"&&c.forEach(function(w){Y(w)})}function ge(w,x){if(typeof f=="undefined")return;let _=typeof f=="string"?f:"",C=ht.env();Object.keys(C).forEach(function(A){if(_===""||A.lastIndexOf(_,0)===0){let M=A.split("__").map(function(j,$){return $===0&&(j=j.substring(_.length)),Ht(j)});(x&&m.configs[M.join(".")]||!x)&&!oe(w,M)&&q(M.join("."),C[A])}})}function ee(w){let x,_=new Set;Object.keys(w).forEach(function(C){if(!_.has(C)&&(x=B(C,m.coercions),typeof x=="function"))try{let A=S(C,x(w[C]));[].concat(m.aliases[C]||[],C).forEach(M=>{_.add(M),w[M]=A})}catch(A){R=A}})}function ve(w){return m.keys.forEach(x=>{~x.indexOf(".")||typeof w[x]=="undefined"&&(w[x]=void 0)}),w}function wt(w,x,_,C=!1){Object.keys(_).forEach(function(A){oe(w,A.split("."))||(pt(w,A.split("."),_[A]),C&&(y[A]=!0),(x[A]||[]).forEach(function(M){oe(w,M.split("."))||pt(w,M.split("."),_[A])}))})}function oe(w,x){let _=w;a["dot-notation"]||(x=[x.join(".")]),x.slice(0,-1).forEach(function(A){_=_[A]||{}});let C=x[x.length-1];return typeof _!="object"?!1:C in _}function pt(w,x,_){let C=w;a["dot-notation"]||(x=[x.join(".")]),x.slice(0,-1).forEach(function(je){je=Po(je),typeof C=="object"&&C[je]===void 0&&(C[je]={}),typeof C[je]!="object"||Array.isArray(C[je])?(Array.isArray(C[je])?C[je].push({}):C[je]=[C[je],{}],C=C[je][C[je].length-1]):C=C[je]});let A=Po(x[x.length-1]),M=B(x.join("."),m.arrays),j=Array.isArray(_),$=a["duplicate-arguments-array"];!$&&B(A,m.nargs)&&($=!0,(!_e(C[A])&&m.nargs[A]===1||Array.isArray(C[A])&&C[A].length===m.nargs[A])&&(C[A]=void 0)),_===ci()?C[A]=ci(C[A]):Array.isArray(C[A])?$&&M&&j?C[A]=a["flatten-duplicate-arrays"]?C[A].concat(_):(Array.isArray(C[A][0])?C[A]:[C[A]]).concat([_]):!$&&Boolean(M)===Boolean(j)?C[A]=_:C[A]=C[A].concat([_]):C[A]===void 0&&M?C[A]=j?_:[_]:$&&!(C[A]===void 0||B(A,m.counts)||B(A,m.bools))?C[A]=[C[A],_]:C[A]=_}function Dn(...w){w.forEach(function(x){Object.keys(x||{}).forEach(function(_){m.aliases[_]||(m.aliases[_]=[].concat(o[_]||[]),m.aliases[_].concat(_).forEach(function(C){if(/-/.test(C)&&a["camel-case-expansion"]){let A=Ht(C);A!==_&&m.aliases[_].indexOf(A)===-1&&(m.aliases[_].push(A),p[A]=!0)}}),m.aliases[_].concat(_).forEach(function(C){if(C.length>1&&/[A-Z]/.test(C)&&a["camel-case-expansion"]){let A=fr(C,"-");A!==_&&m.aliases[_].indexOf(A)===-1&&(m.aliases[_].push(A),p[A]=!0)}}),m.aliases[_].forEach(function(C){m.aliases[C]=[_].concat(m.aliases[_].filter(function(A){return C!==A}))}))})})}function B(w,x){let _=[].concat(m.aliases[w]||[],w),C=Object.keys(x),A=_.find(M=>C.includes(M));return A?x[A]:!1}function cn(w){let x=Object.keys(m);return[].concat(x.map(C=>m[C])).some(function(C){return Array.isArray(C)?C.includes(w):C[w]})}function Ao(w,...x){return[].concat(...x).some(function(C){let A=w.match(C);return A&&cn(A[1])})}function H(w){if(w.match(v)||!w.match(/^-[^-]+/))return!1;let x=!0,_,C=w.slice(1).split("");for(let A=0;A<C.length;A++){if(_=w.slice(A+2),!cn(C[A])){x=!1;break}if(C[A+1]&&C[A+1]==="="||_==="-"||/[A-Za-z]/.test(C[A])&&/^-?\d+(\.\d*)?(e-?\d+)?$/.test(_)||C[A+1]&&C[A+1].match(/\W/))break}return x}function re(w){return a["unknown-options-as-args"]&&Ee(w)}function Ee(w){return w=w.replace(/^-{3,}/,"--"),w.match(v)||H(w)?!1:!Ao(w,/^-+([^=]+?)=[\s\S]*$/,E,/^-+([^=]+?)$/,/^-+([^=]+?)-$/,/^-+([^=]+?\d+)$/,/^-+([^=]+?)\W+.*$/)}function J(w){return!B(w,m.bools)&&!B(w,m.counts)&&`${w}`in l?l[w]:Fe(pe(w))}function Fe(w){return{[Xe.BOOLEAN]:!0,[Xe.STRING]:"",[Xe.NUMBER]:void 0,[Xe.ARRAY]:[]}[w]}function pe(w){let x=Xe.BOOLEAN;return B(w,m.strings)?x=Xe.STRING:B(w,m.numbers)?x=Xe.NUMBER:B(w,m.bools)?x=Xe.BOOLEAN:B(w,m.arrays)&&(x=Xe.ARRAY),x}function _e(w){return w===void 0}function oi(){Object.keys(m.counts).find(w=>B(w,m.arrays)?(R=Error(g("Invalid configuration: %s, opts.count excludes opts.array.",w)),!0):B(w,m.nargs)?(R=Error(g("Invalid configuration: %s, opts.count excludes opts.narg.",w)),!0):!1)}return{aliases:Object.assign({},m.aliases),argv:Object.assign(z,Q),configuration:a,defaulted:Object.assign({},y),error:R,newAliases:Object.assign({},p)}}};function wf(e){let t=[],n=Object.create(null),r=!0;for(Object.keys(e).forEach(function(i){t.push([].concat(e[i],i))});r;){r=!1;for(let i=0;i<t.length;i++)for(let s=i+1;s<t.length;s++)if(t[i].filter(function(a){return t[s].indexOf(a)!==-1}).length){t[i]=t[i].concat(t[s]),t.splice(s,1),r=!0;break}}return t.forEach(function(i){i=i.filter(function(o,a,l){return l.indexOf(o)===a});let s=i.pop();s!==void 0&&typeof s=="string"&&(n[s]=i)}),n}function ci(e){return e!==void 0?e+1:1}function Po(e){return e==="__proto__"?"___proto___":e}function Af(e){return typeof e=="string"&&(e[0]==="'"||e[0]==='"')&&e[e.length-1]===e[0]?e.substring(1,e.length-1):e}var Fo=require("fs");var Io=process&&process.env&&process.env.YARGS_MIN_NODE_VERSION?Number(process.env.YARGS_MIN_NODE_VERSION):12;if(process&&process.version&&Number(process.version.match(/v([^.]+)/)[1])<Io)throw Error(`yargs parser supports a minimum Node.js version of ${Io}. Read our version support policy: https://github.com/yargs/yargs-parser#supported-nodejs-versions`);var xf=process?process.env:{},To=new dr({cwd:process.cwd,env:()=>xf,format:Mo.format,normalize:pr.normalize,resolve:pr.resolve,require:e=>{if(typeof require!="undefined")return require(e);if(e.match(/\.json$/))return JSON.parse((0,Fo.readFileSync)(e,"utf8"));throw Error("only .json config files are supported in ESM")}}),kn=function(t,n){return To.parse(t.slice(),n).argv};kn.detailed=function(e,t){return To.parse(e.slice(),t)};kn.camelCase=Ht;kn.decamelize=fr;kn.looksLikeNumber=ur;var Lo=kn;var st=require("path");b();function Cf(){return Of()?0:1}function Of(){return vf()&&!process.defaultApp}function vf(){return!!process.versions.electron}function Do(){return process.argv[Cf()]}b();var ie=class extends Error{constructor(t){super(t||"yargs error"),this.name="YError",Error.captureStackTrace&&Error.captureStackTrace(this,ie)}};b();b();var un=require("fs"),No=require("util"),ko=require("path"),Ro={fs:{readFileSync:un.readFileSync,writeFile:un.writeFile},format:No.format,resolve:ko.resolve,exists:e=>{try{return(0,un.statSync)(e).isFile()}catch(t){return!1}}};b();var ot,fi=class{constructor(t){t=t||{},this.directory=t.directory||"./locales",this.updateFiles=typeof t.updateFiles=="boolean"?t.updateFiles:!0,this.locale=t.locale||"en",this.fallbackToLanguage=typeof t.fallbackToLanguage=="boolean"?t.fallbackToLanguage:!0,this.cache=Object.create(null),this.writeQueue=[]}__(...t){if(typeof arguments[0]!="string")return this._taggedLiteral(arguments[0],...arguments);let n=t.shift(),r=function(){};return typeof t[t.length-1]=="function"&&(r=t.pop()),r=r||function(){},this.cache[this.locale]||this._readLocaleFile(),!this.cache[this.locale][n]&&this.updateFiles?(this.cache[this.locale][n]=n,this._enqueueWrite({directory:this.directory,locale:this.locale,cb:r})):r(),ot.format.apply(ot.format,[this.cache[this.locale][n]||n].concat(t))}__n(){let t=Array.prototype.slice.call(arguments),n=t.shift(),r=t.shift(),i=t.shift(),s=function(){};typeof t[t.length-1]=="function"&&(s=t.pop()),this.cache[this.locale]||this._readLocaleFile();let o=i===1?n:r;this.cache[this.locale][n]&&(o=this.cache[this.locale][n][i===1?"one":"other"]),!this.cache[this.locale][n]&&this.updateFiles?(this.cache[this.locale][n]={one:n,other:r},this._enqueueWrite({directory:this.directory,locale:this.locale,cb:s})):s();let a=[o];return~o.indexOf("%d")&&a.push(i),ot.format.apply(ot.format,a.concat(t))}setLocale(t){this.locale=t}getLocale(){return this.locale}updateLocale(t){this.cache[this.locale]||this._readLocaleFile();for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(this.cache[this.locale][n]=t[n])}_taggedLiteral(t,...n){let r="";return t.forEach(function(i,s){let o=n[s+1];r+=i,typeof o!="undefined"&&(r+="%s")}),this.__.apply(this,[r].concat([].slice.call(n,1)))}_enqueueWrite(t){this.writeQueue.push(t),this.writeQueue.length===1&&this._processWriteQueue()}_processWriteQueue(){let t=this,n=this.writeQueue[0],r=n.directory,i=n.locale,s=n.cb,o=this._resolveLocaleFile(r,i),a=JSON.stringify(this.cache[i],null,2);ot.fs.writeFile(o,a,"utf-8",function(l){t.writeQueue.shift(),t.writeQueue.length>0&&t._processWriteQueue(),s(l)})}_readLocaleFile(){let t={},n=this._resolveLocaleFile(this.directory,this.locale);try{ot.fs.readFileSync&&(t=JSON.parse(ot.fs.readFileSync(n,"utf-8")))}catch(r){if(r instanceof SyntaxError&&(r.message="syntax error in "+n),r.code==="ENOENT")t={};else throw r}this.cache[this.locale]=t}_resolveLocaleFile(t,n){let r=ot.resolve(t,"./",n+".json");if(this.fallbackToLanguage&&!this._fileExistsSync(r)&&~n.lastIndexOf("_")){let i=ot.resolve(t,"./",n.split("_")[0]+".json");this._fileExistsSync(i)&&(r=i)}return r}_fileExistsSync(t){return ot.exists(t)}};function Uo(e,t){ot=t;let n=new fi(e);return{__:n.__.bind(n),__n:n.__n.bind(n),setLocale:n.setLocale.bind(n),getLocale:n.getLocale.bind(n),updateLocale:n.updateLocale.bind(n),locale:n.locale}}var Ef=e=>Uo(e,Ro),$o=Ef;var _f="require is not supported by ESM",Wo="loading a directory of commands is not supported yet for ESM",Rn;try{Rn=(0,Go.fileURLToPath)(O)}catch(e){Rn=process.cwd()}var Sf=Rn.substring(0,Rn.lastIndexOf("node_modules")),qo={assert:{notStrictEqual:hr.notStrictEqual,strictEqual:hr.strictEqual},cliui:li,findUp:So,getEnv:e=>process.env[e],inspect:Bo.inspect,getCallerFile:()=>{throw new ie(Wo)},getProcessArgvBin:Do,mainFilename:Sf||process.cwd(),Parser:Lo,path:{basename:st.basename,dirname:st.dirname,extname:st.extname,relative:st.relative,resolve:st.resolve},process:{argv:()=>process.argv,cwd:process.cwd,emitWarning:(e,t)=>process.emitWarning(e,t),execPath:()=>process.execPath,exit:process.exit,nextTick:process.nextTick,stdColumns:typeof process.stdout.columns!="undefined"?process.stdout.columns:null},readFileSync:Ho.readFileSync,require:()=>{throw new ie(_f)},requireDirectory:()=>{throw new ie(Wo)},stringWidth:e=>[...e].length,y18n:$o({directory:(0,st.resolve)(Rn,"../../../locales"),updateFiles:!1})};b();b();b();function ke(e,t,n,r){n.assert.notStrictEqual(e,t,r)}function ui(e,t){t.assert.strictEqual(typeof e,"string")}function dn(e){return Object.keys(e)}b();function se(e){return!!e&&!!e.then&&typeof e.then=="function"}b();b();b();function At(e){let n=e.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),r=/\.*[\][<>]/g,i=n.shift();if(!i)throw new Error(`No command found in: ${e}`);let s={cmd:i.replace(r,""),demanded:[],optional:[]};return n.forEach((o,a)=>{let l=!1;o=o.replace(/\s/g,""),/\.+[\]>]/.test(o)&&a===n.length-1&&(l=!0),/^\[/.test(o)?s.optional.push({cmd:o.replace(r,"").split("|"),variadic:l}):s.demanded.push({cmd:o.replace(r,"").split("|"),variadic:l})}),s}var jf=["first","second","third","fourth","fifth","sixth"];function P(e,t,n){function r(){return typeof e=="object"?[{demanded:[],optional:[]},e,t]:[At(`cmd ${e}`),t,n]}try{let i=0,[s,o,a]=r(),l=[].slice.call(o);for(;l.length&&l[l.length-1]===void 0;)l.pop();let c=a||l.length;if(c<s.demanded.length)throw new ie(`Not enough arguments provided. Expected ${s.demanded.length} but received ${l.length}.`);let f=s.demanded.length+s.optional.length;if(c>f)throw new ie(`Too many arguments provided. Expected max ${f} but received ${c}.`);s.demanded.forEach(u=>{let d=l.shift(),p=Yo(d);u.cmd.filter(g=>g===p||g==="*").length===0&&zo(p,u.cmd,i),i+=1}),s.optional.forEach(u=>{if(l.length===0)return;let d=l.shift(),p=Yo(d);u.cmd.filter(g=>g===p||g==="*").length===0&&zo(p,u.cmd,i),i+=1})}catch(i){console.warn(i.stack)}}function Yo(e){return Array.isArray(e)?"array":e===null?"null":typeof e}function zo(e,t,n){throw new ie(`Invalid ${jf[n]||"manyith"} argument. Expected ${t.join(" or ")} but received ${e}.`)}var mr=class{constructor(t){this.globalMiddleware=[],this.frozens=[],this.yargs=t}addMiddleware(t,n,r=!0,i=!1){if(P("<array|function> [boolean] [boolean] [boolean]",[t,n,r],arguments.length),Array.isArray(t)){for(let s=0;s<t.length;s++){if(typeof t[s]!="function")throw Error("middleware must be a function");let o=t[s];o.applyBeforeValidation=n,o.global=r}Array.prototype.push.apply(this.globalMiddleware,t)}else if(typeof t=="function"){let s=t;s.applyBeforeValidation=n,s.global=r,s.mutates=i,this.globalMiddleware.push(t)}return this.yargs}addCoerceMiddleware(t,n){let r=this.yargs.getAliases();return this.globalMiddleware=this.globalMiddleware.filter(i=>{let s=[...r[n]||[],n];return i.option?!s.includes(i.option):!0}),t.option=n,this.addMiddleware(t,!0,!0,!0)}getMiddleware(){return this.globalMiddleware}freeze(){this.frozens.push([...this.globalMiddleware])}unfreeze(){let t=this.frozens.pop();t!==void 0&&(this.globalMiddleware=t)}reset(){this.globalMiddleware=this.globalMiddleware.filter(t=>t.global)}};function Vo(e){return e?e.map(t=>(t.applyBeforeValidation=!1,t)):[]}function Gt(e,t,n,r){return n.reduce((i,s)=>{if(s.applyBeforeValidation!==r)return i;if(s.mutates){if(s.applied)return i;s.applied=!0}if(se(i))return i.then(o=>Promise.all([o,s(o,t)])).then(([o,a])=>Object.assign(o,a));{let o=s(i,t);return se(o)?o.then(a=>Object.assign(i,a)):Object.assign(i,o)}},e)}b();function qt(e,t,n=r=>{throw r}){try{let r=Pf(e)?e():e;return se(r)?r.then(i=>t(i)):t(r)}catch(r){return n(r)}}function Pf(e){return typeof e=="function"}b();function di(e){if(typeof require=="undefined")return null;for(let t=0,n=Object.keys(require.cache),r;t<n.length;t++)if(r=require.cache[n[t]],r.exports===e)return r;return null}var pn=/(^\*)|(^\$0)/,pi=class{constructor(t,n,r,i){this.requireCache=new Set,this.handlers={},this.aliasMap={},this.frozens=[],this.shim=i,this.usage=t,this.globalMiddleware=r,this.validation=n}addDirectory(t,n,r,i){i=i||{},typeof i.recurse!="boolean"&&(i.recurse=!1),Array.isArray(i.extensions)||(i.extensions=["js"]);let s=typeof i.visit=="function"?i.visit:o=>o;i.visit=(o,a,l)=>{let c=s(o,a,l);if(c){if(this.requireCache.has(a))return c;this.requireCache.add(a),this.addHandler(c)}return c},this.shim.requireDirectory({require:n,filename:r},t,i)}addHandler(t,n,r,i,s,o){let a=[],l=Vo(s);if(i=i||(()=>{}),Array.isArray(t))if(If(t))[t,...a]=t;else for(let c of t)this.addHandler(c);else if(Ff(t)){let c=Array.isArray(t.command)||typeof t.command=="string"?t.command:this.moduleName(t);t.aliases&&(c=[].concat(c).concat(t.aliases)),this.addHandler(c,this.extractDesc(t),t.builder,t.handler,t.middlewares,t.deprecated);return}else if(Ko(r)){this.addHandler([t].concat(a),n,r.builder,r.handler,r.middlewares,r.deprecated);return}if(typeof t=="string"){let c=At(t);a=a.map(d=>At(d).cmd);let f=!1,u=[c.cmd].concat(a).filter(d=>pn.test(d)?(f=!0,!1):!0);u.length===0&&f&&u.push("$0"),f&&(c.cmd=u[0],a=u.slice(1),t=t.replace(pn,c.cmd)),a.forEach(d=>{this.aliasMap[d]=c.cmd}),n!==!1&&this.usage.command(t,n,f,a,o),this.handlers[c.cmd]={original:t,description:n,handler:i,builder:r||{},middlewares:l,deprecated:o,demanded:c.demanded,optional:c.optional},f&&(this.defaultCommand=this.handlers[c.cmd])}}getCommandHandlers(){return this.handlers}getCommands(){return Object.keys(this.handlers).concat(Object.keys(this.aliasMap))}hasDefaultCommand(){return!!this.defaultCommand}runCommand(t,n,r,i,s,o){let a=this.handlers[t]||this.handlers[this.aliasMap[t]]||this.defaultCommand,l=n.getInternalMethods().getContext(),c=l.commands.slice(),f=!t;t&&(l.commands.push(t),l.fullCommands.push(a.original));let u=this.applyBuilderUpdateUsageAndParse(f,a,n,r.aliases,c,i,s,o);return se(u)?u.then(d=>this.applyMiddlewareAndGetResult(f,a,d.innerArgv,l,s,d.aliases,n)):this.applyMiddlewareAndGetResult(f,a,u.innerArgv,l,s,u.aliases,n)}applyBuilderUpdateUsageAndParse(t,n,r,i,s,o,a,l){let c=n.builder,f=r;if(gr(c)){let u=c(r.getInternalMethods().reset(i),l);if(se(u))return u.then(d=>(f=Jo(d)?d:r,this.parseAndUpdateUsage(t,n,f,s,o,a)))}else Mf(c)&&(f=r.getInternalMethods().reset(i),Object.keys(n.builder).forEach(u=>{f.option(u,c[u])}));return this.parseAndUpdateUsage(t,n,f,s,o,a)}parseAndUpdateUsage(t,n,r,i,s,o){t&&r.getInternalMethods().getUsageInstance().unfreeze(!0),this.shouldUpdateUsage(r)&&r.getInternalMethods().getUsageInstance().usage(this.usageFromParentCommandsCommandHandler(i,n),n.description);let a=r.getInternalMethods().runYargsParserAndExecuteCommands(null,void 0,!0,s,o);return se(a)?a.then(l=>({aliases:r.parsed.aliases,innerArgv:l})):{aliases:r.parsed.aliases,innerArgv:a}}shouldUpdateUsage(t){return!t.getInternalMethods().getUsageInstance().getUsageDisabled()&&t.getInternalMethods().getUsageInstance().getUsage().length===0}usageFromParentCommandsCommandHandler(t,n){let r=pn.test(n.original)?n.original.replace(pn,"").trim():n.original,i=t.filter(s=>!pn.test(s));return i.push(r),`$0 ${i.join(" ")}`}handleValidationAndGetResult(t,n,r,i,s,o,a,l){if(!o.getInternalMethods().getHasOutput()){let c=o.getInternalMethods().runValidation(s,l,o.parsed.error,t);r=qt(r,f=>(c(f),f))}if(n.handler&&!o.getInternalMethods().getHasOutput()){o.getInternalMethods().setHasOutput();let c=!!o.getOptions().configuration["populate--"];o.getInternalMethods().postProcess(r,c,!1,!1),r=Gt(r,o,a,!1),r=qt(r,f=>{let u=n.handler(f);return se(u)?u.then(()=>f):f}),t||o.getInternalMethods().getUsageInstance().cacheHelpMessage(),se(r)&&!o.getInternalMethods().hasParseCallback()&&r.catch(f=>{try{o.getInternalMethods().getUsageInstance().fail(null,f)}catch(u){}})}return t||(i.commands.pop(),i.fullCommands.pop()),r}applyMiddlewareAndGetResult(t,n,r,i,s,o,a){let l={};if(s)return r;a.getInternalMethods().getHasOutput()||(l=this.populatePositionals(n,r,i,a));let c=this.globalMiddleware.getMiddleware().slice(0).concat(n.middlewares),f=Gt(r,a,c,!0);return se(f)?f.then(u=>this.handleValidationAndGetResult(t,n,u,i,o,a,c,l)):this.handleValidationAndGetResult(t,n,f,i,o,a,c,l)}populatePositionals(t,n,r,i){n._=n._.slice(r.commands.length);let s=t.demanded.slice(0),o=t.optional.slice(0),a={};for(this.validation.positionalCount(s.length,n._.length);s.length;){let l=s.shift();this.populatePositional(l,n,a)}for(;o.length;){let l=o.shift();this.populatePositional(l,n,a)}return n._=r.commands.concat(n._.map(l=>""+l)),this.postProcessPositionals(n,a,this.cmdToParseOptions(t.original),i),a}populatePositional(t,n,r){let i=t.cmd[0];t.variadic?r[i]=n._.splice(0).map(String):n._.length&&(r[i]=[String(n._.shift())])}cmdToParseOptions(t){let n={array:[],default:{},alias:{},demand:{}},r=At(t);return r.demanded.forEach(i=>{let[s,...o]=i.cmd;i.variadic&&(n.array.push(s),n.default[s]=[]),n.alias[s]=o,n.demand[s]=!0}),r.optional.forEach(i=>{let[s,...o]=i.cmd;i.variadic&&(n.array.push(s),n.default[s]=[]),n.alias[s]=o}),n}postProcessPositionals(t,n,r,i){let s=Object.assign({},i.getOptions());s.default=Object.assign(r.default,s.default);for(let c of Object.keys(r.alias))s.alias[c]=(s.alias[c]||[]).concat(r.alias[c]);s.array=s.array.concat(r.array),s.config={};let o=[];if(Object.keys(n).forEach(c=>{n[c].map(f=>{s.configuration["unknown-options-as-args"]&&(s.key[c]=!0),o.push(`--${c}`),o.push(f)})}),!o.length)return;let a=Object.assign({},s.configuration,{"populate--":!1}),l=this.shim.Parser.detailed(o,Object.assign({},s,{configuration:a}));if(l.error)i.getInternalMethods().getUsageInstance().fail(l.error.message,l.error);else{let c=Object.keys(n);Object.keys(n).forEach(f=>{c.push(...l.aliases[f])}),Object.keys(l.argv).forEach(f=>{c.includes(f)&&(n[f]||(n[f]=l.argv[f]),!this.isInConfigs(i,f)&&!this.isDefaulted(i,f)&&Object.prototype.hasOwnProperty.call(t,f)&&Object.prototype.hasOwnProperty.call(l.argv,f)&&(Array.isArray(t[f])||Array.isArray(l.argv[f]))?t[f]=[].concat(t[f],l.argv[f]):t[f]=l.argv[f])})}}isDefaulted(t,n){let{default:r}=t.getOptions();return Object.prototype.hasOwnProperty.call(r,n)||Object.prototype.hasOwnProperty.call(r,this.shim.Parser.camelCase(n))}isInConfigs(t,n){let{configObjects:r}=t.getOptions();return r.some(i=>Object.prototype.hasOwnProperty.call(i,n))||r.some(i=>Object.prototype.hasOwnProperty.call(i,this.shim.Parser.camelCase(n)))}runDefaultBuilderOn(t){if(!this.defaultCommand)return;if(this.shouldUpdateUsage(t)){let r=pn.test(this.defaultCommand.original)?this.defaultCommand.original:this.defaultCommand.original.replace(/^[^[\]<>]*/,"$0 ");t.getInternalMethods().getUsageInstance().usage(r,this.defaultCommand.description)}let n=this.defaultCommand.builder;if(gr(n))return n(t,!0);Ko(n)||Object.keys(n).forEach(r=>{t.option(r,n[r])})}moduleName(t){let n=di(t);if(!n)throw new Error(`No command name given for module: ${this.shim.inspect(t)}`);return this.commandFromFilename(n.filename)}commandFromFilename(t){return this.shim.path.basename(t,this.shim.path.extname(t))}extractDesc({describe:t,description:n,desc:r}){for(let i of[t,n,r]){if(typeof i=="string"||i===!1)return i;ke(i,!0,this.shim)}return!1}freeze(){this.frozens.push({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand})}unfreeze(){let t=this.frozens.pop();ke(t,void 0,this.shim),{handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand}=t}reset(){return this.handlers={},this.aliasMap={},this.defaultCommand=void 0,this.requireCache=new Set,this}};function Qo(e,t,n,r){return new pi(e,t,n,r)}function Ko(e){return typeof e=="object"&&!!e.builder&&typeof e.handler=="function"}function If(e){return e.every(t=>typeof t=="string")}function gr(e){return typeof e=="function"}function Mf(e){return typeof e=="object"}function Ff(e){return typeof e=="object"&&!Array.isArray(e)}b();b();function xt(e={},t=()=>!0){let n={};return dn(e).forEach(r=>{t(r,e[r])&&(n[r]=e[r])}),n}b();function Ct(e){typeof process!="undefined"&&[process.stdout,process.stderr].forEach(t=>{let n=t;n._handle&&n.isTTY&&typeof n._handle.setBlocking=="function"&&n._handle.setBlocking(e)})}function Tf(e){return typeof e=="boolean"}function Zo(e,t){let n=t.y18n.__,r={},i=[];r.failFn=function(S){i.push(S)};let s=null,o=null,a=!0;r.showHelpOnFail=function(S=!0,L){let[Y,te]=typeof S=="string"?[!0,S]:[S,L];return e.getInternalMethods().isGlobalContext()&&(o=te),s=te,a=Y,r};let l=!1;r.fail=function(S,L){let Y=e.getInternalMethods().getLoggerInstance();if(i.length)for(let te=i.length-1;te>=0;--te){let ge=i[te];if(Tf(ge)){if(L)throw L;if(S)throw Error(S)}else ge(S,L,r)}else{if(e.getExitProcess()&&Ct(!0),!l){l=!0,a&&(e.showHelp("error"),Y.error()),(S||L)&&Y.error(S||L);let te=s||o;te&&((S||L)&&Y.error(""),Y.error(te))}if(L=L||new ie(S),e.getExitProcess())return e.exit(1);if(e.getInternalMethods().hasParseCallback())return e.exit(1,L);throw L}};let c=[],f=!1;r.usage=(T,S)=>T===null?(f=!0,c=[],r):(f=!1,c.push([T,S||""]),r),r.getUsage=()=>c,r.getUsageDisabled=()=>f,r.getPositionalGroupName=()=>n("Positionals:");let u=[];r.example=(T,S)=>{u.push([T,S||""])};let d=[];r.command=function(S,L,Y,te,ge=!1){Y&&(d=d.map(ee=>(ee[2]=!1,ee))),d.push([S,L||"",Y,te,ge])},r.getCommands=()=>d;let p={};r.describe=function(S,L){Array.isArray(S)?S.forEach(Y=>{r.describe(Y,L)}):typeof S=="object"?Object.keys(S).forEach(Y=>{r.describe(Y,S[Y])}):p[S]=L},r.getDescriptions=()=>p;let y=[];r.epilog=T=>{y.push(T)};let g=!1,m;r.wrap=T=>{g=!0,m=T};function v(){return g||(m=ne(),g=!0),m}let E="__yargsString__:";r.deferY18nLookup=T=>E+T,r.help=function(){if(Q)return Q;V();let S=e.customScriptName?e.$0:t.path.basename(e.$0),L=e.getDemandedOptions(),Y=e.getDemandedCommands(),te=e.getDeprecatedOptions(),ge=e.getGroups(),ee=e.getOptions(),ve=[];ve=ve.concat(Object.keys(p)),ve=ve.concat(Object.keys(L)),ve=ve.concat(Object.keys(Y)),ve=ve.concat(Object.keys(ee.default)),ve=ve.filter(U),ve=Object.keys(ve.reduce((H,re)=>(re!=="_"&&(H[re]=!0),H),{}));let wt=v(),oe=t.cliui({width:wt,wrap:!!wt});if(!f){if(c.length)c.forEach(H=>{oe.div({text:`${H[0].replace(/\$0/g,S)}`}),H[1]&&oe.div({text:`${H[1]}`,padding:[1,0,0,0]})}),oe.div();else if(d.length){let H=null;Y._?H=`${S} <${n("command")}>
`:H=`${S} [${n("command")}]
`,oe.div(`${H}`)}}if(d.length>1||d.length===1&&!d[0][2]){oe.div(n("Commands:"));let H=e.getInternalMethods().getContext(),re=H.commands.length?`${H.commands.join(" ")} `:"";e.getInternalMethods().getParserConfiguration()["sort-commands"]===!0&&(d=d.sort((J,Fe)=>J[0].localeCompare(Fe[0])));let Ee=S?`${S} `:"";d.forEach(J=>{let Fe=`${Ee}${re}${J[0].replace(/^\$0 ?/,"")}`;oe.span({text:Fe,padding:[0,2,0,2],width:R(d,wt,`${S}${re}`)+4},{text:J[1]});let pe=[];J[2]&&pe.push(`[${n("default")}]`),J[3]&&J[3].length&&pe.push(`[${n("aliases:")} ${J[3].join(", ")}]`),J[4]&&(typeof J[4]=="string"?pe.push(`[${n("deprecated: %s",J[4])}]`):pe.push(`[${n("deprecated")}]`)),pe.length?oe.div({text:pe.join(" "),padding:[0,0,0,2],align:"right"}):oe.div()}),oe.div()}let pt=(Object.keys(ee.alias)||[]).concat(Object.keys(e.parsed.newAliases)||[]);ve=ve.filter(H=>!e.parsed.newAliases[H]&&pt.every(re=>(ee.alias[re]||[]).indexOf(H)===-1));let Dn=n("Options:");ge[Dn]||(ge[Dn]=[]),z(ve,ee.alias,ge,Dn);let B=H=>/^--/.test(br(H)),cn=Object.keys(ge).filter(H=>ge[H].length>0).map(H=>{let re=ge[H].filter(U).map(Ee=>{if(pt.includes(Ee))return Ee;for(let J=0,Fe;(Fe=pt[J])!==void 0;J++)if((ee.alias[Fe]||[]).includes(Ee))return Fe;return Ee});return{groupName:H,normalizedKeys:re}}).filter(({normalizedKeys:H})=>H.length>0).map(({groupName:H,normalizedKeys:re})=>{let Ee=re.reduce((J,Fe)=>(J[Fe]=[Fe].concat(ee.alias[Fe]||[]).map(pe=>H===r.getPositionalGroupName()?pe:(/^[0-9]$/.test(pe)?ee.boolean.includes(Fe)?"-":"--":pe.length>1?"--":"-")+pe).sort((pe,_e)=>B(pe)===B(_e)?0:B(pe)?1:-1).join(", "),J),{});return{groupName:H,normalizedKeys:re,switches:Ee}});if(cn.filter(({groupName:H})=>H!==r.getPositionalGroupName()).some(({normalizedKeys:H,switches:re})=>!H.every(Ee=>B(re[Ee])))&&cn.filter(({groupName:H})=>H!==r.getPositionalGroupName()).forEach(({normalizedKeys:H,switches:re})=>{H.forEach(Ee=>{B(re[Ee])&&(re[Ee]=Lf(re[Ee],4))})}),cn.forEach(({groupName:H,normalizedKeys:re,switches:Ee})=>{oe.div(H),re.forEach(J=>{let Fe=Ee[J],pe=p[J]||"",_e=null;pe.includes(E)&&(pe=n(pe.substring(E.length))),ee.boolean.includes(J)&&(_e=`[${n("boolean")}]`),ee.count.includes(J)&&(_e=`[${n("count")}]`),ee.string.includes(J)&&(_e=`[${n("string")}]`),ee.normalize.includes(J)&&(_e=`[${n("string")}]`),ee.array.includes(J)&&(_e=`[${n("array")}]`),ee.number.includes(J)&&(_e=`[${n("number")}]`);let oi=x=>typeof x=="string"?`[${n("deprecated: %s",x)}]`:`[${n("deprecated")}]`,w=[J in te?oi(te[J]):null,_e,J in L?`[${n("required")}]`:null,ee.choices&&ee.choices[J]?`[${n("choices:")} ${r.stringifiedValues(ee.choices[J])}]`:null,X(ee.default[J],ee.defaultDescription[J])].filter(Boolean).join(" ");oe.span({text:br(Fe),padding:[0,2,0,2+Xo(Fe)],width:R(Ee,wt)+4},pe),w?oe.div({text:w,padding:[0,0,0,2],align:"right"}):oe.div()}),oe.div()}),u.length&&(oe.div(n("Examples:")),u.forEach(H=>{H[0]=H[0].replace(/\$0/g,S)}),u.forEach(H=>{H[1]===""?oe.div({text:H[0],padding:[0,2,0,2]}):oe.div({text:H[0],padding:[0,2,0,2],width:R(u,wt)+4},{text:H[1]})}),oe.div()),y.length>0){let H=y.map(re=>re.replace(/\$0/g,S)).join(`
`);oe.div(`${H}
`)}return oe.toString().replace(/\s*$/,"")};function R(T,S,L){let Y=0;return Array.isArray(T)||(T=Object.values(T).map(te=>[te])),T.forEach(te=>{Y=Math.max(t.stringWidth(L?`${L} ${br(te[0])}`:br(te[0]))+Xo(te[0]),Y)}),S&&(Y=Math.min(Y,parseInt((S*.5).toString(),10))),Y}function V(){let T=e.getDemandedOptions(),S=e.getOptions();(Object.keys(S.alias)||[]).forEach(L=>{S.alias[L].forEach(Y=>{p[Y]&&r.describe(L,p[Y]),Y in T&&e.demandOption(L,T[Y]),S.boolean.includes(Y)&&e.boolean(L),S.count.includes(Y)&&e.count(L),S.string.includes(Y)&&e.string(L),S.normalize.includes(Y)&&e.normalize(L),S.array.includes(Y)&&e.array(L),S.number.includes(Y)&&e.number(L)})})}let Q;r.cacheHelpMessage=function(){Q=this.help()},r.clearCachedHelpMessage=function(){Q=void 0},r.hasCachedHelpMessage=function(){return!!Q};function z(T,S,L,Y){let te=[],ge=null;return Object.keys(L).forEach(ee=>{te=te.concat(L[ee])}),T.forEach(ee=>{ge=[ee].concat(S[ee]),ge.some(ve=>te.indexOf(ve)!==-1)||L[Y].push(ee)}),te}function U(T){return e.getOptions().hiddenOptions.indexOf(T)<0||e.parsed.argv[e.getOptions().showHiddenOpt]}r.showHelp=T=>{let S=e.getInternalMethods().getLoggerInstance();T||(T="error"),(typeof T=="function"?T:S[T])(r.help())},r.functionDescription=T=>{let S=T.name?t.Parser.decamelize(T.name,"-"):n("generated-value");return["(",S,")"].join("")},r.stringifiedValues=function(S,L){let Y="",te=L||", ",ge=[].concat(S);return!S||!ge.length||ge.forEach(ee=>{Y.length&&(Y+=te),Y+=JSON.stringify(ee)}),Y};function X(T,S){let L=`[${n("default:")} `;if(T===void 0&&!S)return null;if(S)L+=S;else switch(typeof T){case"string":L+=`"${T}"`;break;case"object":L+=JSON.stringify(T);break;default:L+=T}return`${L}]`}function ne(){return t.process.stdColumns?Math.min(80,t.process.stdColumns):80}let q=null;r.version=T=>{q=T},r.showVersion=T=>{let S=e.getInternalMethods().getLoggerInstance();T||(T="error"),(typeof T=="function"?T:S[T])(q)},r.reset=function(S){return s=null,l=!1,c=[],f=!1,y=[],u=[],d=[],p=xt(p,L=>!S[L]),r};let Ye=[];return r.freeze=function(){Ye.push({failMessage:s,failureOutput:l,usages:c,usageDisabled:f,epilogs:y,examples:u,commands:d,descriptions:p})},r.unfreeze=function(S=!1){let L=Ye.pop();!L||(S?(p={...L.descriptions,...p},d=[...L.commands,...d],c=[...L.usages,...c],u=[...L.examples,...u],y=[...L.epilogs,...y]):{failMessage:s,failureOutput:l,usages:c,usageDisabled:f,epilogs:y,examples:u,commands:d,descriptions:p}=L)},r}function hi(e){return typeof e=="object"}function Lf(e,t){return hi(e)?{text:e.text,indentation:e.indentation+t}:{text:e,indentation:t}}function Xo(e){return hi(e)?e.indentation:0}function br(e){return hi(e)?e.text:e}b();b();var es=`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc
#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
    local cur_word args type_list

    cur_word="\${COMP_WORDS[COMP_CWORD]}"
    args=("\${COMP_WORDS[@]}")

    # ask yargs to generate completions.
    type_list=$({{app_path}} --get-yargs-completions "\${args[@]}")

    COMPREPLY=( $(compgen -W "\${type_list}" -- \${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ \${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=()
    fi

    return 0
}
complete -o bashdefault -o default -F _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`,ts=`#compdef {{app_name}}
###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc
#    or {{app_path}} {{completion_command}} >> ~/.zprofile on OSX.
#
_{{app_name}}_yargs_completions()
{
  local reply
  local si=$IFS
  IFS=$'
' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "\${words[@]}"))
  IFS=$si
  _describe 'values' reply
}
compdef _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`;var mi=class{constructor(t,n,r,i){var s,o,a;this.yargs=t,this.usage=n,this.command=r,this.shim=i,this.completionKey="get-yargs-completions",this.aliases=null,this.customCompletionFunction=null,this.indexAfterLastReset=0,this.zshShell=(a=((s=this.shim.getEnv("SHELL"))===null||s===void 0?void 0:s.includes("zsh"))||((o=this.shim.getEnv("ZSH_NAME"))===null||o===void 0?void 0:o.includes("zsh")))!==null&&a!==void 0?a:!1}defaultCompletion(t,n,r,i){let s=this.command.getCommandHandlers();for(let a=0,l=t.length;a<l;++a)if(s[t[a]]&&s[t[a]].builder){let c=s[t[a]].builder;if(gr(c)){this.indexAfterLastReset=a+1;let f=this.yargs.getInternalMethods().reset();return c(f,!0),f.argv}}let o=[];this.commandCompletions(o,t,r),this.optionCompletions(o,t,n,r),this.choicesFromOptionsCompletions(o,t,n,r),this.choicesFromPositionalsCompletions(o,t,n,r),i(null,o)}commandCompletions(t,n,r){let i=this.yargs.getInternalMethods().getContext().commands;!r.match(/^-/)&&i[i.length-1]!==r&&!this.previousArgHasChoices(n)&&this.usage.getCommands().forEach(s=>{let o=At(s[0]).cmd;if(n.indexOf(o)===-1)if(!this.zshShell)t.push(o);else{let a=s[1]||"";t.push(o.replace(/:/g,"\\:")+":"+a)}})}optionCompletions(t,n,r,i){if((i.match(/^-/)||i===""&&t.length===0)&&!this.previousArgHasChoices(n)){let s=this.yargs.getOptions(),o=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[];Object.keys(s.key).forEach(a=>{let l=!!s.configuration["boolean-negation"]&&s.boolean.includes(a);!o.includes(a)&&!s.hiddenOptions.includes(a)&&!this.argsContainKey(n,a,l)&&(this.completeOptionKey(a,t,i),l&&!!s.default[a]&&this.completeOptionKey(`no-${a}`,t,i))})}}choicesFromOptionsCompletions(t,n,r,i){if(this.previousArgHasChoices(n)){let s=this.getPreviousArgChoices(n);s&&s.length>0&&t.push(...s.map(o=>o.replace(/:/g,"\\:")))}}choicesFromPositionalsCompletions(t,n,r,i){if(i===""&&t.length>0&&this.previousArgHasChoices(n))return;let s=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[],o=Math.max(this.indexAfterLastReset,this.yargs.getInternalMethods().getContext().commands.length+1),a=s[r._.length-o-1];if(!a)return;let l=this.yargs.getOptions().choices[a]||[];for(let c of l)c.startsWith(i)&&t.push(c.replace(/:/g,"\\:"))}getPreviousArgChoices(t){if(t.length<1)return;let n=t[t.length-1],r="";if(!n.startsWith("-")&&t.length>1&&(r=n,n=t[t.length-2]),!n.startsWith("-"))return;let i=n.replace(/^-+/,""),s=this.yargs.getOptions(),o=[i,...this.yargs.getAliases()[i]||[]],a;for(let l of o)if(Object.prototype.hasOwnProperty.call(s.key,l)&&Array.isArray(s.choices[l])){a=s.choices[l];break}if(a)return a.filter(l=>!r||l.startsWith(r))}previousArgHasChoices(t){let n=this.getPreviousArgChoices(t);return n!==void 0&&n.length>0}argsContainKey(t,n,r){let i=s=>t.indexOf((/^[^0-9]$/.test(s)?"-":"--")+s)!==-1;if(i(n)||r&&i(`no-${n}`))return!0;if(this.aliases){for(let s of this.aliases[n])if(i(s))return!0}return!1}completeOptionKey(t,n,r){let i=this.usage.getDescriptions(),s=l=>/^--/.test(l),o=l=>/^[^0-9]$/.test(l),a=!s(r)&&o(t)?"-":"--";if(!this.zshShell)n.push(a+t);else{let l=i[t]||"";n.push(a+`${t.replace(/:/g,"\\:")}:${l.replace("__yargsString__:","")}`)}}customCompletion(t,n,r,i){if(ke(this.customCompletionFunction,null,this.shim),Nf(this.customCompletionFunction)){let s=this.customCompletionFunction(r,n);return se(s)?s.then(o=>{this.shim.process.nextTick(()=>{i(null,o)})}).catch(o=>{this.shim.process.nextTick(()=>{i(o,void 0)})}):i(null,s)}else return kf(this.customCompletionFunction)?this.customCompletionFunction(r,n,(s=i)=>this.defaultCompletion(t,n,r,s),s=>{i(null,s)}):this.customCompletionFunction(r,n,s=>{i(null,s)})}getCompletion(t,n){let r=t.length?t[t.length-1]:"",i=this.yargs.parse(t,!0),s=this.customCompletionFunction?o=>this.customCompletion(t,o,r,n):o=>this.defaultCompletion(t,o,r,n);return se(i)?i.then(s):s(i)}generateCompletionScript(t,n){let r=this.zshShell?ts:es,i=this.shim.path.basename(t);return t.match(/\.js$/)&&(t=`./${t}`),r=r.replace(/{{app_name}}/g,i),r=r.replace(/{{completion_command}}/g,n),r.replace(/{{app_path}}/g,t)}registerFunction(t){this.customCompletionFunction=t}setParsed(t){this.aliases=t.aliases}};function ns(e,t,n,r){return new mi(e,t,n,r)}function Nf(e){return e.length<3}function kf(e){return e.length>3}b();b();function rs(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;let n=[],r;for(r=0;r<=t.length;r++)n[r]=[r];let i;for(i=0;i<=e.length;i++)n[0][i]=i;for(r=1;r<=t.length;r++)for(i=1;i<=e.length;i++)t.charAt(r-1)===e.charAt(i-1)?n[r][i]=n[r-1][i-1]:r>1&&i>1&&t.charAt(r-2)===e.charAt(i-1)&&t.charAt(r-1)===e.charAt(i-2)?n[r][i]=n[r-2][i-2]+1:n[r][i]=Math.min(n[r-1][i-1]+1,Math.min(n[r][i-1]+1,n[r-1][i]+1));return n[t.length][e.length]}var is=["$0","--","_"];function os(e,t,n){let r=n.y18n.__,i=n.y18n.__n,s={};s.nonOptionCount=function(u){let d=e.getDemandedCommands(),y=u._.length+(u["--"]?u["--"].length:0)-e.getInternalMethods().getContext().commands.length;d._&&(y<d._.min||y>d._.max)&&(y<d._.min?d._.minMsg!==void 0?t.fail(d._.minMsg?d._.minMsg.replace(/\$0/g,y.toString()).replace(/\$1/,d._.min.toString()):null):t.fail(i("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",y,y.toString(),d._.min.toString())):y>d._.max&&(d._.maxMsg!==void 0?t.fail(d._.maxMsg?d._.maxMsg.replace(/\$0/g,y.toString()).replace(/\$1/,d._.max.toString()):null):t.fail(i("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",y,y.toString(),d._.max.toString()))))},s.positionalCount=function(u,d){d<u&&t.fail(i("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",d,d+"",u+""))},s.requiredArguments=function(u,d){let p=null;for(let y of Object.keys(d))(!Object.prototype.hasOwnProperty.call(u,y)||typeof u[y]=="undefined")&&(p=p||{},p[y]=d[y]);if(p){let y=[];for(let m of Object.keys(p)){let v=p[m];v&&y.indexOf(v)<0&&y.push(v)}let g=y.length?`
${y.join(`
`)}`:"";t.fail(i("Missing required argument: %s","Missing required arguments: %s",Object.keys(p).length,Object.keys(p).join(", ")+g))}},s.unknownArguments=function(u,d,p,y,g=!0){var m;let v=e.getInternalMethods().getCommandInstance().getCommands(),E=[],R=e.getInternalMethods().getContext();if(Object.keys(u).forEach(V=>{!is.includes(V)&&!Object.prototype.hasOwnProperty.call(p,V)&&!Object.prototype.hasOwnProperty.call(e.getInternalMethods().getParseContext(),V)&&!s.isValidAndSomeAliasIsNotNew(V,d)&&E.push(V)}),g&&(R.commands.length>0||v.length>0||y)&&u._.slice(R.commands.length).forEach(V=>{v.includes(""+V)||E.push(""+V)}),g){let Q=((m=e.getDemandedCommands()._)===null||m===void 0?void 0:m.max)||0,z=R.commands.length+Q;z<u._.length&&u._.slice(z).forEach(U=>{U=String(U),!R.commands.includes(U)&&!E.includes(U)&&E.push(U)})}E.length&&t.fail(i("Unknown argument: %s","Unknown arguments: %s",E.length,E.map(V=>V.trim()?V:`"${V}"`).join(", ")))},s.unknownCommands=function(u){let d=e.getInternalMethods().getCommandInstance().getCommands(),p=[],y=e.getInternalMethods().getContext();return(y.commands.length>0||d.length>0)&&u._.slice(y.commands.length).forEach(g=>{d.includes(""+g)||p.push(""+g)}),p.length>0?(t.fail(i("Unknown command: %s","Unknown commands: %s",p.length,p.join(", "))),!0):!1},s.isValidAndSomeAliasIsNotNew=function(u,d){if(!Object.prototype.hasOwnProperty.call(d,u))return!1;let p=e.parsed.newAliases;return[u,...d[u]].some(y=>!Object.prototype.hasOwnProperty.call(p,y)||!p[u])},s.limitedChoices=function(u){let d=e.getOptions(),p={};if(!Object.keys(d.choices).length)return;Object.keys(u).forEach(m=>{is.indexOf(m)===-1&&Object.prototype.hasOwnProperty.call(d.choices,m)&&[].concat(u[m]).forEach(v=>{d.choices[m].indexOf(v)===-1&&v!==void 0&&(p[m]=(p[m]||[]).concat(v))})});let y=Object.keys(p);if(!y.length)return;let g=r("Invalid values:");y.forEach(m=>{g+=`
  ${r("Argument: %s, Given: %s, Choices: %s",m,t.stringifiedValues(p[m]),t.stringifiedValues(d.choices[m]))}`}),t.fail(g)};let o={};s.implies=function(u,d){P("<string|object> [array|number|string]",[u,d],arguments.length),typeof u=="object"?Object.keys(u).forEach(p=>{s.implies(p,u[p])}):(e.global(u),o[u]||(o[u]=[]),Array.isArray(d)?d.forEach(p=>s.implies(u,p)):(ke(d,void 0,n),o[u].push(d)))},s.getImplied=function(){return o};function a(f,u){let d=Number(u);return u=isNaN(d)?u:d,typeof u=="number"?u=f._.length>=u:u.match(/^--no-.+/)?(u=u.match(/^--no-(.+)/)[1],u=!Object.prototype.hasOwnProperty.call(f,u)):u=Object.prototype.hasOwnProperty.call(f,u),u}s.implications=function(u){let d=[];if(Object.keys(o).forEach(p=>{let y=p;(o[p]||[]).forEach(g=>{let m=y,v=g;m=a(u,m),g=a(u,g),m&&!g&&d.push(` ${y} -> ${v}`)})}),d.length){let p=`${r("Implications failed:")}
`;d.forEach(y=>{p+=y}),t.fail(p)}};let l={};s.conflicts=function(u,d){P("<string|object> [array|string]",[u,d],arguments.length),typeof u=="object"?Object.keys(u).forEach(p=>{s.conflicts(p,u[p])}):(e.global(u),l[u]||(l[u]=[]),Array.isArray(d)?d.forEach(p=>s.conflicts(u,p)):l[u].push(d))},s.getConflicting=()=>l,s.conflicting=function(u){Object.keys(u).forEach(d=>{l[d]&&l[d].forEach(p=>{p&&u[d]!==void 0&&u[p]!==void 0&&t.fail(r("Arguments %s and %s are mutually exclusive",d,p))})}),e.getInternalMethods().getParserConfiguration()["strip-dashed"]&&Object.keys(l).forEach(d=>{l[d].forEach(p=>{p&&u[n.Parser.camelCase(d)]!==void 0&&u[n.Parser.camelCase(p)]!==void 0&&t.fail(r("Arguments %s and %s are mutually exclusive",d,p))})})},s.recommendCommands=function(u,d){d=d.sort((m,v)=>v.length-m.length);let y=null,g=1/0;for(let m=0,v;(v=d[m])!==void 0;m++){let E=rs(u,v);E<=3&&E<g&&(g=E,y=v)}y&&t.fail(r("Did you mean %s?",y))},s.reset=function(u){return o=xt(o,d=>!u[d]),l=xt(l,d=>!u[d]),s};let c=[];return s.freeze=function(){c.push({implied:o,conflicting:l})},s.unfreeze=function(){let u=c.pop();ke(u,void 0,n),{implied:o,conflicting:l}=u},s}b();var gi=[],Un;function yr(e,t,n,r){Un=r;let i={};if(Object.prototype.hasOwnProperty.call(e,"extends")){if(typeof e.extends!="string")return i;let s=/\.json|\..*rc$/.test(e.extends),o=null;if(s)o=Uf(t,e.extends);else try{o=require.resolve(e.extends)}catch(a){return e}Rf(o),gi.push(o),i=s?JSON.parse(Un.readFileSync(o,"utf8")):require(e.extends),delete e.extends,i=yr(i,Un.path.dirname(o),n,Un)}return gi=[],n?ss(i,e):Object.assign({},i,e)}function Rf(e){if(gi.indexOf(e)>-1)throw new ie(`Circular extended configurations: '${e}'.`)}function Uf(e,t){return Un.path.resolve(e,t)}function ss(e,t){let n={};function r(i){return i&&typeof i=="object"&&!Array.isArray(i)}Object.assign(n,e);for(let i of Object.keys(t))r(t[i])&&r(n[i])?n[i]=ss(e[i],t[i]):n[i]=t[i];return n}var I=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},h=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},he,Yt,$n,Ze,Ke,wr,Ot,zt,Ar,et,xr,tt,lt,Qe,nt,Cr,hn,Pe,D,Or,vr,Je,Vt,mn,Kt,vt,Er,G,Qt,Jt,Xt,K,ct,ce;function Es(e){return(t=[],n=e.process.cwd(),r)=>{let i=new Si(t,n,r,e);return Object.defineProperty(i,"argv",{get:()=>i.parse(),enumerable:!0}),i.help(),i.version(),i}}var as=Symbol("copyDoubleDash"),ls=Symbol("copyDoubleDash"),bi=Symbol("deleteFromParserHintObject"),cs=Symbol("emitWarning"),fs=Symbol("freeze"),us=Symbol("getDollarZero"),Zt=Symbol("getParserConfiguration"),yi=Symbol("guessLocale"),ds=Symbol("guessVersion"),ps=Symbol("parsePositionalNumbers"),wi=Symbol("pkgUp"),Et=Symbol("populateParserHintArray"),gn=Symbol("populateParserHintSingleValueDictionary"),Ai=Symbol("populateParserHintArrayDictionary"),xi=Symbol("populateParserHintDictionary"),Ci=Symbol("sanitizeKey"),Oi=Symbol("setKey"),vi=Symbol("unfreeze"),hs=Symbol("validateAsync"),ms=Symbol("getCommandInstance"),gs=Symbol("getContext"),bs=Symbol("getHasOutput"),ys=Symbol("getLoggerInstance"),ws=Symbol("getParseContext"),As=Symbol("getUsageInstance"),xs=Symbol("getValidationInstance"),_r=Symbol("hasParseCallback"),Cs=Symbol("isGlobalContext"),en=Symbol("postProcess"),Os=Symbol("rebase"),Ei=Symbol("reset"),Wn=Symbol("runYargsParserAndExecuteCommands"),_i=Symbol("runValidation"),vs=Symbol("setHasOutput"),tn=Symbol("kTrackManuallySetKeys"),Si=class{constructor(t=[],n,r,i){this.customScriptName=!1,this.parsed=!1,he.set(this,void 0),Yt.set(this,void 0),$n.set(this,{commands:[],fullCommands:[]}),Ze.set(this,null),Ke.set(this,null),wr.set(this,"show-hidden"),Ot.set(this,null),zt.set(this,!0),Ar.set(this,{}),et.set(this,!0),xr.set(this,[]),tt.set(this,void 0),lt.set(this,{}),Qe.set(this,!1),nt.set(this,null),Cr.set(this,!0),hn.set(this,void 0),Pe.set(this,""),D.set(this,void 0),Or.set(this,void 0),vr.set(this,{}),Je.set(this,null),Vt.set(this,null),mn.set(this,{}),Kt.set(this,{}),vt.set(this,void 0),Er.set(this,!1),G.set(this,void 0),Qt.set(this,!1),Jt.set(this,!1),Xt.set(this,!1),K.set(this,void 0),ct.set(this,null),ce.set(this,void 0),I(this,G,i,"f"),I(this,vt,t,"f"),I(this,Yt,n,"f"),I(this,Or,r,"f"),I(this,tt,new mr(this),"f"),this.$0=this[us](),this[Ei](),I(this,he,h(this,he,"f"),"f"),I(this,K,h(this,K,"f"),"f"),I(this,ce,h(this,ce,"f"),"f"),I(this,D,h(this,D,"f"),"f"),h(this,D,"f").showHiddenOpt=h(this,wr,"f"),I(this,hn,this[ls](),"f")}addHelpOpt(t,n){let r="help";return P("[string|boolean] [string]",[t,n],arguments.length),h(this,nt,"f")&&(this[bi](h(this,nt,"f")),I(this,nt,null,"f")),t===!1&&n===void 0?this:(I(this,nt,typeof t=="string"?t:r,"f"),this.boolean(h(this,nt,"f")),this.describe(h(this,nt,"f"),n||h(this,K,"f").deferY18nLookup("Show help")),this)}help(t,n){return this.addHelpOpt(t,n)}addShowHiddenOpt(t,n){if(P("[string|boolean] [string]",[t,n],arguments.length),t===!1&&n===void 0)return this;let r=typeof t=="string"?t:h(this,wr,"f");return this.boolean(r),this.describe(r,n||h(this,K,"f").deferY18nLookup("Show hidden options")),h(this,D,"f").showHiddenOpt=r,this}showHidden(t,n){return this.addShowHiddenOpt(t,n)}alias(t,n){return P("<object|string|array> [string|array]",[t,n],arguments.length),this[Ai](this.alias.bind(this),"alias",t,n),this}array(t){return P("<array|string>",[t],arguments.length),this[Et]("array",t),this[tn](t),this}boolean(t){return P("<array|string>",[t],arguments.length),this[Et]("boolean",t),this[tn](t),this}check(t,n){return P("<function> [boolean]",[t,n],arguments.length),this.middleware((r,i)=>qt(()=>t(r,i.getOptions()),s=>(s?(typeof s=="string"||s instanceof Error)&&h(this,K,"f").fail(s.toString(),s):h(this,K,"f").fail(h(this,G,"f").y18n.__("Argument check failed: %s",t.toString())),r),s=>(h(this,K,"f").fail(s.message?s.message:s.toString(),s),r)),!1,n),this}choices(t,n){return P("<object|string|array> [string|array]",[t,n],arguments.length),this[Ai](this.choices.bind(this),"choices",t,n),this}coerce(t,n){if(P("<object|string|array> [function]",[t,n],arguments.length),Array.isArray(t)){if(!n)throw new ie("coerce callback must be provided");for(let r of t)this.coerce(r,n);return this}else if(typeof t=="object"){for(let r of Object.keys(t))this.coerce(r,t[r]);return this}if(!n)throw new ie("coerce callback must be provided");return h(this,D,"f").key[t]=!0,h(this,tt,"f").addCoerceMiddleware((r,i)=>{let s;return Object.prototype.hasOwnProperty.call(r,t)?qt(()=>(s=i.getAliases(),n(r[t])),a=>{r[t]=a;let l=i.getInternalMethods().getParserConfiguration()["strip-aliased"];if(s[t]&&l!==!0)for(let c of s[t])r[c]=a;return r},a=>{throw new ie(a.message)}):r},t),this}conflicts(t,n){return P("<string|object> [string|array]",[t,n],arguments.length),h(this,ce,"f").conflicts(t,n),this}config(t="config",n,r){return P("[object|string] [string|function] [function]",[t,n,r],arguments.length),typeof t=="object"&&!Array.isArray(t)?(t=yr(t,h(this,Yt,"f"),this[Zt]()["deep-merge-config"]||!1,h(this,G,"f")),h(this,D,"f").configObjects=(h(this,D,"f").configObjects||[]).concat(t),this):(typeof n=="function"&&(r=n,n=void 0),this.describe(t,n||h(this,K,"f").deferY18nLookup("Path to JSON config file")),(Array.isArray(t)?t:[t]).forEach(i=>{h(this,D,"f").config[i]=r||!0}),this)}completion(t,n,r){return P("[string] [string|boolean|function] [function]",[t,n,r],arguments.length),typeof n=="function"&&(r=n,n=void 0),I(this,Ke,t||h(this,Ke,"f")||"completion","f"),!n&&n!==!1&&(n="generate completion script"),this.command(h(this,Ke,"f"),n),r&&h(this,Ze,"f").registerFunction(r),this}command(t,n,r,i,s,o){return P("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[t,n,r,i,s,o],arguments.length),h(this,he,"f").addHandler(t,n,r,i,s,o),this}commands(t,n,r,i,s,o){return this.command(t,n,r,i,s,o)}commandDir(t,n){P("<string> [object]",[t,n],arguments.length);let r=h(this,Or,"f")||h(this,G,"f").require;return h(this,he,"f").addDirectory(t,r,h(this,G,"f").getCallerFile(),n),this}count(t){return P("<array|string>",[t],arguments.length),this[Et]("count",t),this[tn](t),this}default(t,n,r){return P("<object|string|array> [*] [string]",[t,n,r],arguments.length),r&&(ui(t,h(this,G,"f")),h(this,D,"f").defaultDescription[t]=r),typeof n=="function"&&(ui(t,h(this,G,"f")),h(this,D,"f").defaultDescription[t]||(h(this,D,"f").defaultDescription[t]=h(this,K,"f").functionDescription(n)),n=n.call()),this[gn](this.default.bind(this),"default",t,n),this}defaults(t,n,r){return this.default(t,n,r)}demandCommand(t=1,n,r,i){return P("[number] [number|string] [string|null|undefined] [string|null|undefined]",[t,n,r,i],arguments.length),typeof n!="number"&&(r=n,n=1/0),this.global("_",!1),h(this,D,"f").demandedCommands._={min:t,max:n,minMsg:r,maxMsg:i},this}demand(t,n,r){return Array.isArray(n)?(n.forEach(i=>{ke(r,!0,h(this,G,"f")),this.demandOption(i,r)}),n=1/0):typeof n!="number"&&(r=n,n=1/0),typeof t=="number"?(ke(r,!0,h(this,G,"f")),this.demandCommand(t,n,r,r)):Array.isArray(t)?t.forEach(i=>{ke(r,!0,h(this,G,"f")),this.demandOption(i,r)}):typeof r=="string"?this.demandOption(t,r):(r===!0||typeof r=="undefined")&&this.demandOption(t),this}demandOption(t,n){return P("<object|string|array> [string]",[t,n],arguments.length),this[gn](this.demandOption.bind(this),"demandedOptions",t,n),this}deprecateOption(t,n){return P("<string> [string|boolean]",[t,n],arguments.length),h(this,D,"f").deprecatedOptions[t]=n,this}describe(t,n){return P("<object|string|array> [string]",[t,n],arguments.length),this[Oi](t,!0),h(this,K,"f").describe(t,n),this}detectLocale(t){return P("<boolean>",[t],arguments.length),I(this,zt,t,"f"),this}env(t){return P("[string|boolean]",[t],arguments.length),t===!1?delete h(this,D,"f").envPrefix:h(this,D,"f").envPrefix=t||"",this}epilogue(t){return P("<string>",[t],arguments.length),h(this,K,"f").epilog(t),this}epilog(t){return this.epilogue(t)}example(t,n){return P("<string|array> [string]",[t,n],arguments.length),Array.isArray(t)?t.forEach(r=>this.example(...r)):h(this,K,"f").example(t,n),this}exit(t,n){I(this,Qe,!0,"f"),I(this,Ot,n,"f"),h(this,et,"f")&&h(this,G,"f").process.exit(t)}exitProcess(t=!0){return P("[boolean]",[t],arguments.length),I(this,et,t,"f"),this}fail(t){if(P("<function|boolean>",[t],arguments.length),typeof t=="boolean"&&t!==!1)throw new ie("Invalid first argument. Expected function or boolean 'false'");return h(this,K,"f").failFn(t),this}getAliases(){return this.parsed?this.parsed.aliases:{}}async getCompletion(t,n){return P("<array> [function]",[t,n],arguments.length),n?h(this,Ze,"f").getCompletion(t,n):new Promise((r,i)=>{h(this,Ze,"f").getCompletion(t,(s,o)=>{s?i(s):r(o)})})}getDemandedOptions(){return P([],0),h(this,D,"f").demandedOptions}getDemandedCommands(){return P([],0),h(this,D,"f").demandedCommands}getDeprecatedOptions(){return P([],0),h(this,D,"f").deprecatedOptions}getDetectLocale(){return h(this,zt,"f")}getExitProcess(){return h(this,et,"f")}getGroups(){return Object.assign({},h(this,lt,"f"),h(this,Kt,"f"))}getHelp(){if(I(this,Qe,!0,"f"),!h(this,K,"f").hasCachedHelpMessage()){if(!this.parsed){let n=this[Wn](h(this,vt,"f"),void 0,void 0,0,!0);if(se(n))return n.then(()=>h(this,K,"f").help())}let t=h(this,he,"f").runDefaultBuilderOn(this);if(se(t))return t.then(()=>h(this,K,"f").help())}return Promise.resolve(h(this,K,"f").help())}getOptions(){return h(this,D,"f")}getStrict(){return h(this,Qt,"f")}getStrictCommands(){return h(this,Jt,"f")}getStrictOptions(){return h(this,Xt,"f")}global(t,n){return P("<string|array> [boolean]",[t,n],arguments.length),t=[].concat(t),n!==!1?h(this,D,"f").local=h(this,D,"f").local.filter(r=>t.indexOf(r)===-1):t.forEach(r=>{h(this,D,"f").local.includes(r)||h(this,D,"f").local.push(r)}),this}group(t,n){P("<string|array> <string>",[t,n],arguments.length);let r=h(this,Kt,"f")[n]||h(this,lt,"f")[n];h(this,Kt,"f")[n]&&delete h(this,Kt,"f")[n];let i={};return h(this,lt,"f")[n]=(r||[]).concat(t).filter(s=>i[s]?!1:i[s]=!0),this}hide(t){return P("<string>",[t],arguments.length),h(this,D,"f").hiddenOptions.push(t),this}implies(t,n){return P("<string|object> [number|string|array]",[t,n],arguments.length),h(this,ce,"f").implies(t,n),this}locale(t){return P("[string]",[t],arguments.length),t===void 0?(this[yi](),h(this,G,"f").y18n.getLocale()):(I(this,zt,!1,"f"),h(this,G,"f").y18n.setLocale(t),this)}middleware(t,n,r){return h(this,tt,"f").addMiddleware(t,!!n,r)}nargs(t,n){return P("<string|object|array> [number]",[t,n],arguments.length),this[gn](this.nargs.bind(this),"narg",t,n),this}normalize(t){return P("<array|string>",[t],arguments.length),this[Et]("normalize",t),this}number(t){return P("<array|string>",[t],arguments.length),this[Et]("number",t),this[tn](t),this}option(t,n){if(P("<string|object> [object]",[t,n],arguments.length),typeof t=="object")Object.keys(t).forEach(r=>{this.options(r,t[r])});else{typeof n!="object"&&(n={}),this[tn](t),h(this,ct,"f")&&(t==="version"||(n==null?void 0:n.alias)==="version")&&this[cs](['"version" is a reserved word.',"Please do one of the following:",'- Disable version with `yargs.version(false)` if using "version" as an option',"- Use the built-in `yargs.version` method instead (if applicable)","- Use a different option key","https://yargs.js.org/docs/#api-reference-version"].join(`
`),void 0,"versionWarning"),h(this,D,"f").key[t]=!0,n.alias&&this.alias(t,n.alias);let r=n.deprecate||n.deprecated;r&&this.deprecateOption(t,r);let i=n.demand||n.required||n.require;i&&this.demand(t,i),n.demandOption&&this.demandOption(t,typeof n.demandOption=="string"?n.demandOption:void 0),n.conflicts&&this.conflicts(t,n.conflicts),"default"in n&&this.default(t,n.default),n.implies!==void 0&&this.implies(t,n.implies),n.nargs!==void 0&&this.nargs(t,n.nargs),n.config&&this.config(t,n.configParser),n.normalize&&this.normalize(t),n.choices&&this.choices(t,n.choices),n.coerce&&this.coerce(t,n.coerce),n.group&&this.group(t,n.group),(n.boolean||n.type==="boolean")&&(this.boolean(t),n.alias&&this.boolean(n.alias)),(n.array||n.type==="array")&&(this.array(t),n.alias&&this.array(n.alias)),(n.number||n.type==="number")&&(this.number(t),n.alias&&this.number(n.alias)),(n.string||n.type==="string")&&(this.string(t),n.alias&&this.string(n.alias)),(n.count||n.type==="count")&&this.count(t),typeof n.global=="boolean"&&this.global(t,n.global),n.defaultDescription&&(h(this,D,"f").defaultDescription[t]=n.defaultDescription),n.skipValidation&&this.skipValidation(t);let s=n.describe||n.description||n.desc;this.describe(t,s),n.hidden&&this.hide(t),n.requiresArg&&this.requiresArg(t)}return this}options(t,n){return this.option(t,n)}parse(t,n,r){P("[string|array] [function|boolean|object] [function]",[t,n,r],arguments.length),this[fs](),typeof t=="undefined"&&(t=h(this,vt,"f")),typeof n=="object"&&(I(this,Vt,n,"f"),n=r),typeof n=="function"&&(I(this,Je,n,"f"),n=!1),n||I(this,vt,t,"f"),h(this,Je,"f")&&I(this,et,!1,"f");let i=this[Wn](t,!!n),s=this.parsed;return h(this,Ze,"f").setParsed(this.parsed),se(i)?i.then(o=>(h(this,Je,"f")&&h(this,Je,"f").call(this,h(this,Ot,"f"),o,h(this,Pe,"f")),o)).catch(o=>{throw h(this,Je,"f")&&h(this,Je,"f")(o,this.parsed.argv,h(this,Pe,"f")),o}).finally(()=>{this[vi](),this.parsed=s}):(h(this,Je,"f")&&h(this,Je,"f").call(this,h(this,Ot,"f"),i,h(this,Pe,"f")),this[vi](),this.parsed=s,i)}parseAsync(t,n,r){let i=this.parse(t,n,r);return se(i)?i:Promise.resolve(i)}parseSync(t,n,r){let i=this.parse(t,n,r);if(se(i))throw new ie(".parseSync() must not be used with asynchronous builders, handlers, or middleware");return i}parserConfiguration(t){return P("<object>",[t],arguments.length),I(this,vr,t,"f"),this}pkgConf(t,n){P("<string> [string]",[t,n],arguments.length);let r=null,i=this[wi](n||h(this,Yt,"f"));return i[t]&&typeof i[t]=="object"&&(r=yr(i[t],n||h(this,Yt,"f"),this[Zt]()["deep-merge-config"]||!1,h(this,G,"f")),h(this,D,"f").configObjects=(h(this,D,"f").configObjects||[]).concat(r)),this}positional(t,n){P("<string> <object>",[t,n],arguments.length);let r=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];n=xt(n,(o,a)=>o==="type"&&!["string","number","boolean"].includes(a)?!1:r.includes(o));let i=h(this,$n,"f").fullCommands[h(this,$n,"f").fullCommands.length-1],s=i?h(this,he,"f").cmdToParseOptions(i):{array:[],alias:{},default:{},demand:{}};return dn(s).forEach(o=>{let a=s[o];Array.isArray(a)?a.indexOf(t)!==-1&&(n[o]=!0):a[t]&&!(o in n)&&(n[o]=a[t])}),this.group(t,h(this,K,"f").getPositionalGroupName()),this.option(t,n)}recommendCommands(t=!0){return P("[boolean]",[t],arguments.length),I(this,Er,t,"f"),this}required(t,n,r){return this.demand(t,n,r)}require(t,n,r){return this.demand(t,n,r)}requiresArg(t){return P("<array|string|object> [number]",[t],arguments.length),typeof t=="string"&&h(this,D,"f").narg[t]?this:(this[gn](this.requiresArg.bind(this),"narg",t,NaN),this)}showCompletionScript(t,n){return P("[string] [string]",[t,n],arguments.length),t=t||this.$0,h(this,hn,"f").log(h(this,Ze,"f").generateCompletionScript(t,n||h(this,Ke,"f")||"completion")),this}showHelp(t){if(P("[string|function]",[t],arguments.length),I(this,Qe,!0,"f"),!h(this,K,"f").hasCachedHelpMessage()){if(!this.parsed){let r=this[Wn](h(this,vt,"f"),void 0,void 0,0,!0);if(se(r))return r.then(()=>{h(this,K,"f").showHelp(t)}),this}let n=h(this,he,"f").runDefaultBuilderOn(this);if(se(n))return n.then(()=>{h(this,K,"f").showHelp(t)}),this}return h(this,K,"f").showHelp(t),this}scriptName(t){return this.customScriptName=!0,this.$0=t,this}showHelpOnFail(t,n){return P("[boolean|string] [string]",[t,n],arguments.length),h(this,K,"f").showHelpOnFail(t,n),this}showVersion(t){return P("[string|function]",[t],arguments.length),h(this,K,"f").showVersion(t),this}skipValidation(t){return P("<array|string>",[t],arguments.length),this[Et]("skipValidation",t),this}strict(t){return P("[boolean]",[t],arguments.length),I(this,Qt,t!==!1,"f"),this}strictCommands(t){return P("[boolean]",[t],arguments.length),I(this,Jt,t!==!1,"f"),this}strictOptions(t){return P("[boolean]",[t],arguments.length),I(this,Xt,t!==!1,"f"),this}string(t){return P("<array|string>",[t],arguments.length),this[Et]("string",t),this[tn](t),this}terminalWidth(){return P([],0),h(this,G,"f").process.stdColumns}updateLocale(t){return this.updateStrings(t)}updateStrings(t){return P("<object>",[t],arguments.length),I(this,zt,!1,"f"),h(this,G,"f").y18n.updateLocale(t),this}usage(t,n,r,i){if(P("<string|null|undefined> [string|boolean] [function|object] [function]",[t,n,r,i],arguments.length),n!==void 0){if(ke(t,null,h(this,G,"f")),(t||"").match(/^\$0( |$)/))return this.command(t,n,r,i);throw new ie(".usage() description must start with $0 if being used as alias for .command()")}else return h(this,K,"f").usage(t),this}version(t,n,r){let i="version";if(P("[boolean|string] [string] [string]",[t,n,r],arguments.length),h(this,ct,"f")&&(this[bi](h(this,ct,"f")),h(this,K,"f").version(void 0),I(this,ct,null,"f")),arguments.length===0)r=this[ds](),t=i;else if(arguments.length===1){if(t===!1)return this;r=t,t=i}else arguments.length===2&&(r=n,n=void 0);return I(this,ct,typeof t=="string"?t:i,"f"),n=n||h(this,K,"f").deferY18nLookup("Show version number"),h(this,K,"f").version(r||void 0),this.boolean(h(this,ct,"f")),this.describe(h(this,ct,"f"),n),this}wrap(t){return P("<number|null|undefined>",[t],arguments.length),h(this,K,"f").wrap(t),this}[(he=new WeakMap,Yt=new WeakMap,$n=new WeakMap,Ze=new WeakMap,Ke=new WeakMap,wr=new WeakMap,Ot=new WeakMap,zt=new WeakMap,Ar=new WeakMap,et=new WeakMap,xr=new WeakMap,tt=new WeakMap,lt=new WeakMap,Qe=new WeakMap,nt=new WeakMap,Cr=new WeakMap,hn=new WeakMap,Pe=new WeakMap,D=new WeakMap,Or=new WeakMap,vr=new WeakMap,Je=new WeakMap,Vt=new WeakMap,mn=new WeakMap,Kt=new WeakMap,vt=new WeakMap,Er=new WeakMap,G=new WeakMap,Qt=new WeakMap,Jt=new WeakMap,Xt=new WeakMap,K=new WeakMap,ct=new WeakMap,ce=new WeakMap,as)](t){if(!t._||!t["--"])return t;t._.push.apply(t._,t["--"]);try{delete t["--"]}catch(n){}return t}[ls](){return{log:(...t)=>{this[_r]()||console.log(...t),I(this,Qe,!0,"f"),h(this,Pe,"f").length&&I(this,Pe,h(this,Pe,"f")+`
`,"f"),I(this,Pe,h(this,Pe,"f")+t.join(" "),"f")},error:(...t)=>{this[_r]()||console.error(...t),I(this,Qe,!0,"f"),h(this,Pe,"f").length&&I(this,Pe,h(this,Pe,"f")+`
`,"f"),I(this,Pe,h(this,Pe,"f")+t.join(" "),"f")}}}[bi](t){dn(h(this,D,"f")).forEach(n=>{if((i=>i==="configObjects")(n))return;let r=h(this,D,"f")[n];Array.isArray(r)?r.includes(t)&&r.splice(r.indexOf(t),1):typeof r=="object"&&delete r[t]}),delete h(this,K,"f").getDescriptions()[t]}[cs](t,n,r){h(this,Ar,"f")[r]||(h(this,G,"f").process.emitWarning(t,n),h(this,Ar,"f")[r]=!0)}[fs](){h(this,xr,"f").push({options:h(this,D,"f"),configObjects:h(this,D,"f").configObjects.slice(0),exitProcess:h(this,et,"f"),groups:h(this,lt,"f"),strict:h(this,Qt,"f"),strictCommands:h(this,Jt,"f"),strictOptions:h(this,Xt,"f"),completionCommand:h(this,Ke,"f"),output:h(this,Pe,"f"),exitError:h(this,Ot,"f"),hasOutput:h(this,Qe,"f"),parsed:this.parsed,parseFn:h(this,Je,"f"),parseContext:h(this,Vt,"f")}),h(this,K,"f").freeze(),h(this,ce,"f").freeze(),h(this,he,"f").freeze(),h(this,tt,"f").freeze()}[us](){let t="",n;return/\b(node|iojs|electron)(\.exe)?$/.test(h(this,G,"f").process.argv()[0])?n=h(this,G,"f").process.argv().slice(1,2):n=h(this,G,"f").process.argv().slice(0,1),t=n.map(r=>{let i=this[Os](h(this,Yt,"f"),r);return r.match(/^(\/|([a-zA-Z]:)?\\)/)&&i.length<r.length?i:r}).join(" ").trim(),h(this,G,"f").getEnv("_")&&h(this,G,"f").getProcessArgvBin()===h(this,G,"f").getEnv("_")&&(t=h(this,G,"f").getEnv("_").replace(`${h(this,G,"f").path.dirname(h(this,G,"f").process.execPath())}/`,"")),t}[Zt](){return h(this,vr,"f")}[yi](){if(!h(this,zt,"f"))return;let t=h(this,G,"f").getEnv("LC_ALL")||h(this,G,"f").getEnv("LC_MESSAGES")||h(this,G,"f").getEnv("LANG")||h(this,G,"f").getEnv("LANGUAGE")||"en_US";this.locale(t.replace(/[.:].*/,""))}[ds](){return this[wi]().version||"unknown"}[ps](t){let n=t["--"]?t["--"]:t._;for(let r=0,i;(i=n[r])!==void 0;r++)h(this,G,"f").Parser.looksLikeNumber(i)&&Number.isSafeInteger(Math.floor(parseFloat(`${i}`)))&&(n[r]=Number(i));return t}[wi](t){let n=t||"*";if(h(this,mn,"f")[n])return h(this,mn,"f")[n];let r={};try{let i=t||h(this,G,"f").mainFilename;!t&&h(this,G,"f").path.extname(i)&&(i=h(this,G,"f").path.dirname(i));let s=h(this,G,"f").findUp(i,(o,a)=>{if(a.includes("package.json"))return"package.json"});ke(s,void 0,h(this,G,"f")),r=JSON.parse(h(this,G,"f").readFileSync(s,"utf8"))}catch(i){}return h(this,mn,"f")[n]=r||{},h(this,mn,"f")[n]}[Et](t,n){n=[].concat(n),n.forEach(r=>{r=this[Ci](r),h(this,D,"f")[t].push(r)})}[gn](t,n,r,i){this[xi](t,n,r,i,(s,o,a)=>{h(this,D,"f")[s][o]=a})}[Ai](t,n,r,i){this[xi](t,n,r,i,(s,o,a)=>{h(this,D,"f")[s][o]=(h(this,D,"f")[s][o]||[]).concat(a)})}[xi](t,n,r,i,s){if(Array.isArray(r))r.forEach(o=>{t(o,i)});else if((o=>typeof o=="object")(r))for(let o of dn(r))t(o,r[o]);else s(n,this[Ci](r),i)}[Ci](t){return t==="__proto__"?"___proto___":t}[Oi](t,n){return this[gn](this[Oi].bind(this),"key",t,n),this}[vi](){var t,n,r,i,s,o,a,l,c,f,u,d;let p=h(this,xr,"f").pop();ke(p,void 0,h(this,G,"f"));let y;t=this,n=this,r=this,i=this,s=this,o=this,a=this,l=this,c=this,f=this,u=this,d=this,{options:{set value(g){I(t,D,g,"f")}}.value,configObjects:y,exitProcess:{set value(g){I(n,et,g,"f")}}.value,groups:{set value(g){I(r,lt,g,"f")}}.value,output:{set value(g){I(i,Pe,g,"f")}}.value,exitError:{set value(g){I(s,Ot,g,"f")}}.value,hasOutput:{set value(g){I(o,Qe,g,"f")}}.value,parsed:this.parsed,strict:{set value(g){I(a,Qt,g,"f")}}.value,strictCommands:{set value(g){I(l,Jt,g,"f")}}.value,strictOptions:{set value(g){I(c,Xt,g,"f")}}.value,completionCommand:{set value(g){I(f,Ke,g,"f")}}.value,parseFn:{set value(g){I(u,Je,g,"f")}}.value,parseContext:{set value(g){I(d,Vt,g,"f")}}.value}=p,h(this,D,"f").configObjects=y,h(this,K,"f").unfreeze(),h(this,ce,"f").unfreeze(),h(this,he,"f").unfreeze(),h(this,tt,"f").unfreeze()}[hs](t,n){return qt(n,r=>(t(r),r))}getInternalMethods(){return{getCommandInstance:this[ms].bind(this),getContext:this[gs].bind(this),getHasOutput:this[bs].bind(this),getLoggerInstance:this[ys].bind(this),getParseContext:this[ws].bind(this),getParserConfiguration:this[Zt].bind(this),getUsageInstance:this[As].bind(this),getValidationInstance:this[xs].bind(this),hasParseCallback:this[_r].bind(this),isGlobalContext:this[Cs].bind(this),postProcess:this[en].bind(this),reset:this[Ei].bind(this),runValidation:this[_i].bind(this),runYargsParserAndExecuteCommands:this[Wn].bind(this),setHasOutput:this[vs].bind(this)}}[ms](){return h(this,he,"f")}[gs](){return h(this,$n,"f")}[bs](){return h(this,Qe,"f")}[ys](){return h(this,hn,"f")}[ws](){return h(this,Vt,"f")||{}}[As](){return h(this,K,"f")}[xs](){return h(this,ce,"f")}[_r](){return!!h(this,Je,"f")}[Cs](){return h(this,Cr,"f")}[en](t,n,r,i){return r||se(t)||(n||(t=this[as](t)),(this[Zt]()["parse-positional-numbers"]||this[Zt]()["parse-positional-numbers"]===void 0)&&(t=this[ps](t)),i&&(t=Gt(t,this,h(this,tt,"f").getMiddleware(),!1))),t}[Ei](t={}){I(this,D,h(this,D,"f")||{},"f");let n={};n.local=h(this,D,"f").local||[],n.configObjects=h(this,D,"f").configObjects||[];let r={};n.local.forEach(o=>{r[o]=!0,(t[o]||[]).forEach(a=>{r[a]=!0})}),Object.assign(h(this,Kt,"f"),Object.keys(h(this,lt,"f")).reduce((o,a)=>{let l=h(this,lt,"f")[a].filter(c=>!(c in r));return l.length>0&&(o[a]=l),o},{})),I(this,lt,{},"f");let i=["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"],s=["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","deprecatedOptions"];return i.forEach(o=>{n[o]=(h(this,D,"f")[o]||[]).filter(a=>!r[a])}),s.forEach(o=>{n[o]=xt(h(this,D,"f")[o],a=>!r[a])}),n.envPrefix=h(this,D,"f").envPrefix,I(this,D,n,"f"),I(this,K,h(this,K,"f")?h(this,K,"f").reset(r):Zo(this,h(this,G,"f")),"f"),I(this,ce,h(this,ce,"f")?h(this,ce,"f").reset(r):os(this,h(this,K,"f"),h(this,G,"f")),"f"),I(this,he,h(this,he,"f")?h(this,he,"f").reset():Qo(h(this,K,"f"),h(this,ce,"f"),h(this,tt,"f"),h(this,G,"f")),"f"),h(this,Ze,"f")||I(this,Ze,ns(this,h(this,K,"f"),h(this,he,"f"),h(this,G,"f")),"f"),h(this,tt,"f").reset(),I(this,Ke,null,"f"),I(this,Pe,"","f"),I(this,Ot,null,"f"),I(this,Qe,!1,"f"),this.parsed=!1,this}[Os](t,n){return h(this,G,"f").path.relative(t,n)}[Wn](t,n,r,i=0,s=!1){let o=!!r||s;t=t||h(this,vt,"f"),h(this,D,"f").__=h(this,G,"f").y18n.__,h(this,D,"f").configuration=this[Zt]();let a=!!h(this,D,"f").configuration["populate--"],l=Object.assign({},h(this,D,"f").configuration,{"populate--":!0}),c=h(this,G,"f").Parser.detailed(t,Object.assign({},h(this,D,"f"),{configuration:{"parse-positional-numbers":!1,...l}})),f=Object.assign(c.argv,h(this,Vt,"f")),u,d=c.aliases,p=!1,y=!1;Object.keys(f).forEach(g=>{g===h(this,nt,"f")&&f[g]?p=!0:g===h(this,ct,"f")&&f[g]&&(y=!0)}),f.$0=this.$0,this.parsed=c,i===0&&h(this,K,"f").clearCachedHelpMessage();try{if(this[yi](),n)return this[en](f,a,!!r,!1);h(this,nt,"f")&&[h(this,nt,"f")].concat(d[h(this,nt,"f")]||[]).filter(R=>R.length>1).includes(""+f._[f._.length-1])&&(f._.pop(),p=!0),I(this,Cr,!1,"f");let g=h(this,he,"f").getCommands(),m=h(this,Ze,"f").completionKey in f,v=p||m||s;if(f._.length){if(g.length){let E;for(let R=i||0,V;f._[R]!==void 0;R++)if(V=String(f._[R]),g.includes(V)&&V!==h(this,Ke,"f")){let Q=h(this,he,"f").runCommand(V,this,c,R+1,s,p||y||s);return this[en](Q,a,!!r,!1)}else if(!E&&V!==h(this,Ke,"f")){E=V;break}!h(this,he,"f").hasDefaultCommand()&&h(this,Er,"f")&&E&&!v&&h(this,ce,"f").recommendCommands(E,g)}h(this,Ke,"f")&&f._.includes(h(this,Ke,"f"))&&!m&&(h(this,et,"f")&&Ct(!0),this.showCompletionScript(),this.exit(0))}if(h(this,he,"f").hasDefaultCommand()&&!v){let E=h(this,he,"f").runCommand(null,this,c,0,s,p||y||s);return this[en](E,a,!!r,!1)}if(m){h(this,et,"f")&&Ct(!0),t=[].concat(t);let E=t.slice(t.indexOf(`--${h(this,Ze,"f").completionKey}`)+1);return h(this,Ze,"f").getCompletion(E,(R,V)=>{if(R)throw new ie(R.message);(V||[]).forEach(Q=>{h(this,hn,"f").log(Q)}),this.exit(0)}),this[en](f,!a,!!r,!1)}if(h(this,Qe,"f")||(p?(h(this,et,"f")&&Ct(!0),o=!0,this.showHelp("log"),this.exit(0)):y&&(h(this,et,"f")&&Ct(!0),o=!0,h(this,K,"f").showVersion("log"),this.exit(0))),!o&&h(this,D,"f").skipValidation.length>0&&(o=Object.keys(f).some(E=>h(this,D,"f").skipValidation.indexOf(E)>=0&&f[E]===!0)),!o){if(c.error)throw new ie(c.error.message);if(!m){let E=this[_i](d,{},c.error);r||(u=Gt(f,this,h(this,tt,"f").getMiddleware(),!0)),u=this[hs](E,u!=null?u:f),se(u)&&!r&&(u=u.then(()=>Gt(f,this,h(this,tt,"f").getMiddleware(),!1)))}}}catch(g){if(g instanceof ie)h(this,K,"f").fail(g.message,g);else throw g}return this[en](u!=null?u:f,a,!!r,!0)}[_i](t,n,r,i){let s={...this.getDemandedOptions()};return o=>{if(r)throw new ie(r.message);h(this,ce,"f").nonOptionCount(o),h(this,ce,"f").requiredArguments(o,s);let a=!1;h(this,Jt,"f")&&(a=h(this,ce,"f").unknownCommands(o)),h(this,Qt,"f")&&!a?h(this,ce,"f").unknownArguments(o,t,n,!!i):h(this,Xt,"f")&&h(this,ce,"f").unknownArguments(o,t,{},!1,!1),h(this,ce,"f").limitedChoices(o),h(this,ce,"f").implications(o),h(this,ce,"f").conflicting(o)}}[vs](){I(this,Qe,!0,"f")}[tn](t){if(typeof t=="string")h(this,D,"f").key[t]=!0;else for(let n of t)h(this,D,"f").key[n]=!0}};function Jo(e){return!!e&&typeof e.getInternalMethods=="function"}var $f=Es(qo),Be=$f;b();b();var sl=Z(require("isomorphic-unfetch"));b();b();var Wf=Object.create,ji=Object.defineProperty,Bf=Object.defineProperties,Hf=Object.getOwnPropertyDescriptor,Gf=Object.getOwnPropertyDescriptors,qf=Object.getOwnPropertyNames,_s=Object.getOwnPropertySymbols,Yf=Object.getPrototypeOf,Ps=Object.prototype.hasOwnProperty,zf=Object.prototype.propertyIsEnumerable,Ss=(e,t,n)=>t in e?ji(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vf=(e,t)=>{for(var n in t||(t={}))Ps.call(t,n)&&Ss(e,n,t[n]);if(_s)for(var n of _s(t))zf.call(t,n)&&Ss(e,n,t[n]);return e},Kf=(e,t)=>Bf(e,Gf(t)),js=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(t,n)=>(typeof require!="undefined"?require:t)[n]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')}),Qf=(e,t)=>()=>(e&&(t=e(e=0)),t),ft=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Jf=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of qf(t))!Ps.call(e,i)&&i!==n&&ji(e,i,{get:()=>t[i],enumerable:!(r=Hf(t,i))||r.enumerable});return e},Pi=(e,t,n)=>(n=e!=null?Wf(Yf(e)):{},Jf(t||!e||!e.__esModule?ji(n,"default",{value:e,enumerable:!0}):n,e)),Ie=Qf(()=>{}),Xf=ft((e,t)=>{"use strict";Ie(),t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}),Is=ft((e,t)=>{Ie();var n=Xf(),r={};for(let o of Object.keys(n))r[n[o]]=o;var i={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};t.exports=i;for(let o of Object.keys(i)){if(!("channels"in i[o]))throw new Error("missing channels property: "+o);if(!("labels"in i[o]))throw new Error("missing channel labels property: "+o);if(i[o].labels.length!==i[o].channels)throw new Error("channel and label counts mismatch: "+o);let{channels:a,labels:l}=i[o];delete i[o].channels,delete i[o].labels,Object.defineProperty(i[o],"channels",{value:a}),Object.defineProperty(i[o],"labels",{value:l})}i.rgb.hsl=function(o){let a=o[0]/255,l=o[1]/255,c=o[2]/255,f=Math.min(a,l,c),u=Math.max(a,l,c),d=u-f,p,y;u===f?p=0:a===u?p=(l-c)/d:l===u?p=2+(c-a)/d:c===u&&(p=4+(a-l)/d),p=Math.min(p*60,360),p<0&&(p+=360);let g=(f+u)/2;return u===f?y=0:g<=.5?y=d/(u+f):y=d/(2-u-f),[p,y*100,g*100]},i.rgb.hsv=function(o){let a,l,c,f,u,d=o[0]/255,p=o[1]/255,y=o[2]/255,g=Math.max(d,p,y),m=g-Math.min(d,p,y),v=function(E){return(g-E)/6/m+1/2};return m===0?(f=0,u=0):(u=m/g,a=v(d),l=v(p),c=v(y),d===g?f=c-l:p===g?f=1/3+a-c:y===g&&(f=2/3+l-a),f<0?f+=1:f>1&&(f-=1)),[f*360,u*100,g*100]},i.rgb.hwb=function(o){let a=o[0],l=o[1],c=o[2],f=i.rgb.hsl(o)[0],u=1/255*Math.min(a,Math.min(l,c));return c=1-1/255*Math.max(a,Math.max(l,c)),[f,u*100,c*100]},i.rgb.cmyk=function(o){let a=o[0]/255,l=o[1]/255,c=o[2]/255,f=Math.min(1-a,1-l,1-c),u=(1-a-f)/(1-f)||0,d=(1-l-f)/(1-f)||0,p=(1-c-f)/(1-f)||0;return[u*100,d*100,p*100,f*100]};function s(o,a){return(o[0]-a[0])**2+(o[1]-a[1])**2+(o[2]-a[2])**2}i.rgb.keyword=function(o){let a=r[o];if(a)return a;let l=1/0,c;for(let f of Object.keys(n)){let u=n[f],d=s(o,u);d<l&&(l=d,c=f)}return c},i.keyword.rgb=function(o){return n[o]},i.rgb.xyz=function(o){let a=o[0]/255,l=o[1]/255,c=o[2]/255;a=a>.04045?((a+.055)/1.055)**2.4:a/12.92,l=l>.04045?((l+.055)/1.055)**2.4:l/12.92,c=c>.04045?((c+.055)/1.055)**2.4:c/12.92;let f=a*.4124+l*.3576+c*.1805,u=a*.2126+l*.7152+c*.0722,d=a*.0193+l*.1192+c*.9505;return[f*100,u*100,d*100]},i.rgb.lab=function(o){let a=i.rgb.xyz(o),l=a[0],c=a[1],f=a[2];l/=95.047,c/=100,f/=108.883,l=l>.008856?l**(1/3):7.787*l+16/116,c=c>.008856?c**(1/3):7.787*c+16/116,f=f>.008856?f**(1/3):7.787*f+16/116;let u=116*c-16,d=500*(l-c),p=200*(c-f);return[u,d,p]},i.hsl.rgb=function(o){let a=o[0]/360,l=o[1]/100,c=o[2]/100,f,u,d;if(l===0)return d=c*255,[d,d,d];c<.5?f=c*(1+l):f=c+l-c*l;let p=2*c-f,y=[0,0,0];for(let g=0;g<3;g++)u=a+1/3*-(g-1),u<0&&u++,u>1&&u--,6*u<1?d=p+(f-p)*6*u:2*u<1?d=f:3*u<2?d=p+(f-p)*(2/3-u)*6:d=p,y[g]=d*255;return y},i.hsl.hsv=function(o){let a=o[0],l=o[1]/100,c=o[2]/100,f=l,u=Math.max(c,.01);c*=2,l*=c<=1?c:2-c,f*=u<=1?u:2-u;let d=(c+l)/2,p=c===0?2*f/(u+f):2*l/(c+l);return[a,p*100,d*100]},i.hsv.rgb=function(o){let a=o[0]/60,l=o[1]/100,c=o[2]/100,f=Math.floor(a)%6,u=a-Math.floor(a),d=255*c*(1-l),p=255*c*(1-l*u),y=255*c*(1-l*(1-u));switch(c*=255,f){case 0:return[c,y,d];case 1:return[p,c,d];case 2:return[d,c,y];case 3:return[d,p,c];case 4:return[y,d,c];case 5:return[c,d,p]}},i.hsv.hsl=function(o){let a=o[0],l=o[1]/100,c=o[2]/100,f=Math.max(c,.01),u,d;d=(2-l)*c;let p=(2-l)*f;return u=l*f,u/=p<=1?p:2-p,u=u||0,d/=2,[a,u*100,d*100]},i.hwb.rgb=function(o){let a=o[0]/360,l=o[1]/100,c=o[2]/100,f=l+c,u;f>1&&(l/=f,c/=f);let d=Math.floor(6*a),p=1-c;u=6*a-d,(d&1)!==0&&(u=1-u);let y=l+u*(p-l),g,m,v;switch(d){default:case 6:case 0:g=p,m=y,v=l;break;case 1:g=y,m=p,v=l;break;case 2:g=l,m=p,v=y;break;case 3:g=l,m=y,v=p;break;case 4:g=y,m=l,v=p;break;case 5:g=p,m=l,v=y;break}return[g*255,m*255,v*255]},i.cmyk.rgb=function(o){let a=o[0]/100,l=o[1]/100,c=o[2]/100,f=o[3]/100,u=1-Math.min(1,a*(1-f)+f),d=1-Math.min(1,l*(1-f)+f),p=1-Math.min(1,c*(1-f)+f);return[u*255,d*255,p*255]},i.xyz.rgb=function(o){let a=o[0]/100,l=o[1]/100,c=o[2]/100,f,u,d;return f=a*3.2406+l*-1.5372+c*-.4986,u=a*-.9689+l*1.8758+c*.0415,d=a*.0557+l*-.204+c*1.057,f=f>.0031308?1.055*f**(1/2.4)-.055:f*12.92,u=u>.0031308?1.055*u**(1/2.4)-.055:u*12.92,d=d>.0031308?1.055*d**(1/2.4)-.055:d*12.92,f=Math.min(Math.max(0,f),1),u=Math.min(Math.max(0,u),1),d=Math.min(Math.max(0,d),1),[f*255,u*255,d*255]},i.xyz.lab=function(o){let a=o[0],l=o[1],c=o[2];a/=95.047,l/=100,c/=108.883,a=a>.008856?a**(1/3):7.787*a+16/116,l=l>.008856?l**(1/3):7.787*l+16/116,c=c>.008856?c**(1/3):7.787*c+16/116;let f=116*l-16,u=500*(a-l),d=200*(l-c);return[f,u,d]},i.lab.xyz=function(o){let a=o[0],l=o[1],c=o[2],f,u,d;u=(a+16)/116,f=l/500+u,d=u-c/200;let p=u**3,y=f**3,g=d**3;return u=p>.008856?p:(u-16/116)/7.787,f=y>.008856?y:(f-16/116)/7.787,d=g>.008856?g:(d-16/116)/7.787,f*=95.047,u*=100,d*=108.883,[f,u,d]},i.lab.lch=function(o){let a=o[0],l=o[1],c=o[2],f;f=Math.atan2(c,l)*360/2/Math.PI,f<0&&(f+=360);let u=Math.sqrt(l*l+c*c);return[a,u,f]},i.lch.lab=function(o){let a=o[0],l=o[1],c=o[2]/360*2*Math.PI,f=l*Math.cos(c),u=l*Math.sin(c);return[a,f,u]},i.rgb.ansi16=function(o,a=null){let[l,c,f]=o,u=a===null?i.rgb.hsv(o)[2]:a;if(u=Math.round(u/50),u===0)return 30;let d=30+(Math.round(f/255)<<2|Math.round(c/255)<<1|Math.round(l/255));return u===2&&(d+=60),d},i.hsv.ansi16=function(o){return i.rgb.ansi16(i.hsv.rgb(o),o[2])},i.rgb.ansi256=function(o){let a=o[0],l=o[1],c=o[2];return a===l&&l===c?a<8?16:a>248?231:Math.round((a-8)/247*24)+232:16+36*Math.round(a/255*5)+6*Math.round(l/255*5)+Math.round(c/255*5)},i.ansi16.rgb=function(o){let a=o%10;if(a===0||a===7)return o>50&&(a+=3.5),a=a/10.5*255,[a,a,a];let l=(~~(o>50)+1)*.5,c=(a&1)*l*255,f=(a>>1&1)*l*255,u=(a>>2&1)*l*255;return[c,f,u]},i.ansi256.rgb=function(o){if(o>=232){let u=(o-232)*10+8;return[u,u,u]}o-=16;let a,l=Math.floor(o/36)/5*255,c=Math.floor((a=o%36)/6)/5*255,f=a%6/5*255;return[l,c,f]},i.rgb.hex=function(o){let a=(((Math.round(o[0])&255)<<16)+((Math.round(o[1])&255)<<8)+(Math.round(o[2])&255)).toString(16).toUpperCase();return"000000".substring(a.length)+a},i.hex.rgb=function(o){let a=o.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!a)return[0,0,0];let l=a[0];a[0].length===3&&(l=l.split("").map(p=>p+p).join(""));let c=parseInt(l,16),f=c>>16&255,u=c>>8&255,d=c&255;return[f,u,d]},i.rgb.hcg=function(o){let a=o[0]/255,l=o[1]/255,c=o[2]/255,f=Math.max(Math.max(a,l),c),u=Math.min(Math.min(a,l),c),d=f-u,p,y;return d<1?p=u/(1-d):p=0,d<=0?y=0:f===a?y=(l-c)/d%6:f===l?y=2+(c-a)/d:y=4+(a-l)/d,y/=6,y%=1,[y*360,d*100,p*100]},i.hsl.hcg=function(o){let a=o[1]/100,l=o[2]/100,c=l<.5?2*a*l:2*a*(1-l),f=0;return c<1&&(f=(l-.5*c)/(1-c)),[o[0],c*100,f*100]},i.hsv.hcg=function(o){let a=o[1]/100,l=o[2]/100,c=a*l,f=0;return c<1&&(f=(l-c)/(1-c)),[o[0],c*100,f*100]},i.hcg.rgb=function(o){let a=o[0]/360,l=o[1]/100,c=o[2]/100;if(l===0)return[c*255,c*255,c*255];let f=[0,0,0],u=a%1*6,d=u%1,p=1-d,y=0;switch(Math.floor(u)){case 0:f[0]=1,f[1]=d,f[2]=0;break;case 1:f[0]=p,f[1]=1,f[2]=0;break;case 2:f[0]=0,f[1]=1,f[2]=d;break;case 3:f[0]=0,f[1]=p,f[2]=1;break;case 4:f[0]=d,f[1]=0,f[2]=1;break;default:f[0]=1,f[1]=0,f[2]=p}return y=(1-l)*c,[(l*f[0]+y)*255,(l*f[1]+y)*255,(l*f[2]+y)*255]},i.hcg.hsv=function(o){let a=o[1]/100,l=o[2]/100,c=a+l*(1-a),f=0;return c>0&&(f=a/c),[o[0],f*100,c*100]},i.hcg.hsl=function(o){let a=o[1]/100,l=o[2]/100*(1-a)+.5*a,c=0;return l>0&&l<.5?c=a/(2*l):l>=.5&&l<1&&(c=a/(2*(1-l))),[o[0],c*100,l*100]},i.hcg.hwb=function(o){let a=o[1]/100,l=o[2]/100,c=a+l*(1-a);return[o[0],(c-a)*100,(1-c)*100]},i.hwb.hcg=function(o){let a=o[1]/100,l=o[2]/100,c=1-l,f=c-a,u=0;return f<1&&(u=(c-f)/(1-f)),[o[0],f*100,u*100]},i.apple.rgb=function(o){return[o[0]/65535*255,o[1]/65535*255,o[2]/65535*255]},i.rgb.apple=function(o){return[o[0]/255*65535,o[1]/255*65535,o[2]/255*65535]},i.gray.rgb=function(o){return[o[0]/100*255,o[0]/100*255,o[0]/100*255]},i.gray.hsl=function(o){return[0,0,o[0]]},i.gray.hsv=i.gray.hsl,i.gray.hwb=function(o){return[0,100,o[0]]},i.gray.cmyk=function(o){return[0,0,0,o[0]]},i.gray.lab=function(o){return[o[0],0,0]},i.gray.hex=function(o){let a=Math.round(o[0]/100*255)&255,l=((a<<16)+(a<<8)+a).toString(16).toUpperCase();return"000000".substring(l.length)+l},i.rgb.gray=function(o){return[(o[0]+o[1]+o[2])/3/255*100]}}),Zf=ft((e,t)=>{Ie();var n=Is();function r(){let a={},l=Object.keys(n);for(let c=l.length,f=0;f<c;f++)a[l[f]]={distance:-1,parent:null};return a}function i(a){let l=r(),c=[a];for(l[a].distance=0;c.length;){let f=c.pop(),u=Object.keys(n[f]);for(let d=u.length,p=0;p<d;p++){let y=u[p],g=l[y];g.distance===-1&&(g.distance=l[f].distance+1,g.parent=f,c.unshift(y))}}return l}function s(a,l){return function(c){return l(a(c))}}function o(a,l){let c=[l[a].parent,a],f=n[l[a].parent][a],u=l[a].parent;for(;l[u].parent;)c.unshift(l[u].parent),f=s(n[l[u].parent][u],f),u=l[u].parent;return f.conversion=c,f}t.exports=function(a){let l=i(a),c={},f=Object.keys(l);for(let u=f.length,d=0;d<u;d++){let p=f[d];l[p].parent!==null&&(c[p]=o(p,l))}return c}}),eu=ft((e,t)=>{Ie();var n=Is(),r=Zf(),i={},s=Object.keys(n);function o(l){let c=function(...f){let u=f[0];return u==null?u:(u.length>1&&(f=u),l(f))};return"conversion"in l&&(c.conversion=l.conversion),c}function a(l){let c=function(...f){let u=f[0];if(u==null)return u;u.length>1&&(f=u);let d=l(f);if(typeof d=="object")for(let p=d.length,y=0;y<p;y++)d[y]=Math.round(d[y]);return d};return"conversion"in l&&(c.conversion=l.conversion),c}s.forEach(l=>{i[l]={},Object.defineProperty(i[l],"channels",{value:n[l].channels}),Object.defineProperty(i[l],"labels",{value:n[l].labels});let c=r(l);Object.keys(c).forEach(f=>{let u=c[f];i[l][f]=a(u),i[l][f].raw=o(u)})}),t.exports=i}),tu=ft((e,t)=>{"use strict";Ie();var n=(u,d)=>(...p)=>`\x1B[${u(...p)+d}m`,r=(u,d)=>(...p)=>{let y=u(...p);return`\x1B[${38+d};5;${y}m`},i=(u,d)=>(...p)=>{let y=u(...p);return`\x1B[${38+d};2;${y[0]};${y[1]};${y[2]}m`},s=u=>u,o=(u,d,p)=>[u,d,p],a=(u,d,p)=>{Object.defineProperty(u,d,{get:()=>{let y=p();return Object.defineProperty(u,d,{value:y,enumerable:!0,configurable:!0}),y},enumerable:!0,configurable:!0})},l,c=(u,d,p,y)=>{l===void 0&&(l=eu());let g=y?10:0,m={};for(let[v,E]of Object.entries(l)){let R=v==="ansi16"?"ansi":v;v===d?m[R]=u(p,g):typeof E=="object"&&(m[R]=u(E[d],g))}return m};function f(){let u=new Map,d={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};d.color.gray=d.color.blackBright,d.bgColor.bgGray=d.bgColor.bgBlackBright,d.color.grey=d.color.blackBright,d.bgColor.bgGrey=d.bgColor.bgBlackBright;for(let[p,y]of Object.entries(d)){for(let[g,m]of Object.entries(y))d[g]={open:`\x1B[${m[0]}m`,close:`\x1B[${m[1]}m`},y[g]=d[g],u.set(m[0],m[1]);Object.defineProperty(d,p,{value:y,enumerable:!1})}return Object.defineProperty(d,"codes",{value:u,enumerable:!1}),d.color.close="\x1B[39m",d.bgColor.close="\x1B[49m",a(d.color,"ansi",()=>c(n,"ansi16",s,!1)),a(d.color,"ansi256",()=>c(r,"ansi256",s,!1)),a(d.color,"ansi16m",()=>c(i,"rgb",o,!1)),a(d.bgColor,"ansi",()=>c(n,"ansi16",s,!0)),a(d.bgColor,"ansi256",()=>c(r,"ansi256",s,!0)),a(d.bgColor,"ansi16m",()=>c(i,"rgb",o,!0)),d}Object.defineProperty(t,"exports",{enumerable:!0,get:f})}),nu=ft((e,t)=>{"use strict";Ie(),t.exports=(n,r=process.argv)=>{let i=n.startsWith("-")?"":n.length===1?"-":"--",s=r.indexOf(i+n),o=r.indexOf("--");return s!==-1&&(o===-1||s<o)}}),ru=ft((e,t)=>{"use strict";Ie();var n=js("os"),r=js("tty"),i=nu(),{env:s}=process,o;i("no-color")||i("no-colors")||i("color=false")||i("color=never")?o=0:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(o=1),"FORCE_COLOR"in s&&(s.FORCE_COLOR==="true"?o=1:s.FORCE_COLOR==="false"?o=0:o=s.FORCE_COLOR.length===0?1:Math.min(parseInt(s.FORCE_COLOR,10),3));function a(f){return f===0?!1:{level:f,hasBasic:!0,has256:f>=2,has16m:f>=3}}function l(f,u){if(o===0)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(f&&!u&&o===void 0)return 0;let d=o||0;if(s.TERM==="dumb")return d;if(process.platform==="win32"){let p=n.release().split(".");return Number(p[0])>=10&&Number(p[2])>=10586?Number(p[2])>=14931?3:2:1}if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(p=>p in s)||s.CI_NAME==="codeship"?1:d;if("TEAMCITY_VERSION"in s)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0;if(s.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in s){let p=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return p>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)||"COLORTERM"in s?1:d}function c(f){let u=l(f,f&&f.isTTY);return a(u)}t.exports={supportsColor:c,stdout:a(l(!0,r.isatty(1))),stderr:a(l(!0,r.isatty(2)))}}),iu=ft((e,t)=>{"use strict";Ie();var n=(i,s,o)=>{let a=i.indexOf(s);if(a===-1)return i;let l=s.length,c=0,f="";do f+=i.substr(c,a-c)+s+o,c=a+l,a=i.indexOf(s,c);while(a!==-1);return f+=i.substr(c),f},r=(i,s,o,a)=>{let l=0,c="";do{let f=i[a-1]==="\r";c+=i.substr(l,(f?a-1:a)-l)+s+(f?`\r
`:`
`)+o,l=a+1,a=i.indexOf(`
`,l)}while(a!==-1);return c+=i.substr(l),c};t.exports={stringReplaceAll:n,stringEncaseCRLFWithFirstIndex:r}}),ou=ft((e,t)=>{"use strict";Ie();var n=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,r=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,i=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,s=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,o=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function a(u){let d=u[0]==="u",p=u[1]==="{";return d&&!p&&u.length===5||u[0]==="x"&&u.length===3?String.fromCharCode(parseInt(u.slice(1),16)):d&&p?String.fromCodePoint(parseInt(u.slice(2,-1),16)):o.get(u)||u}function l(u,d){let p=[],y=d.trim().split(/\s*,\s*/g),g;for(let m of y){let v=Number(m);if(!Number.isNaN(v))p.push(v);else if(g=m.match(i))p.push(g[2].replace(s,(E,R,V)=>R?a(R):V));else throw new Error(`Invalid Chalk template style argument: ${m} (in style '${u}')`)}return p}function c(u){r.lastIndex=0;let d=[],p;for(;(p=r.exec(u))!==null;){let y=p[1];if(p[2]){let g=l(y,p[2]);d.push([y].concat(g))}else d.push([y])}return d}function f(u,d){let p={};for(let g of d)for(let m of g.styles)p[m[0]]=g.inverse?null:m.slice(1);let y=u;for(let[g,m]of Object.entries(p))if(Array.isArray(m)){if(!(g in y))throw new Error(`Unknown Chalk style: ${g}`);y=m.length>0?y[g](...m):y[g]}return y}t.exports=(u,d)=>{let p=[],y=[],g=[];if(d.replace(n,(m,v,E,R,V,Q)=>{if(v)g.push(a(v));else if(R){let z=g.join("");g=[],y.push(p.length===0?z:f(u,p)(z)),p.push({inverse:E,styles:c(R)})}else if(V){if(p.length===0)throw new Error("Found extraneous } in Chalk template literal");y.push(f(u,p)(g.join(""))),g=[],p.pop()}else g.push(Q)}),y.push(g.join("")),p.length>0){let m=`Chalk template literal is missing ${p.length} closing bracket${p.length===1?"":"s"} (\`}\`)`;throw new Error(m)}return y.join("")}}),Ii=ft((e,t)=>{"use strict";Ie();var n=tu(),{stdout:r,stderr:i}=ru(),{stringReplaceAll:s,stringEncaseCRLFWithFirstIndex:o}=iu(),{isArray:a}=Array,l=["ansi","ansi","ansi256","ansi16m"],c=Object.create(null),f=(z,U={})=>{if(U.level&&!(Number.isInteger(U.level)&&U.level>=0&&U.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let X=r?r.level:0;z.level=U.level===void 0?X:U.level},u=class{constructor(z){return d(z)}},d=z=>{let U={};return f(U,z),U.template=(...X)=>V(U.template,...X),Object.setPrototypeOf(U,p.prototype),Object.setPrototypeOf(U.template,U),U.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},U.template.Instance=u,U.template};function p(z){return d(z)}for(let[z,U]of Object.entries(n))c[z]={get(){let X=v(this,m(U.open,U.close,this._styler),this._isEmpty);return Object.defineProperty(this,z,{value:X}),X}};c.visible={get(){let z=v(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:z}),z}};var y=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(let z of y)c[z]={get(){let{level:U}=this;return function(...X){let ne=m(n.color[l[U]][z](...X),n.color.close,this._styler);return v(this,ne,this._isEmpty)}}};for(let z of y){let U="bg"+z[0].toUpperCase()+z.slice(1);c[U]={get(){let{level:X}=this;return function(...ne){let q=m(n.bgColor[l[X]][z](...ne),n.bgColor.close,this._styler);return v(this,q,this._isEmpty)}}}}var g=Object.defineProperties(()=>{},Kf(Vf({},c),{level:{enumerable:!0,get(){return this._generator.level},set(z){this._generator.level=z}}})),m=(z,U,X)=>{let ne,q;return X===void 0?(ne=z,q=U):(ne=X.openAll+z,q=U+X.closeAll),{open:z,close:U,openAll:ne,closeAll:q,parent:X}},v=(z,U,X)=>{let ne=(...q)=>a(q[0])&&a(q[0].raw)?E(ne,V(ne,...q)):E(ne,q.length===1?""+q[0]:q.join(" "));return Object.setPrototypeOf(ne,g),ne._generator=z,ne._styler=U,ne._isEmpty=X,ne},E=(z,U)=>{if(z.level<=0||!U)return z._isEmpty?"":U;let X=z._styler;if(X===void 0)return U;let{openAll:ne,closeAll:q}=X;if(U.indexOf("\x1B")!==-1)for(;X!==void 0;)U=s(U,X.close,X.open),X=X.parent;let Ye=U.indexOf(`
`);return Ye!==-1&&(U=o(U,q,ne,Ye)),ne+U+q},R,V=(z,...U)=>{let[X]=U;if(!a(X)||!a(X.raw))return U.join(" ");let ne=U.slice(1),q=[X.raw[0]];for(let Ye=1;Ye<X.length;Ye++)q.push(String(ne[Ye-1]).replace(/[{}\\]/g,"\\$&"),String(X.raw[Ye]));return R===void 0&&(R=ou()),R(z,q.join(""))};Object.defineProperties(p.prototype,c);var Q=p();Q.supportsColor=r,Q.stderr=p({level:i?i.level:0}),Q.stderr.supportsColor=i,t.exports=Q});var Gr=require("fs"),qr=require("fs/promises"),Jn=require("path");b();function Ys(e){return typeof e=="undefined"||e===null}function su(e){return typeof e=="object"&&e!==null}function au(e){return Array.isArray(e)?e:Ys(e)?[]:[e]}function lu(e,t){var n,r,i,s;if(t)for(s=Object.keys(t),n=0,r=s.length;n<r;n+=1)i=s[n],e[i]=t[i];return e}function cu(e,t){var n="",r;for(r=0;r<t;r+=1)n+=e;return n}function fu(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var uu=Ys,du=su,pu=au,hu=cu,mu=fu,gu=lu,Se={isNothing:uu,isObject:du,toArray:pu,repeat:hu,isNegativeZero:mu,extend:gu};function zs(e,t){var n="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),r+" "+n):r}function Hn(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=zs(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Hn.prototype=Object.create(Error.prototype);Hn.prototype.constructor=Hn;Hn.prototype.toString=function(t){return this.name+": "+zs(this,t)};var He=Hn;function Mi(e,t,n,r,i){var s="",o="",a=Math.floor(i/2)-1;return r-t>a&&(s=" ... ",t=r-a+s.length),n-r>a&&(o=" ...",n=r+a-o.length),{str:s+e.slice(t,n).replace(/\t/g,"\u2192")+o,pos:r-t+s.length}}function Fi(e,t){return Se.repeat(" ",t-e.length)+e}function bu(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],s,o=-1;s=n.exec(e.buffer);)i.push(s.index),r.push(s.index+s[0].length),e.position<=s.index&&o<0&&(o=r.length-2);o<0&&(o=r.length-1);var a="",l,c,f=Math.min(e.line+t.linesAfter,i.length).toString().length,u=t.maxLength-(t.indent+f+3);for(l=1;l<=t.linesBefore&&!(o-l<0);l++)c=Mi(e.buffer,r[o-l],i[o-l],e.position-(r[o]-r[o-l]),u),a=Se.repeat(" ",t.indent)+Fi((e.line-l+1).toString(),f)+" | "+c.str+`
`+a;for(c=Mi(e.buffer,r[o],i[o],e.position,u),a+=Se.repeat(" ",t.indent)+Fi((e.line+1).toString(),f)+" | "+c.str+`
`,a+=Se.repeat("-",t.indent+f+3+c.pos)+`^
`,l=1;l<=t.linesAfter&&!(o+l>=i.length);l++)c=Mi(e.buffer,r[o+l],i[o+l],e.position-(r[o]-r[o+l]),u),a+=Se.repeat(" ",t.indent)+Fi((e.line+l+1).toString(),f)+" | "+c.str+`
`;return a.replace(/\n$/,"")}var yu=bu,wu=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Au=["scalar","sequence","mapping"];function xu(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(r){t[String(r)]=n})}),t}function Cu(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(wu.indexOf(n)===-1)throw new He('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=xu(t.styleAliases||null),Au.indexOf(this.kind)===-1)throw new He('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var Te=Cu;function Ms(e,t){var n=[];return e[t].forEach(function(r){var i=n.length;n.forEach(function(s,o){s.tag===r.tag&&s.kind===r.kind&&s.multi===r.multi&&(i=o)}),n[i]=r}),n}function Ou(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function r(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(r);return e}function Li(e){return this.extend(e)}Li.prototype.extend=function(t){var n=[],r=[];if(t instanceof Te)r.push(t);else if(Array.isArray(t))r=r.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(r=r.concat(t.explicit));else throw new He("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(s){if(!(s instanceof Te))throw new He("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new He("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new He("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(s){if(!(s instanceof Te))throw new He("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Li.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=Ms(i,"implicit"),i.compiledExplicit=Ms(i,"explicit"),i.compiledTypeMap=Ou(i.compiledImplicit,i.compiledExplicit),i};var vu=Li,Eu=new Te("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),_u=new Te("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Su=new Te("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),ju=new vu({explicit:[Eu,_u,Su]});function Pu(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function Iu(){return null}function Mu(e){return e===null}var Fu=new Te("tag:yaml.org,2002:null",{kind:"scalar",resolve:Pu,construct:Iu,predicate:Mu,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Tu(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function Lu(e){return e==="true"||e==="True"||e==="TRUE"}function Du(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var Nu=new Te("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Tu,construct:Lu,predicate:Du,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function ku(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Ru(e){return 48<=e&&e<=55}function Uu(e){return 48<=e&&e<=57}function $u(e){if(e===null)return!1;var t=e.length,n=0,r=!1,i;if(!t)return!1;if(i=e[n],(i==="-"||i==="+")&&(i=e[++n]),i==="0"){if(n+1===t)return!0;if(i=e[++n],i==="b"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(!ku(e.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(!Ru(e.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<t;n++)if(i=e[n],i!=="_"){if(!Uu(e.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}function Wu(e){var t=e,n=1,r;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),r=t[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),t=t.slice(1),r=t[0]),t==="0")return 0;if(r==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}function Bu(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Se.isNegativeZero(e)}var Hu=new Te("tag:yaml.org,2002:int",{kind:"scalar",resolve:$u,construct:Wu,predicate:Bu,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Gu=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function qu(e){return!(e===null||!Gu.test(e)||e[e.length-1]==="_")}function Yu(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}var zu=/^[-+]?[0-9]+e/;function Vu(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Se.isNegativeZero(e))return"-0.0";return n=e.toString(10),zu.test(n)?n.replace("e",".e"):n}function Ku(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Se.isNegativeZero(e))}var Qu=new Te("tag:yaml.org,2002:float",{kind:"scalar",resolve:qu,construct:Yu,predicate:Ku,represent:Vu,defaultStyle:"lowercase"}),Ju=ju.extend({implicit:[Fu,Nu,Hu,Qu]}),Xu=Ju,Vs=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Ks=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Zu(e){return e===null?!1:Vs.exec(e)!==null||Ks.exec(e)!==null}function ed(e){var t,n,r,i,s,o,a,l=0,c=null,f,u,d;if(t=Vs.exec(e),t===null&&(t=Ks.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(n,r,i));if(s=+t[4],o=+t[5],a=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(f=+t[10],u=+(t[11]||0),c=(f*60+u)*6e4,t[9]==="-"&&(c=-c)),d=new Date(Date.UTC(n,r,i,s,o,a,l)),c&&d.setTime(d.getTime()-c),d}function td(e){return e.toISOString()}var nd=new Te("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Zu,construct:ed,instanceOf:Date,represent:td});function rd(e){return e==="<<"||e===null}var id=new Te("tag:yaml.org,2002:merge",{kind:"scalar",resolve:rd}),Ui=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function od(e){if(e===null)return!1;var t,n,r=0,i=e.length,s=Ui;for(n=0;n<i;n++)if(t=s.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;r+=6}return r%8===0}function sd(e){var t,n,r=e.replace(/[\r\n=]/g,""),i=r.length,s=Ui,o=0,a=[];for(t=0;t<i;t++)t%4===0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(r.charAt(t));return n=i%4*6,n===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):n===18?(a.push(o>>10&255),a.push(o>>2&255)):n===12&&a.push(o>>4&255),new Uint8Array(a)}function ad(e){var t="",n=0,r,i,s=e.length,o=Ui;for(r=0;r<s;r++)r%3===0&&r&&(t+=o[n>>18&63],t+=o[n>>12&63],t+=o[n>>6&63],t+=o[n&63]),n=(n<<8)+e[r];return i=s%3,i===0?(t+=o[n>>18&63],t+=o[n>>12&63],t+=o[n>>6&63],t+=o[n&63]):i===2?(t+=o[n>>10&63],t+=o[n>>4&63],t+=o[n<<2&63],t+=o[64]):i===1&&(t+=o[n>>2&63],t+=o[n<<4&63],t+=o[64],t+=o[64]),t}function ld(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var cd=new Te("tag:yaml.org,2002:binary",{kind:"scalar",resolve:od,construct:sd,predicate:ld,represent:ad}),fd=Object.prototype.hasOwnProperty,ud=Object.prototype.toString;function dd(e){if(e===null)return!0;var t=[],n,r,i,s,o,a=e;for(n=0,r=a.length;n<r;n+=1){if(i=a[n],o=!1,ud.call(i)!=="[object Object]")return!1;for(s in i)if(fd.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function pd(e){return e!==null?e:[]}var hd=new Te("tag:yaml.org,2002:omap",{kind:"sequence",resolve:dd,construct:pd}),md=Object.prototype.toString;function gd(e){if(e===null)return!0;var t,n,r,i,s,o=e;for(s=new Array(o.length),t=0,n=o.length;t<n;t+=1){if(r=o[t],md.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;s[t]=[i[0],r[i[0]]]}return!0}function bd(e){if(e===null)return[];var t,n,r,i,s,o=e;for(s=new Array(o.length),t=0,n=o.length;t<n;t+=1)r=o[t],i=Object.keys(r),s[t]=[i[0],r[i[0]]];return s}var yd=new Te("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:gd,construct:bd}),wd=Object.prototype.hasOwnProperty;function Ad(e){if(e===null)return!0;var t,n=e;for(t in n)if(wd.call(n,t)&&n[t]!==null)return!1;return!0}function xd(e){return e!==null?e:{}}var Cd=new Te("tag:yaml.org,2002:set",{kind:"mapping",resolve:Ad,construct:xd}),Qs=Xu.extend({implicit:[nd,id],explicit:[cd,hd,yd,Cd]}),St=Object.prototype.hasOwnProperty,Sr=1,Js=2,Xs=3,jr=4,Ti=1,Od=2,Fs=3,vd=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Ed=/[\x85\u2028\u2029]/,_d=/[,\[\]\{\}]/,Zs=/^(?:!|!!|![a-z\-]+!)$/i,ea=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Ts(e){return Object.prototype.toString.call(e)}function ut(e){return e===10||e===13}function rn(e){return e===9||e===32}function Ge(e){return e===9||e===32||e===10||e===13}function yn(e){return e===44||e===91||e===93||e===123||e===125}function Sd(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function jd(e){return e===120?2:e===117?4:e===85?8:0}function Pd(e){return 48<=e&&e<=57?e-48:-1}function Ls(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function Id(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var ta=new Array(256),na=new Array(256);for(nn=0;nn<256;nn++)ta[nn]=Ls(nn)?1:0,na[nn]=Ls(nn);var nn;function Md(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||Qs,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function ra(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=yu(n),new He(t,n)}function W(e,t){throw ra(e,t)}function Pr(e,t){e.onWarning&&e.onWarning.call(null,ra(e,t))}var Ds={YAML:function(t,n,r){var i,s,o;t.version!==null&&W(t,"duplication of %YAML directive"),r.length!==1&&W(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&W(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&W(t,"unacceptable YAML version of the document"),t.version=r[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&Pr(t,"unsupported YAML version of the document")},TAG:function(t,n,r){var i,s;r.length!==2&&W(t,"TAG directive accepts exactly two arguments"),i=r[0],s=r[1],Zs.test(i)||W(t,"ill-formed tag handle (first argument) of the TAG directive"),St.call(t.tagMap,i)&&W(t,'there is a previously declared suffix for "'+i+'" tag handle'),ea.test(s)||W(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch(o){W(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s}};function _t(e,t,n,r){var i,s,o,a;if(t<n){if(a=e.input.slice(t,n),r)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||W(e,"expected valid JSON character");else vd.test(a)&&W(e,"the stream contains non-printable characters");e.result+=a}}function Ns(e,t,n,r){var i,s,o,a;for(Se.isObject(n)||W(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),o=0,a=i.length;o<a;o+=1)s=i[o],St.call(t,s)||(t[s]=n[s],r[s]=!0)}function wn(e,t,n,r,i,s,o,a,l){var c,f;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,f=i.length;c<f;c+=1)Array.isArray(i[c])&&W(e,"nested arrays are not supported inside keys"),typeof i=="object"&&Ts(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&Ts(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(c=0,f=s.length;c<f;c+=1)Ns(e,t,s[c],n);else Ns(e,t,s,n);else!e.json&&!St.call(n,i)&&St.call(t,i)&&(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=l||e.position,W(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete n[i];return t}function $i(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):W(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function be(e,t,n){for(var r=0,i=e.input.charCodeAt(e.position);i!==0;){for(;rn(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(ut(i))for($i(e),i=e.input.charCodeAt(e.position),r++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return n!==-1&&r!==0&&e.lineIndent<n&&Pr(e,"deficient indentation"),r}function Fr(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||Ge(n)))}function Wi(e,t){t===1?e.result+=" ":t>1&&(e.result+=Se.repeat(`
`,t-1))}function Fd(e,t,n){var r,i,s,o,a,l,c,f,u=e.kind,d=e.result,p;if(p=e.input.charCodeAt(e.position),Ge(p)||yn(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),Ge(i)||n&&yn(i)))return!1;for(e.kind="scalar",e.result="",s=o=e.position,a=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),Ge(i)||n&&yn(i))break}else if(p===35){if(r=e.input.charCodeAt(e.position-1),Ge(r))break}else{if(e.position===e.lineStart&&Fr(e)||n&&yn(p))break;if(ut(p))if(l=e.line,c=e.lineStart,f=e.lineIndent,be(e,!1,-1),e.lineIndent>=t){a=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=l,e.lineStart=c,e.lineIndent=f;break}}a&&(_t(e,s,o,!1),Wi(e,e.line-l),s=o=e.position,a=!1),rn(p)||(o=e.position+1),p=e.input.charCodeAt(++e.position)}return _t(e,s,o,!1),e.result?!0:(e.kind=u,e.result=d,!1)}function Td(e,t){var n,r,i;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(_t(e,r,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)r=e.position,e.position++,i=e.position;else return!0;else ut(n)?(_t(e,r,i,!0),Wi(e,be(e,!1,t)),r=i=e.position):e.position===e.lineStart&&Fr(e)?W(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);W(e,"unexpected end of the stream within a single quoted scalar")}function Ld(e,t){var n,r,i,s,o,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return _t(e,n,e.position,!0),e.position++,!0;if(a===92){if(_t(e,n,e.position,!0),a=e.input.charCodeAt(++e.position),ut(a))be(e,!1,t);else if(a<256&&ta[a])e.result+=na[a],e.position++;else if((o=jd(a))>0){for(i=o,s=0;i>0;i--)a=e.input.charCodeAt(++e.position),(o=Sd(a))>=0?s=(s<<4)+o:W(e,"expected hexadecimal character");e.result+=Id(s),e.position++}else W(e,"unknown escape sequence");n=r=e.position}else ut(a)?(_t(e,n,r,!0),Wi(e,be(e,!1,t)),n=r=e.position):e.position===e.lineStart&&Fr(e)?W(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}W(e,"unexpected end of the stream within a double quoted scalar")}function Dd(e,t){var n=!0,r,i,s,o=e.tag,a,l=e.anchor,c,f,u,d,p,y=Object.create(null),g,m,v,E;if(E=e.input.charCodeAt(e.position),E===91)f=93,p=!1,a=[];else if(E===123)f=125,p=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),E=e.input.charCodeAt(++e.position);E!==0;){if(be(e,!0,t),E=e.input.charCodeAt(e.position),E===f)return e.position++,e.tag=o,e.anchor=l,e.kind=p?"mapping":"sequence",e.result=a,!0;n?E===44&&W(e,"expected the node content, but found ','"):W(e,"missed comma between flow collection entries"),m=g=v=null,u=d=!1,E===63&&(c=e.input.charCodeAt(e.position+1),Ge(c)&&(u=d=!0,e.position++,be(e,!0,t))),r=e.line,i=e.lineStart,s=e.position,An(e,t,Sr,!1,!0),m=e.tag,g=e.result,be(e,!0,t),E=e.input.charCodeAt(e.position),(d||e.line===r)&&E===58&&(u=!0,E=e.input.charCodeAt(++e.position),be(e,!0,t),An(e,t,Sr,!1,!0),v=e.result),p?wn(e,a,y,m,g,v,r,i,s):u?a.push(wn(e,null,y,m,g,v,r,i,s)):a.push(g),be(e,!0,t),E=e.input.charCodeAt(e.position),E===44?(n=!0,E=e.input.charCodeAt(++e.position)):n=!1}W(e,"unexpected end of the stream within a flow collection")}function Nd(e,t){var n,r,i=Ti,s=!1,o=!1,a=t,l=0,c=!1,f,u;if(u=e.input.charCodeAt(e.position),u===124)r=!1;else if(u===62)r=!0;else return!1;for(e.kind="scalar",e.result="";u!==0;)if(u=e.input.charCodeAt(++e.position),u===43||u===45)Ti===i?i=u===43?Fs:Od:W(e,"repeat of a chomping mode identifier");else if((f=Pd(u))>=0)f===0?W(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?W(e,"repeat of an indentation width identifier"):(a=t+f-1,o=!0);else break;if(rn(u)){do u=e.input.charCodeAt(++e.position);while(rn(u));if(u===35)do u=e.input.charCodeAt(++e.position);while(!ut(u)&&u!==0)}for(;u!==0;){for($i(e),e.lineIndent=0,u=e.input.charCodeAt(e.position);(!o||e.lineIndent<a)&&u===32;)e.lineIndent++,u=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>a&&(a=e.lineIndent),ut(u)){l++;continue}if(e.lineIndent<a){i===Fs?e.result+=Se.repeat(`
`,s?1+l:l):i===Ti&&s&&(e.result+=`
`);break}for(r?rn(u)?(c=!0,e.result+=Se.repeat(`
`,s?1+l:l)):c?(c=!1,e.result+=Se.repeat(`
`,l+1)):l===0?s&&(e.result+=" "):e.result+=Se.repeat(`
`,l):e.result+=Se.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,n=e.position;!ut(u)&&u!==0;)u=e.input.charCodeAt(++e.position);_t(e,n,e.position,!1)}return!0}function ks(e,t){var n,r=e.tag,i=e.anchor,s=[],o,a=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,W(e,"tab characters must not be used in indentation")),!(l!==45||(o=e.input.charCodeAt(e.position+1),!Ge(o))));){if(a=!0,e.position++,be(e,!0,-1)&&e.lineIndent<=t){s.push(null),l=e.input.charCodeAt(e.position);continue}if(n=e.line,An(e,t,Xs,!1,!0),s.push(e.result),be(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&l!==0)W(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=r,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}function kd(e,t,n){var r,i,s,o,a,l,c=e.tag,f=e.anchor,u={},d=Object.create(null),p=null,y=null,g=null,m=!1,v=!1,E;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=u),E=e.input.charCodeAt(e.position);E!==0;){if(!m&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,W(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),s=e.line,(E===63||E===58)&&Ge(r))E===63?(m&&(wn(e,u,d,p,y,null,o,a,l),p=y=g=null),v=!0,m=!0,i=!0):m?(m=!1,i=!0):W(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,E=r;else{if(o=e.line,a=e.lineStart,l=e.position,!An(e,n,Js,!1,!0))break;if(e.line===s){for(E=e.input.charCodeAt(e.position);rn(E);)E=e.input.charCodeAt(++e.position);if(E===58)E=e.input.charCodeAt(++e.position),Ge(E)||W(e,"a whitespace character is expected after the key-value separator within a block mapping"),m&&(wn(e,u,d,p,y,null,o,a,l),p=y=g=null),v=!0,m=!1,i=!1,p=e.tag,y=e.result;else if(v)W(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=f,!0}else if(v)W(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=f,!0}if((e.line===s||e.lineIndent>t)&&(m&&(o=e.line,a=e.lineStart,l=e.position),An(e,t,jr,!0,i)&&(m?y=e.result:g=e.result),m||(wn(e,u,d,p,y,g,o,a,l),p=y=g=null),be(e,!0,-1),E=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&E!==0)W(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return m&&wn(e,u,d,p,y,null,o,a,l),v&&(e.tag=c,e.anchor=f,e.kind="mapping",e.result=u),v}function Rd(e){var t,n=!1,r=!1,i,s,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&W(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(n=!0,o=e.input.charCodeAt(++e.position)):o===33?(r=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",t=e.position,n){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(s=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):W(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Ge(o);)o===33&&(r?W(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),Zs.test(i)||W(e,"named tag handle cannot contain such characters"),r=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),_d.test(s)&&W(e,"tag suffix cannot contain flow indicator characters")}s&&!ea.test(s)&&W(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch(a){W(e,"tag name is malformed: "+s)}return n?e.tag=s:St.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:W(e,'undeclared tag handle "'+i+'"'),!0}function Ud(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&W(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Ge(n)&&!yn(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&W(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function $d(e){var t,n,r;if(r=e.input.charCodeAt(e.position),r!==42)return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Ge(r)&&!yn(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&W(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),St.call(e.anchorMap,n)||W(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],be(e,!0,-1),!0}function An(e,t,n,r,i){var s,o,a,l=1,c=!1,f=!1,u,d,p,y,g,m;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=a=jr===n||Xs===n,r&&be(e,!0,-1)&&(c=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;Rd(e)||Ud(e);)be(e,!0,-1)?(c=!0,a=s,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):a=!1;if(a&&(a=c||i),(l===1||jr===n)&&(Sr===n||Js===n?g=t:g=t+1,m=e.position-e.lineStart,l===1?a&&(ks(e,m)||kd(e,m,g))||Dd(e,g)?f=!0:(o&&Nd(e,g)||Td(e,g)||Ld(e,g)?f=!0:$d(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&W(e,"alias node should not have any properties")):Fd(e,g,Sr===n)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(f=a&&ks(e,m))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&W(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),u=0,d=e.implicitTypes.length;u<d;u+=1)if(y=e.implicitTypes[u],y.resolve(e.result)){e.result=y.construct(e.result),e.tag=y.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(St.call(e.typeMap[e.kind||"fallback"],e.tag))y=e.typeMap[e.kind||"fallback"][e.tag];else for(y=null,p=e.typeMap.multi[e.kind||"fallback"],u=0,d=p.length;u<d;u+=1)if(e.tag.slice(0,p[u].tag.length)===p[u].tag){y=p[u];break}y||W(e,"unknown tag !<"+e.tag+">"),e.result!==null&&y.kind!==e.kind&&W(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+y.kind+'", not "'+e.kind+'"'),y.resolve(e.result,e.tag)?(e.result=y.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):W(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}function Wd(e){var t=e.position,n,r,i,s=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(be(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(s=!0,o=e.input.charCodeAt(++e.position),n=e.position;o!==0&&!Ge(o);)o=e.input.charCodeAt(++e.position);for(r=e.input.slice(n,e.position),i=[],r.length<1&&W(e,"directive name must not be less than one character in length");o!==0;){for(;rn(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!ut(o));break}if(ut(o))break;for(n=e.position;o!==0&&!Ge(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(n,e.position))}o!==0&&$i(e),St.call(Ds,r)?Ds[r](e,r,i):Pr(e,'unknown document directive "'+r+'"')}if(be(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,be(e,!0,-1)):s&&W(e,"directives end mark is expected"),An(e,e.lineIndent-1,jr,!1,!0),be(e,!0,-1),e.checkLineBreaks&&Ed.test(e.input.slice(t,e.position))&&Pr(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Fr(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,be(e,!0,-1));return}if(e.position<e.length-1)W(e,"end of the stream or a document separator is expected");else return}function ia(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new Md(e,t),r=e.indexOf("\0");for(r!==-1&&(n.position=r,W(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)Wd(n);return n.documents}function Bd(e,t,n){t!==null&&typeof t=="object"&&typeof n=="undefined"&&(n=t,t=null);var r=ia(e,n);if(typeof t!="function")return r;for(var i=0,s=r.length;i<s;i+=1)t(r[i])}function Hd(e,t){var n=ia(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new He("expected a single document in the stream, but found more")}}var Gd=Bd,qd=Hd,oa={loadAll:Gd,load:qd},sa=Object.prototype.toString,aa=Object.prototype.hasOwnProperty,Bi=65279,Yd=9,Gn=10,zd=13,Vd=32,Kd=33,Qd=34,Di=35,Jd=37,Xd=38,Zd=39,ep=42,la=44,tp=45,Ir=58,np=61,rp=62,ip=63,op=64,ca=91,fa=93,sp=96,ua=123,ap=124,da=125,Le={};Le[0]="\\0";Le[7]="\\a";Le[8]="\\b";Le[9]="\\t";Le[10]="\\n";Le[11]="\\v";Le[12]="\\f";Le[13]="\\r";Le[27]="\\e";Le[34]='\\"';Le[92]="\\\\";Le[133]="\\N";Le[160]="\\_";Le[8232]="\\L";Le[8233]="\\P";var lp=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],cp=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function fp(e,t){var n,r,i,s,o,a,l;if(t===null)return{};for(n={},r=Object.keys(t),i=0,s=r.length;i<s;i+=1)o=r[i],a=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=e.compiledTypeMap.fallback[o],l&&aa.call(l.styleAliases,a)&&(a=l.styleAliases[a]),n[o]=a;return n}function up(e){var t,n,r;if(t=e.toString(16).toUpperCase(),e<=255)n="x",r=2;else if(e<=65535)n="u",r=4;else if(e<=4294967295)n="U",r=8;else throw new He("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+Se.repeat("0",r-t.length)+t}var dp=1,qn=2;function pp(e){this.schema=e.schema||Qs,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Se.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=fp(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?qn:dp,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Rs(e,t){for(var n=Se.repeat(" ",t),r=0,i=-1,s="",o,a=e.length;r<a;)i=e.indexOf(`
`,r),i===-1?(o=e.slice(r),r=a):(o=e.slice(r,i+1),r=i+1),o.length&&o!==`
`&&(s+=n),s+=o;return s}function Ni(e,t){return`
`+Se.repeat(" ",e.indent*t)}function hp(e,t){var n,r,i;for(n=0,r=e.implicitTypes.length;n<r;n+=1)if(i=e.implicitTypes[n],i.resolve(t))return!0;return!1}function Mr(e){return e===Vd||e===Yd}function Yn(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Bi||65536<=e&&e<=1114111}function Us(e){return Yn(e)&&e!==Bi&&e!==zd&&e!==Gn}function $s(e,t,n){var r=Us(e),i=r&&!Mr(e);return(n?r:r&&e!==la&&e!==ca&&e!==fa&&e!==ua&&e!==da)&&e!==Di&&!(t===Ir&&!i)||Us(t)&&!Mr(t)&&e===Di||t===Ir&&i}function mp(e){return Yn(e)&&e!==Bi&&!Mr(e)&&e!==tp&&e!==ip&&e!==Ir&&e!==la&&e!==ca&&e!==fa&&e!==ua&&e!==da&&e!==Di&&e!==Xd&&e!==ep&&e!==Kd&&e!==ap&&e!==np&&e!==rp&&e!==Zd&&e!==Qd&&e!==Jd&&e!==op&&e!==sp}function gp(e){return!Mr(e)&&e!==Ir}function Bn(e,t){var n=e.charCodeAt(t),r;return n>=55296&&n<=56319&&t+1<e.length&&(r=e.charCodeAt(t+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}function pa(e){var t=/^\n* /;return t.test(e)}var ha=1,ki=2,ma=3,ga=4,bn=5;function bp(e,t,n,r,i,s,o,a){var l,c=0,f=null,u=!1,d=!1,p=r!==-1,y=-1,g=mp(Bn(e,0))&&gp(Bn(e,e.length-1));if(t||o)for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=Bn(e,l),!Yn(c))return bn;g=g&&$s(c,f,a),f=c}else{for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=Bn(e,l),c===Gn)u=!0,p&&(d=d||l-y-1>r&&e[y+1]!==" ",y=l);else if(!Yn(c))return bn;g=g&&$s(c,f,a),f=c}d=d||p&&l-y-1>r&&e[y+1]!==" "}return!u&&!d?g&&!o&&!i(e)?ha:s===qn?bn:ki:n>9&&pa(e)?bn:o?s===qn?bn:ki:d?ga:ma}function yp(e,t,n,r,i){e.dump=function(){if(t.length===0)return e.quotingType===qn?'""':"''";if(!e.noCompatMode&&(lp.indexOf(t)!==-1||cp.test(t)))return e.quotingType===qn?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,n),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),a=r||e.flowLevel>-1&&n>=e.flowLevel;function l(c){return hp(e,c)}switch(bp(t,a,e.indent,o,l,e.quotingType,e.forceQuotes&&!r,i)){case ha:return t;case ki:return"'"+t.replace(/'/g,"''")+"'";case ma:return"|"+Ws(t,e.indent)+Bs(Rs(t,s));case ga:return">"+Ws(t,e.indent)+Bs(Rs(wp(t,o),s));case bn:return'"'+Ap(t)+'"';default:throw new He("impossible error: invalid scalar style")}}()}function Ws(e,t){var n=pa(e)?String(t):"",r=e[e.length-1]===`
`,i=r&&(e[e.length-2]===`
`||e===`
`),s=i?"+":r?"":"-";return n+s+`
`}function Bs(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function wp(e,t){for(var n=/(\n+)([^\n]*)/g,r=function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,n.lastIndex=c,Hs(e.slice(0,c),t)}(),i=e[0]===`
`||e[0]===" ",s,o;o=n.exec(e);){var a=o[1],l=o[2];s=l[0]===" ",r+=a+(!i&&!s&&l!==""?`
`:"")+Hs(l,t),i=s}return r}function Hs(e,t){if(e===""||e[0]===" ")return e;for(var n=/ [^ ]/g,r,i=0,s,o=0,a=0,l="";r=n.exec(e);)a=r.index,a-i>t&&(s=o>i?o:a,l+=`
`+e.slice(i,s),i=s+1),o=a;return l+=`
`,e.length-i>t&&o>i?l+=e.slice(i,o)+`
`+e.slice(o+1):l+=e.slice(i),l.slice(1)}function Ap(e){for(var t="",n=0,r,i=0;i<e.length;n>=65536?i+=2:i++)n=Bn(e,i),r=Le[n],!r&&Yn(n)?(t+=e[i],n>=65536&&(t+=e[i+1])):t+=r||up(n);return t}function xp(e,t,n){var r="",i=e.tag,s,o,a;for(s=0,o=n.length;s<o;s+=1)a=n[s],e.replacer&&(a=e.replacer.call(n,String(s),a)),(mt(e,t,a,!1,!1)||typeof a=="undefined"&&mt(e,t,null,!1,!1))&&(r!==""&&(r+=","+(e.condenseFlow?"":" ")),r+=e.dump);e.tag=i,e.dump="["+r+"]"}function Gs(e,t,n,r){var i="",s=e.tag,o,a,l;for(o=0,a=n.length;o<a;o+=1)l=n[o],e.replacer&&(l=e.replacer.call(n,String(o),l)),(mt(e,t+1,l,!0,!0,!1,!0)||typeof l=="undefined"&&mt(e,t+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=Ni(e,t)),e.dump&&Gn===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}function Cp(e,t,n){var r="",i=e.tag,s=Object.keys(n),o,a,l,c,f;for(o=0,a=s.length;o<a;o+=1)f="",r!==""&&(f+=", "),e.condenseFlow&&(f+='"'),l=s[o],c=n[l],e.replacer&&(c=e.replacer.call(n,l,c)),mt(e,t,l,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),mt(e,t,c,!1,!1)&&(f+=e.dump,r+=f));e.tag=i,e.dump="{"+r+"}"}function Op(e,t,n,r){var i="",s=e.tag,o=Object.keys(n),a,l,c,f,u,d;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new He("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)d="",(!r||i!=="")&&(d+=Ni(e,t)),c=o[a],f=n[c],e.replacer&&(f=e.replacer.call(n,c,f)),mt(e,t+1,c,!0,!0,!0)&&(u=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,u&&(e.dump&&Gn===e.dump.charCodeAt(0)?d+="?":d+="? "),d+=e.dump,u&&(d+=Ni(e,t)),mt(e,t+1,f,!0,u)&&(e.dump&&Gn===e.dump.charCodeAt(0)?d+=":":d+=": ",d+=e.dump,i+=d));e.tag=s,e.dump=i||"{}"}function qs(e,t,n){var r,i,s,o,a,l;for(i=n?e.explicitTypes:e.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(n?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(l=e.styleMap[a.tag]||a.defaultStyle,sa.call(a.represent)==="[object Function]")r=a.represent(t,l);else if(aa.call(a.represent,l))r=a.represent[l](t,l);else throw new He("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');e.dump=r}return!0}return!1}function mt(e,t,n,r,i,s,o){e.tag=null,e.dump=n,qs(e,n,!1)||qs(e,n,!0);var a=sa.call(e.dump),l=r,c;r&&(r=e.flowLevel<0||e.flowLevel>t);var f=a==="[object Object]"||a==="[object Array]",u,d;if(f&&(u=e.duplicates.indexOf(n),d=u!==-1),(e.tag!==null&&e.tag!=="?"||d||e.indent!==2&&t>0)&&(i=!1),d&&e.usedDuplicates[u])e.dump="*ref_"+u;else{if(f&&d&&!e.usedDuplicates[u]&&(e.usedDuplicates[u]=!0),a==="[object Object]")r&&Object.keys(e.dump).length!==0?(Op(e,t,e.dump,i),d&&(e.dump="&ref_"+u+e.dump)):(Cp(e,t,e.dump),d&&(e.dump="&ref_"+u+" "+e.dump));else if(a==="[object Array]")r&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?Gs(e,t-1,e.dump,i):Gs(e,t,e.dump,i),d&&(e.dump="&ref_"+u+e.dump)):(xp(e,t,e.dump),d&&(e.dump="&ref_"+u+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&yp(e,e.dump,t,s,l);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new He("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}function vp(e,t){var n=[],r=[],i,s;for(Ri(e,n,r),i=0,s=r.length;i<s;i+=1)t.duplicates.push(n[r[i]]);t.usedDuplicates=new Array(s)}function Ri(e,t,n){var r,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)Ri(e[i],t,n);else for(r=Object.keys(e),i=0,s=r.length;i<s;i+=1)Ri(e[r[i]],t,n)}function Ep(e,t){t=t||{};var n=new pp(t);n.noRefs||vp(e,n);var r=e;return n.replacer&&(r=n.replacer.call({"":r},"",r)),mt(n,0,r,!0,!0)?n.dump+`
`:""}var _p=Ep,Sp={dump:_p};function Hi(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var ba=oa.load,c0=oa.loadAll,ya=Sp.dump;var f0=Hi("safeLoad","load"),u0=Hi("safeLoadAll","loadAll"),d0=Hi("safeDump","dump");var Za=require("fs"),ao=require("path"),el=require("fs"),tl=Z(require("fs"),1);b();function gt(){}gt.prototype={diff:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.callback;typeof r=="function"&&(i=r,r={}),this.options=r;var s=this;function o(g){return i?(setTimeout(function(){i(void 0,g)},0),!0):g}t=this.castInput(t),n=this.castInput(n),t=this.removeEmpty(this.tokenize(t)),n=this.removeEmpty(this.tokenize(n));var a=n.length,l=t.length,c=1,f=a+l,u=[{newPos:-1,components:[]}],d=this.extractCommon(u[0],n,t,0);if(u[0].newPos+1>=a&&d+1>=l)return o([{value:this.join(n),count:n.length}]);function p(){for(var g=-1*c;g<=c;g+=2){var m=void 0,v=u[g-1],E=u[g+1],R=(E?E.newPos:0)-g;v&&(u[g-1]=void 0);var V=v&&v.newPos+1<a,Q=E&&0<=R&&R<l;if(!V&&!Q){u[g]=void 0;continue}if(!V||Q&&v.newPos<E.newPos?(m=Pp(E),s.pushComponent(m.components,void 0,!0)):(m=v,m.newPos++,s.pushComponent(m.components,!0,void 0)),R=s.extractCommon(m,n,t,g),m.newPos+1>=a&&R+1>=l)return o(jp(s,m.components,n,t,s.useLongestToken));u[g]=m}c++}if(i)(function g(){setTimeout(function(){if(c>f)return i();p()||g()},0)})();else for(;c<=f;){var y=p();if(y)return y}},pushComponent:function(t,n,r){var i=t[t.length-1];i&&i.added===n&&i.removed===r?t[t.length-1]={count:i.count+1,added:n,removed:r}:t.push({count:1,added:n,removed:r})},extractCommon:function(t,n,r,i){for(var s=n.length,o=r.length,a=t.newPos,l=a-i,c=0;a+1<s&&l+1<o&&this.equals(n[a+1],r[l+1]);)a++,l++,c++;return c&&t.components.push({count:c}),t.newPos=a,l},equals:function(t,n){return this.options.comparator?this.options.comparator(t,n):t===n||this.options.ignoreCase&&t.toLowerCase()===n.toLowerCase()},removeEmpty:function(t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(t[r]);return n},castInput:function(t){return t},tokenize:function(t){return t.split("")},join:function(t){return t.join("")}};function jp(e,t,n,r,i){for(var s=0,o=t.length,a=0,l=0;s<o;s++){var c=t[s];if(c.removed){if(c.value=e.join(r.slice(l,l+c.count)),l+=c.count,s&&t[s-1].added){var u=t[s-1];t[s-1]=t[s],t[s]=u}}else{if(!c.added&&i){var f=n.slice(a,a+c.count);f=f.map(function(p,y){var g=r[l+y];return g.length>p.length?g:p}),c.value=e.join(f)}else c.value=e.join(n.slice(a,a+c.count));a+=c.count,c.added||(l+=c.count)}}var d=t[o-1];return o>1&&typeof d.value=="string"&&(d.added||d.removed)&&e.equals("",d.value)&&(t[o-2].value+=d.value,t.pop()),t}function Pp(e){return{newPos:e.newPos,components:e.components.slice(0)}}var h0=new gt;var wa=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,Aa=/\S/,xa=new gt;xa.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!Aa.test(e)&&!Aa.test(t)};xa.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&wa.test(t[n])&&wa.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};var Yi=new gt;Yi.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var i=n[r];r%2&&!this.options.newlineIsToken?t[t.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),t.push(i))}return t};function zi(e,t,n){return Yi.diff(e,t,n)}var Ip=new gt;Ip.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var Mp=new gt;Mp.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function Tr(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tr=function(t){return typeof t}:Tr=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tr(e)}var Fp=Object.prototype.toString,xn=new gt;xn.useLongestToken=!0;xn.tokenize=Yi.tokenize;xn.castInput=function(e){var t=this.options,n=t.undefinedReplacement,r=t.stringifyReplacer,i=r===void 0?function(s,o){return typeof o=="undefined"?n:o}:r;return typeof e=="string"?e:JSON.stringify(Gi(e,null,null,i),i,"  ")};xn.equals=function(e,t){return gt.prototype.equals.call(xn,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function Ca(e,t,n){return xn.diff(e,t,n)}function Gi(e,t,n,r,i){t=t||[],n=n||[],r&&(e=r(i,e));var s;for(s=0;s<t.length;s+=1)if(t[s]===e)return n[s];var o;if(Fp.call(e)==="[object Array]"){for(t.push(e),o=new Array(e.length),n.push(o),s=0;s<e.length;s+=1)o[s]=Gi(e[s],t,n,r,i);return t.pop(),n.pop(),o}if(e&&e.toJSON&&(e=e.toJSON()),Tr(e)==="object"&&e!==null){t.push(e),o={},n.push(o);var a=[],l;for(l in e)e.hasOwnProperty(l)&&a.push(l);for(a.sort(),s=0;s<a.length;s+=1)l=a[s],o[l]=Gi(e[l],t,n,r,l);t.pop(),n.pop()}else o=e;return o}var qi=new gt;qi.tokenize=function(e){return e.slice()};qi.join=qi.removeEmpty=function(e){return e};var il=Z(Xa(),1);Ie();Ie();async function ye({objects:e,selectIdentifier:t,selectDisplayName:n=t,onSyncComplete:r}){let i=e.reduce((a,l)=>{let c=t(l);if(a[c])throw new Error(`Identifier ${c} was not unique.`);return a[c]={id:c,object:l,providerId:c,displayName:n(l)},a},{});async function*s(){for(let a of Object.values(i))yield a}function o(){return Object.entries(i).sort((a,l)=>a[0].localeCompare(l[0])).map(a=>a[1].object)}return{objects:s(),deleteObject:async a=>{delete i[a]},writeObject:async a=>{let l=t(a.object);i[l]=a},extractCurrent:o,onSyncComplete:r?a=>r(a,o()):void 0}}Ie();var Xh=Pi(Ii());Ie();function N(e){var t,n;return e.option("apiKey",{describe:"Uniform API key. Defaults to CANVAS_CLI_API_KEY or UNIFORM_API_KEY env. Supports dotenv.",default:(n=(t=process.env.CANVAS_CLI_API_KEY)!=null?t:process.env.UPM_CLI_API_KEY)!=null?n:process.env.UNIFORM_API_KEY,demandOption:!0,type:"string"}).option("apiHost",{describe:"Uniform host. Defaults to UNIFORM_CLI_BASE_URL env or https://uniform.app. Supports dotenv.",default:process.env.UNIFORM_CLI_BASE_URL||"https://uniform.app",demandOption:!0,type:"string"})}function k(e){var t,n,r;return e.option("project",{describe:"Uniform project ID. Defaults to UNIFORM_CLI_PROJECT_ID or UNIFORM_PROJECT_ID env. Supports dotenv.",default:(r=(n=(t=process.env.UNIFORM_CLI_PROJECT_ID)!=null?t:process.env.CANVAS_CLI_PROJECT_ID)!=null?n:process.env.UPM_CLI_PROJECT_ID)!=null?r:process.env.UNIFORM_PROJECT_ID,demandOption:!0,type:"string",alias:["p"]})}function we(e){return e.option("format",{alias:["f"],describe:"Output format",default:"yaml",choices:["yaml","json"],type:"string"}).option("filename",{alias:["o"],describe:"Output filename. If not specified, write to stdout.",type:"string"})}function Ae(e){var t;return e.option("diff",{describe:"Whether to show diffs in stdout. off = no diffs; update = on for updates; on = updates, creates, deletes. Can be set by UNIFORM_CLI_DIFF_MODE environment variable.",default:(t=process.env.UNIFORM_CLI_DIFF_MODE)!=null?t:"off",type:"string",choices:["off","update","on"],alias:["d"]})}function xe(e){let t=(0,ao.extname)(e);return t===".yaml"||t===".yml"||t===".json"}function fe(e,t,n){let r;if(n&&!t){let i=(0,ao.extname)(n);i===".yaml"||i===".yml"?t="yaml":i===".json"&&(t="json")}else if(!t)throw new Error("Format must be specified when no filename is passed");switch(t){case"json":r=JSON.stringify(e,null,2);break;case"yaml":r=ya(e);break;default:throw new Error(`Unsupported format: ${t}`)}n?(0,Za.writeFileSync)(n,r,"utf8"):console.log(r)}function dt(e){let t=(0,el.readFileSync)(e,"utf8");return ba(t,{filename:e,json:!0})}async function Ce({directory:e,format:t="yaml",selectIdentifier:n,selectDisplayName:r=n}){(0,Gr.existsSync)(e)||(0,Gr.mkdirSync)(e,{recursive:!0});let i=await(0,qr.readdir)(e,"utf-8"),s=new Set(i.filter(l=>{let c=(0,Jn.extname)(l);return c===".json"||c===".yaml"||c===".yml"})),o=l=>(0,Jn.join)(e,`${l}.${t}`);async function*a(){for(let l of s){let c=(0,Jn.join)(e,l);try{let f=await dt(c);yield{id:n(f),displayName:r(f),providerId:c,object:f}}catch(f){throw console.error(Xh.default.red(`Failed to read ${c}, data is likely invalid.
${f==null?void 0:f.message}`)),f}}}return{objects:a(),deleteObject:async l=>{await(0,qr.unlink)(l)},writeObject:async l=>{fe(l.object,t,o(l.id))}}}Ie();function nl(e,t){if(!t&&!tl.default.existsSync(e))return{};let n=dt(e);if(typeof n!="object")throw new Error(`Package ${e} does not appear valid.`);return n}function rl(e,t){fe(t,void 0,e)}Ie();async function ue({source:e,target:t,compareContents:n=(a,l)=>(0,il.default)(a.object,l.object,(c,f,u)=>u==="created"||u==="modified"?!0:void 0),mode:r,allowEmptySource:i=!1,whatIf:s=!1,log:o=()=>{}}){var a,l;let c=new Map;for await(let d of t.objects)c.set(d.id,d);let f=[],u=!1;for await(let d of e.objects){u=!0;let p=d.id,y=c.get(p);if(y){if(!n(d,y)&&(r==="createOrUpdate"||r==="mirror")){let g=async(m,v)=>{var E;if(!s)try{await t.writeObject(m,v)}catch(R){throw new Hr(R,m)}o({action:"update",id:p,providerId:m.providerId,displayName:(E=m.displayName)!=null?E:m.providerId,whatIf:s,diff:Ca(v.object,m.object)})};f.push(g(d,y))}c.delete(p)}else{let g=async(m,v)=>{var E;if(!s)try{await t.writeObject(m)}catch(R){throw new Hr(R,m)}o({action:"create",id:v,providerId:v,displayName:(E=m.displayName)!=null?E:m.providerId,whatIf:s,diff:zi("",JSON.stringify(m.object,null,2))})};f.push(g(d,p))}}if(await Promise.all(f),r==="mirror"){if(!u&&!i)throw new Error("Source is empty and mode is mirror. This would cause deletion of everything in the target, and most likely indicates an error in source definition.");let d=[];c.forEach(async p=>{let y=async g=>{var m;if(!s)try{await t.deleteObject(g.providerId)}catch(v){throw new Hr(v,g)}o({action:"delete",id:g.id,providerId:g.providerId,displayName:(m=g.displayName)!=null?m:g.providerId,whatIf:s,diff:zi(JSON.stringify(g.object,null,2),"")})};d.push(y(p))}),await Promise.all(d)}await Promise.all([(a=e.onSyncComplete)==null?void 0:a.call(e,!1),(l=t.onSyncComplete)==null?void 0:l.call(t,!0)])}var Hr=class extends Error{constructor(e,t){var n;super(`Error syncing ${(n=t.displayName)!=null?n:t.providerId} (${t.providerId})
${e}`),this.stack=void 0,Object.setPrototypeOf(this,Hr.prototype)}};Ie();var En=Pi(Ii());function de(e){let{diffMode:t="off",indent:n,prefix:r}=e!=null?e:{};return function({action:i,displayName:s,whatIf:o,diff:a}){let l="";switch(i){case"create":l=En.default.green("[A]");break;case"update":l=En.default.white("[U]");break;case"delete":l=En.default.yellow("[D]");break}let c="";(t==="on"||t==="update"&&i==="update")&&(c=`
`+a.map(f=>f.added?En.default.green(f.value):f.removed?En.default.red(f.value):f.value).join("")),console.log(`${n!=null?n:""}${o?En.default.gray("[WHATIF]"):""}${l}${r!=null?r:""} ${s}${c}`)}}b();b();b();var ol=async e=>await e(),Mt=class extends Error{constructor(n,r,i,s,o,a){super(`${n}
 ${s}${o?" "+o:""} (${r} ${i}${a?` Request ID: ${a}`:""})`);this.errorMessage=n;this.fetchMethod=r;this.fetchUri=i;this.statusCode=s;this.statusText=o;this.requestId=a;Object.setPrototypeOf(this,Mt.prototype)}};var De=class{constructor(t){Co(this,"options");var n,r,i,s,o,a;if(!t.apiKey&&!t.bearerToken)throw new Error("You must provide an API key or a bearer token");this.options={...t,fetch:(n=t.fetch)!=null?n:fetch,apiHost:(r=t.apiHost)!=null?r:"https://uniform.app",apiKey:(i=t.apiKey)!=null?i:null,projectId:(s=t.projectId)!=null?s:null,bearerToken:(o=t.bearerToken)!=null?o:null,limitPolicy:(a=t.limitPolicy)!=null?a:ol}}async apiClient(t,n){return this.options.limitPolicy(async()=>{var s;let r=this.options.apiKey?{"x-api-key":this.options.apiKey}:{Authorization:`Bearer ${this.options.bearerToken}`},i=await fetch(t.toString(),{...n,headers:{...n==null?void 0:n.headers,...r}});if(!i.ok){let o="";try{let a=await i.text();try{let l=JSON.parse(a);l.errorMessage?o=Array.isArray(l.errorMessage)?l.errorMessage.join(", "):l.errorMessage:o=a}catch(l){o=a}}catch(a){o="General error"}throw new Mt(o,(s=n==null?void 0:n.method)!=null?s:"GET",t.toString(),i.status,i.statusText,De.getRequestId(i))}return n!=null&&n.expectNoContent?null:await i.json()})}createUrl(t,n){let r=new URL(`${this.options.apiHost}${t}`);return Object.entries(n!=null?n:{}).forEach(([i,s])=>{var o;typeof s!="undefined"&&s!==null&&r.searchParams.append(i,(o=s==null?void 0:s.toString())!=null?o:"")}),r}static getRequestId(t){let n=t.headers.get("x-nf-request-id");if(n)return n}};var _n,Xn=class extends De{constructor(t){super(t)}async get(t){let{projectId:n}=this.options,r=this.createUrl(le(Xn,_n),{...t,projectId:n});return await this.apiClient(r)}async upsert(t){let n=this.createUrl(le(Xn,_n));await this.apiClient(n,{method:"PUT",body:JSON.stringify({...t,projectId:this.options.projectId}),expectNoContent:!0})}async remove(t){let n=this.createUrl(le(Xn,_n));await this.apiClient(n,{method:"DELETE",body:JSON.stringify({...t,projectId:this.options.projectId}),expectNoContent:!0})}},Re=Xn;_n=new WeakMap,ze(Re,_n,"/api/v2/aggregate");var al={command:"get <id>",describe:"Fetch an aggregate",builder:e=>we(N(k(e.positional("id",{demandOption:!0,describe:"Aggregate public ID to fetch"})))),handler:async({apiHost:e,apiKey:t,id:n,format:r,project:i,filename:s})=>{let a=await new Re({apiKey:t,apiHost:e,fetch:sl.default,projectId:i}).get({aggregateId:n});a.aggregates.length===0?(console.error("Aggregate did not exist"),process.exit(1)):fe(a.aggregates[0],r,s)}};b();var ll=Z(require("isomorphic-unfetch"));var cl={command:"list",describe:"List aggregates",aliases:["ls"],builder:e=>we(N(k(e))),handler:async({apiHost:e,apiKey:t,format:n,filename:r,project:i})=>{let o=await new Re({apiKey:t,apiHost:e,fetch:ll.default,projectId:i}).get({});fe(o.aggregates,n,r)}};b();var ul=Z(require("isomorphic-unfetch"));b();var Ft=e=>e.id,Tt=e=>`${e.name} (pid: ${e.id})`;b();function me(e,t){return nl(e,t)}function at(e,t){rl(e,t)}b();var fl=Z(require("p-limit")),Oe=(0,fl.default)(8);b();function Yr({client:e,type:t}){async function*n(){let i=(await e.get({type:t})).aggregates;for await(let s of i)yield{id:Ft(s),displayName:Tt(s),providerId:s.id,object:s}}let r=[];return{objects:n(),deleteObject:async i=>{await e.remove({aggregateId:i})},writeObject:async i=>{await e.upsert({aggregate:i.object,skipInputs:!0}),r.push(i.object)},complete:async()=>{await Promise.all(r.map(i=>e.upsert({aggregate:i,skipInputs:!1})))}}}var dl={command:"pull <directory>",describe:"Pulls all aggregates to local files in a directory",builder:e=>N(k(Ae(e.positional("directory",{describe:"Directory to save the aggregates to. If a filename ending in yaml or json is used, a package file will be created instead of files in the directory.",type:"string"}).option("format",{alias:["f"],describe:"Output format",default:"yaml",choices:["yaml","json"],type:"string"}).option("what-if",{alias:["w"],describe:"What-if mode reports what would be done but changes no files",default:!1,type:"boolean"}).option("mode",{alias:["m"],describe:'What kind of changes can be made. "create" = create new files, update nothing. "createOrUpdate" = create new files, update existing, delete nothing. "mirror" = create, update, and delete to mirror state',choices:["create","createOrUpdate","mirror"],default:"mirror",type:"string"})))),handler:async({apiHost:e,apiKey:t,directory:n,format:r,mode:i,whatIf:s,project:o,diff:a})=>{var d;let l=new Re({apiKey:t,apiHost:e,fetch:ul.default,projectId:o,limitPolicy:Oe}),c=Yr({client:l}),f;if(xe(n)){let p=me(n,!1);f=await ye({objects:(d=p.aggregates)!=null?d:[],selectIdentifier:Ft,selectDisplayName:Tt,onSyncComplete:async(y,g)=>{p.aggregates=g,at(n,p)}})}else f=await Ce({directory:n,selectIdentifier:Ft,selectDisplayName:Tt,format:r});await ue({source:c,target:f,mode:i,whatIf:s,log:de({diffMode:a})})}};b();var pl=Z(require("isomorphic-unfetch"));var hl={command:"push <directory>",describe:"Pushes all aggregates from files in a directory or package to Uniform",builder:e=>N(k(Ae(e.positional("directory",{describe:"Directory to read the aggregates from. If a filename is used, a package will be read instead.",type:"string"}).option("what-if",{alias:["w"],describe:"What-if mode reports what would be done but changes nothing",default:!1,type:"boolean"}).option("mode",{alias:["m"],describe:'What kind of changes can be made. "create" = create new, update nothing. "createOrUpdate" = create new, update existing, delete nothing. "mirror" = create, update, and delete',choices:["create","createOrUpdate","mirror"],default:"mirror",type:"string"})))),handler:async({apiHost:e,apiKey:t,directory:n,mode:r,whatIf:i,project:s,diff:o})=>{var u;let a=new Re({apiKey:t,apiHost:e,fetch:pl.default,projectId:s,limitPolicy:Oe}),l;if(xe(n)){let d=me(n,!0);l=await ye({objects:(u=d.aggregates)!=null?u:[],selectIdentifier:Ft,selectDisplayName:Tt})}else l=await Ce({directory:n,selectIdentifier:Ft,selectDisplayName:Tt});let f=Yr({client:a});await ue({source:l,target:f,mode:r,whatIf:i,log:de({diffMode:o})}),await f.complete()}};b();var ml=Z(require("isomorphic-unfetch"));var gl={command:"remove <id>",aliases:["delete","rm"],describe:"Delete an aggregate",builder:e=>N(k(e.positional("id",{demandOption:!0,describe:"Aggregate public ID to delete"}))),handler:async({apiHost:e,apiKey:t,id:n,project:r})=>{await new Re({apiKey:t,apiHost:e,fetch:ml.default,projectId:r}).remove({aggregateId:n})}};b();var bl=Z(require("isomorphic-unfetch"));var yl={command:"update <filename>",aliases:["put"],describe:"Insert or update an aggregate",builder:e=>N(k(e.positional("filename",{demandOption:!0,describe:"Aggregate file to put"}))),handler:async({apiHost:e,apiKey:t,filename:n,project:r})=>{let i=new Re({apiKey:t,apiHost:e,fetch:bl.default,projectId:r}),s=dt(n);await i.upsert({aggregate:s})}};var wl={command:"aggregate <command>",aliases:["agg","intent","audience"],describe:"Commands for Context aggregates (intents, audiences)",builder:e=>e.command(dl).command(hl).command(al).command(gl).command(cl).command(yl).demandCommand(),handler:()=>{Be.help()}};b();b();var Al=Z(require("isomorphic-unfetch"));b();var Sn,Zn,ln=class extends De{constructor(t){super(t)}async get(t){let{projectId:n}=this.options,r=this.createUrl(le(ln,Sn),{...t,projectId:n});return await this.apiClient(r)}async upsertCategory(t){let n=this.createUrl(le(ln,Sn));await this.apiClient(n,{method:"PUT",body:JSON.stringify({...t,projectId:this.options.projectId}),expectNoContent:!0})}async removeCategory(t){let n=this.createUrl(le(ln,Sn));await this.apiClient(n,{method:"DELETE",body:JSON.stringify({...t,projectId:this.options.projectId}),expectNoContent:!0})}async upsertValue(t){let n=this.createUrl(le(ln,Zn));await this.apiClient(n,{method:"PUT",body:JSON.stringify({...t,projectId:this.options.projectId}),expectNoContent:!0})}async removeValue(t){let n=this.createUrl(le(ln,Zn));await this.apiClient(n,{method:"DELETE",body:JSON.stringify({...t,projectId:this.options.projectId}),expectNoContent:!0})}},qe=ln;Sn=new WeakMap,Zn=new WeakMap,ze(qe,Sn,"/api/v1/enrichments"),ze(qe,Zn,"/api/v1/enrichment-values");var xl={command:"get <id>",describe:"Fetch an enrichment category and its values",builder:e=>we(N(k(e.positional("id",{demandOption:!0,describe:"Enrichment category public ID to fetch"})))),handler:async({apiHost:e,apiKey:t,id:n,format:r,project:i,filename:s})=>{var l,c;let a=(c=(l=await new qe({apiKey:t,apiHost:e,fetch:Al.default,projectId:i}).get())==null?void 0:l.enrichments)==null?void 0:c.filter(f=>f.id===n);a.length===0?(console.error("Enrichment did not exist"),process.exit(1)):fe(a[0],r,s)}};b();var Cl=Z(require("isomorphic-unfetch"));var Ol={command:"list",describe:"List enrichments",aliases:["ls"],builder:e=>we(N(k(e))),handler:async({apiHost:e,apiKey:t,format:n,filename:r,project:i})=>{let o=await new qe({apiKey:t,apiHost:e,fetch:Cl.default,projectId:i}).get();fe(o.enrichments,n,r)}};b();var El=Z(require("isomorphic-unfetch"));b();var Lt=e=>e.id,Dt=e=>`${e.name} (pid: ${e.id})`;b();function zr({client:e}){async function*t(){let n=(await e.get()).enrichments;for await(let r of n)yield{id:Lt(r),displayName:Dt(r),providerId:r.id,object:r}}return{objects:t(),deleteObject:async n=>{await e.removeCategory({enrichmentId:n})},writeObject:async(n,r)=>{var o,a;await e.upsertCategory({enrichment:n.object});let i=vl({categoryId:n.id,values:n.object.values}),s=vl({categoryId:n.id,values:(a=(o=r==null?void 0:r.object)==null?void 0:o.values)!=null?a:[],client:e});await ue({source:i,target:s,mode:"mirror",whatIf:!1,log:de({diffMode:"off",prefix:` ${n.displayName} value`,indent:"> "})})}}}var vl=({client:e,categoryId:t,values:n})=>({objects:async function*(){for(let i of n)yield{id:i.id,providerId:i.id,object:i,displayName:`${i.value} (pid: ${i.id})`}}(),deleteObject:async i=>{if(!e)throw new Error("Provider is read only");await e.removeValue({enrichmentId:t,enrichmentValueId:i})},writeObject:async i=>{if(!e)throw new Error("Provider is read only");await e.upsertValue({enrichmentId:t,enrichmentValue:i.object})}});var _l={command:"pull <directory>",describe:"Pulls all enrichments to local files in a directory",builder:e=>N(k(Ae(e.positional("directory",{describe:"Directory to save the enrichments to. If a filename ending in yaml or json is used, a package file will be created instead of files in the directory.",type:"string"}).option("format",{alias:["f"],describe:"Output format",default:"yaml",choices:["yaml","json"],type:"string"}).option("what-if",{alias:["w"],describe:"What-if mode reports what would be done but changes no files",default:!1,type:"boolean"}).option("mode",{alias:["m"],describe:'What kind of changes can be made. "create" = create new files, update nothing. "createOrUpdate" = create new files, update existing, delete nothing. "mirror" = create, update, and delete to mirror state',choices:["create","createOrUpdate","mirror"],default:"mirror",type:"string"})))),handler:async({apiHost:e,apiKey:t,directory:n,format:r,mode:i,whatIf:s,project:o,diff:a})=>{var d;let l=new qe({apiKey:t,apiHost:e,fetch:El.default,projectId:o,limitPolicy:Oe}),c=zr({client:l}),f;if(xe(n)){let p=me(n,!1);f=await ye({objects:(d=p.enrichments)!=null?d:[],selectIdentifier:Lt,selectDisplayName:Dt,onSyncComplete:async(y,g)=>{p.enrichments=g,at(n,p)}})}else f=await Ce({directory:n,selectIdentifier:Lt,selectDisplayName:Dt,format:r});await ue({source:c,target:f,mode:i,whatIf:s,log:de({diffMode:a})})}};b();var Sl=Z(require("isomorphic-unfetch"));var jl={command:"push <directory>",describe:"Pushes all enrichments from files in a directory or package to Uniform",builder:e=>N(k(Ae(e.positional("directory",{describe:"Directory to read the enrichments from. If a filename is used, a package will be read instead.",type:"string"}).option("what-if",{alias:["w"],describe:"What-if mode reports what would be done but changes nothing",default:!1,type:"boolean"}).option("mode",{alias:["m"],describe:'What kind of changes can be made. "create" = create new, update nothing. "createOrUpdate" = create new, update existing, delete nothing. "mirror" = create, update, and delete',choices:["create","createOrUpdate","mirror"],default:"mirror",type:"string"})))),handler:async({apiHost:e,apiKey:t,directory:n,mode:r,whatIf:i,project:s,diff:o})=>{var u;let a=new qe({apiKey:t,apiHost:e,fetch:Sl.default,projectId:s,limitPolicy:Oe}),l;if(xe(n)){let d=me(n,!0);l=await ye({objects:(u=d.enrichments)!=null?u:[],selectIdentifier:Lt,selectDisplayName:Dt})}else l=await Ce({directory:n,selectIdentifier:Lt,selectDisplayName:Dt});let f=zr({client:a});await ue({source:l,target:f,mode:r,whatIf:i,log:de({diffMode:o})})}};b();var Pl=Z(require("isomorphic-unfetch"));var Il={command:"remove <id>",aliases:["delete","rm"],describe:"Delete an enrichment category and its values",builder:e=>N(k(e.positional("id",{demandOption:!0,describe:"Enrichment category public ID to delete"}))),handler:async({apiHost:e,apiKey:t,id:n,project:r})=>{await new qe({apiKey:t,apiHost:e,fetch:Pl.default,projectId:r}).removeCategory({enrichmentId:n})}};var Ml={command:"enrichment <command>",aliases:["enr"],describe:"Commands for Context enrichments",builder:e=>e.command(_l).command(jl).command(xl).command(Il).command(Ol).demandCommand(),handler:()=>{Be.help()}};b();b();var rr=Z(fc()),uc=require("fs"),dc=Z(require("isomorphic-unfetch")),ti=require("process");b();var ei,wo=class extends De{constructor(t){super(t)}async get(t){let{projectId:n}=this.options,r=this.createUrl(le(wo,ei),{...t,projectId:n});return await this.apiClient(r)}},nr=wo;ei=new WeakMap,ze(nr,ei,"/api/v2/manifest");var pc={command:"get [output]",aliases:["dl","download"],describe:"Download the Uniform Context manifest for a project",builder:e=>{var t,n,r;return e.option("apiKey",{alias:"k",demandOption:!0,string:!0,default:(t=process.env.UNIFORM_API_KEY)!=null?t:"",describe:"Uniform API key to use. Defaults to UNIFORM_API_KEY env if set."}).option("project",{describe:"Uniform project ID. Defaults to UCTX_CLI_PROJECT_ID or UNIFORM_PROJECT_ID env. Supports dotenv.",demandOption:!0,default:(r=(n=process.env.UCTX_CLI_PROJECT_ID)!=null?n:process.env.UNIFORM_PROJECT_ID)!=null?r:"",type:"string",alias:["p"]}).option("preview",{describe:"If set, fetches the unpublished preview manifest (The API key must have permission)",default:!1,type:"boolean",alias:["d"]}).option("output",{string:!0,alias:"o",default:process.env.UNIFORM_MANIFEST_PATH,describe:"Path to write manifest to. Defaults to UNIFORM_MANIFEST_PATH env if set."})},handler:async({apiKey:e,output:t,project:n,preview:r})=>{n||(console.error(rr.default.red("You must specify the project ID")),(0,ti.exit)(1));let i=Om(),s=new nr({apiHost:i,projectId:n,apiKey:e,fetch:dc.default});try{let o=await s.get({preview:r}),a=JSON.stringify(o,null,2);t?(0,uc.writeFile)(t,a,l=>{l&&(console.error(`Error writing file to ${t}
`,l),(0,ti.exit)(1)),console.log(rr.default.green(`\u2705 ${t} has been updated from ${i}`))}):console.log(a)}catch(o){let a;o instanceof Mt?(o.statusCode===403&&(a=`The API key ${e} did not have permissions to fetch the manifest. Ensure ${r?"Context > Read Drafts":"Context > Manifest > Read"} permissions are granted.`),a=o.message):a=o.toString(),console.error(rr.default.red("\u26A0 Error fetching Context manifest")),console.error(rr.default.gray(`  \u2757 ${a}`)),(0,ti.exit)(1)}}},Om=()=>process.env.UNIFORM_CLI_BASE_URL||"https://uniform.app";var hc={command:"manifest <command>",describe:"Commands for context manifests",aliases:["man"],builder:e=>e.command(pc).demandCommand(),handler:()=>{Be.help()}};b();b();var mc=Z(require("isomorphic-unfetch"));b();var Fn,ir=class extends De{constructor(t){super(t)}async get(t){let{projectId:n}=this.options,r=this.createUrl(le(ir,Fn),{...t,projectId:n});return await this.apiClient(r)}async upsert(t){let n=this.createUrl(le(ir,Fn));await this.apiClient(n,{method:"PUT",body:JSON.stringify({...t,projectId:this.options.projectId}),expectNoContent:!0})}async remove(t){let n=this.createUrl(le(ir,Fn));await this.apiClient(n,{method:"DELETE",body:JSON.stringify({...t,projectId:this.options.projectId}),expectNoContent:!0})}},Ue=ir;Fn=new WeakMap,ze(Ue,Fn,"/api/v2/quirk");var gc={command:"get <id>",describe:"Fetch a quirk",builder:e=>we(N(k(e.positional("id",{demandOption:!0,describe:"Quirk public ID to fetch"})))),handler:async({apiHost:e,apiKey:t,id:n,format:r,project:i,filename:s})=>{let a=await new Ue({apiKey:t,apiHost:e,fetch:mc.default,projectId:i}).get({quirkId:n,withIntegrations:!0});a.quirks.length===0?(console.error("Quirk did not exist"),process.exit(1)):fe(a.quirks[0],r,s)}};b();var bc=Z(require("isomorphic-unfetch"));var yc={command:"list",describe:"List quirks",aliases:["ls"],builder:e=>we(N(k(e.option("withIntegrations",{alias:["i"],describe:"Whether to include meta-quirks created by integrations in the list. Defaults to false.",type:"boolean"})))),handler:async({apiHost:e,apiKey:t,format:n,filename:r,project:i,withIntegrations:s})=>{let a=await new Ue({apiKey:t,apiHost:e,fetch:bc.default,projectId:i}).get({withIntegrations:s});fe(a.quirks,n,r)}};b();var wc=Z(require("isomorphic-unfetch"));b();var kt=e=>e.id,Rt=e=>`${e.name} (pid: ${e.id})`;b();function ni({client:e}){async function*t(){let n=(await e.get({withIntegrations:!1})).quirks;for await(let r of n)yield{id:kt(r),displayName:Rt(r),providerId:r.id,object:r}}return{objects:t(),deleteObject:async n=>{await e.remove({quirkId:n})},writeObject:async n=>{await e.upsert({quirk:n.object})}}}var Ac={command:"pull <directory>",describe:"Pulls all quirks to local files in a directory",builder:e=>N(k(Ae(e.positional("directory",{describe:"Directory to save the quirks to. If a filename ending in yaml or json is used, a package file will be created instead of files in the directory.",type:"string"}).option("format",{alias:["f"],describe:"Output format",default:"yaml",choices:["yaml","json"],type:"string"}).option("what-if",{alias:["w"],describe:"What-if mode reports what would be done but changes no files",default:!1,type:"boolean"}).option("mode",{alias:["m"],describe:'What kind of changes can be made. "create" = create new files, update nothing. "createOrUpdate" = create new files, update existing, delete nothing. "mirror" = create, update, and delete to mirror state',choices:["create","createOrUpdate","mirror"],default:"mirror",type:"string"})))),handler:async({apiHost:e,apiKey:t,directory:n,format:r,mode:i,whatIf:s,project:o,diff:a})=>{var d;let l=new Ue({apiKey:t,apiHost:e,fetch:wc.default,projectId:o,limitPolicy:Oe}),c=ni({client:l}),f;if(xe(n)){let p=me(n,!1);f=await ye({objects:(d=p.quirks)!=null?d:[],selectIdentifier:kt,selectDisplayName:Rt,onSyncComplete:async(y,g)=>{p.quirks=g,at(n,p)}})}else f=await Ce({directory:n,selectIdentifier:kt,selectDisplayName:Rt,format:r});await ue({source:c,target:f,mode:i,whatIf:s,log:de({diffMode:a})})}};b();var xc=Z(require("isomorphic-unfetch"));var Cc={command:"push <directory>",describe:"Pushes all quirks from files in a directory or package to Uniform",builder:e=>N(k(Ae(e.positional("directory",{describe:"Directory to read the quirks from. If a filename is used, a package will be read instead.",type:"string"}).option("what-if",{alias:["w"],describe:"What-if mode reports what would be done but changes nothing",default:!1,type:"boolean"}).option("mode",{alias:["m"],describe:'What kind of changes can be made. "create" = create new, update nothing. "createOrUpdate" = create new, update existing, delete nothing. "mirror" = create, update, and delete',choices:["create","createOrUpdate","mirror"],default:"mirror",type:"string"})))),handler:async({apiHost:e,apiKey:t,directory:n,mode:r,whatIf:i,project:s,diff:o})=>{var u;let a=new Ue({apiKey:t,apiHost:e,fetch:xc.default,projectId:s,limitPolicy:Oe}),l;if(xe(n)){let d=me(n,!0);l=await ye({objects:(u=d.quirks)!=null?u:[],selectIdentifier:kt,selectDisplayName:Rt})}else l=await Ce({directory:n,selectIdentifier:kt,selectDisplayName:Rt});let f=ni({client:a});await ue({source:l,target:f,mode:r,whatIf:i,log:de({diffMode:o})})}};b();var Oc=Z(require("isomorphic-unfetch"));var vc={command:"remove <id>",aliases:["delete","rm"],describe:"Delete a quirk",builder:e=>N(k(e.positional("id",{demandOption:!0,describe:"Quirk public ID to delete"}))),handler:async({apiHost:e,apiKey:t,id:n,project:r})=>{await new Ue({apiKey:t,apiHost:e,fetch:Oc.default,projectId:r}).remove({quirkId:n})}};b();var Ec=Z(require("isomorphic-unfetch"));var _c={command:"update <filename>",aliases:["put"],describe:"Insert or update a quirk",builder:e=>N(k(e.positional("filename",{demandOption:!0,describe:"Quirk file to put"}))),handler:async({apiHost:e,apiKey:t,filename:n,project:r})=>{let i=new Ue({apiKey:t,apiHost:e,fetch:Ec.default,projectId:r}),s=dt(n);await i.upsert({quirk:s})}};var Sc={command:"quirk <command>",aliases:["qk"],describe:"Commands for Context quirks",builder:e=>e.command(Ac).command(Cc).command(gc).command(vc).command(yc).command(_c).demandCommand(),handler:()=>{Be.help()}};b();b();var jc=Z(require("isomorphic-unfetch"));b();var Tn,or=class extends De{constructor(t){super(t)}async get(t){let{projectId:n}=this.options,r=this.createUrl(le(or,Tn),{...t,projectId:n});return await this.apiClient(r)}async upsert(t){let n=this.createUrl(le(or,Tn));await this.apiClient(n,{method:"PUT",body:JSON.stringify({...t,projectId:this.options.projectId}),expectNoContent:!0})}async remove(t){let n=this.createUrl(le(or,Tn));await this.apiClient(n,{method:"DELETE",body:JSON.stringify({...t,projectId:this.options.projectId}),expectNoContent:!0})}},$e=or;Tn=new WeakMap,ze($e,Tn,"/api/v2/signal");var Pc={command:"get <id>",describe:"Fetch a signal",builder:e=>we(N(k(e.positional("id",{demandOption:!0,describe:"Signal public ID to fetch"})))),handler:async({apiHost:e,apiKey:t,id:n,format:r,project:i,filename:s})=>{let a=await new $e({apiKey:t,apiHost:e,fetch:jc.default,projectId:i}).get({signalId:n});a.signals.length===0?(console.error("Signal did not exist"),process.exit(1)):fe(a.signals[0],r,s)}};b();var Ic=Z(require("isomorphic-unfetch"));var Mc={command:"list",describe:"List signals",aliases:["ls"],builder:e=>we(N(k(e))),handler:async({apiHost:e,apiKey:t,format:n,filename:r,project:i})=>{let o=await new $e({apiKey:t,apiHost:e,fetch:Ic.default,projectId:i}).get();fe(o.signals,n,r)}};b();var Fc=Z(require("isomorphic-unfetch"));b();var Ut=e=>e.id,$t=e=>`${e.name} (pid: ${e.id})`;b();function ri({client:e}){async function*t(){let n=(await e.get()).signals;for await(let r of n)yield{id:Ut(r),displayName:$t(r),providerId:r.id,object:r}}return{objects:t(),deleteObject:async n=>{await e.remove({signalId:n})},writeObject:async n=>{await e.upsert({signal:n.object})}}}var Tc={command:"pull <directory>",describe:"Pulls all signals to local files in a directory",builder:e=>N(k(Ae(e.positional("directory",{describe:"Directory to save the signals to. If a filename ending in yaml or json is used, a package file will be created instead of files in the directory.",type:"string"}).option("format",{alias:["f"],describe:"Output format",default:"yaml",choices:["yaml","json"],type:"string"}).option("what-if",{alias:["w"],describe:"What-if mode reports what would be done but changes no files",default:!1,type:"boolean"}).option("mode",{alias:["m"],describe:'What kind of changes can be made. "create" = create new files, update nothing. "createOrUpdate" = create new files, update existing, delete nothing. "mirror" = create, update, and delete to mirror state',choices:["create","createOrUpdate","mirror"],default:"mirror",type:"string"})))),handler:async({apiHost:e,apiKey:t,directory:n,format:r,mode:i,whatIf:s,project:o,diff:a})=>{var d;let l=new $e({apiKey:t,apiHost:e,fetch:Fc.default,projectId:o,limitPolicy:Oe}),c=ri({client:l}),f;if(xe(n)){let p=me(n,!1);f=await ye({objects:(d=p.signals)!=null?d:[],selectIdentifier:Ut,selectDisplayName:$t,onSyncComplete:async(y,g)=>{p.signals=g,at(n,p)}})}else f=await Ce({directory:n,selectIdentifier:Ut,selectDisplayName:$t,format:r});await ue({source:c,target:f,mode:i,whatIf:s,log:de({diffMode:a})})}};b();var Lc=Z(require("isomorphic-unfetch"));var Dc={command:"push <directory>",describe:"Pushes all signals from files in a directory or package to Uniform",builder:e=>N(k(Ae(e.positional("directory",{describe:"Directory to read the signals from. If a filename is used, a package will be read instead.",type:"string"}).option("what-if",{alias:["w"],describe:"What-if mode reports what would be done but changes nothing",default:!1,type:"boolean"}).option("mode",{alias:["m"],describe:'What kind of changes can be made. "create" = create new, update nothing. "createOrUpdate" = create new, update existing, delete nothing. "mirror" = create, update, and delete',choices:["create","createOrUpdate","mirror"],default:"mirror",type:"string"})))),handler:async({apiHost:e,apiKey:t,directory:n,mode:r,whatIf:i,project:s,diff:o})=>{var u;let a=new $e({apiKey:t,apiHost:e,fetch:Lc.default,projectId:s,limitPolicy:Oe}),l;if(xe(n)){let d=me(n,!0);l=await ye({objects:(u=d.signals)!=null?u:[],selectIdentifier:Ut,selectDisplayName:$t})}else l=await Ce({directory:n,selectIdentifier:Ut,selectDisplayName:$t});let f=ri({client:a});await ue({source:l,target:f,mode:r,whatIf:i,log:de({diffMode:o})})}};b();var Nc=Z(require("isomorphic-unfetch"));var kc={command:"remove <id>",aliases:["delete","rm"],describe:"Delete a signal",builder:e=>N(k(e.positional("id",{demandOption:!0,describe:"Signal public ID to delete"}))),handler:async({apiHost:e,apiKey:t,id:n,project:r})=>{await new $e({apiKey:t,apiHost:e,fetch:Nc.default,projectId:r}).remove({signalId:n})}};b();var Rc=Z(require("isomorphic-unfetch"));var Uc={command:"update <filename>",aliases:["put"],describe:"Insert or update a signal",builder:e=>N(k(e.positional("filename",{demandOption:!0,describe:"Signal file to put"}))),handler:async({apiHost:e,apiKey:t,filename:n,project:r})=>{let i=new $e({apiKey:t,apiHost:e,fetch:Rc.default,projectId:r}),s=dt(n);await i.upsert({signal:s})}};var $c={command:"signal <command>",aliases:["sig"],describe:"Commands for Context signals",builder:e=>e.command(Tc).command(Dc).command(Pc).command(kc).command(Mc).command(Uc).demandCommand(),handler:()=>{Be.help()}};b();b();var Wc=Z(require("isomorphic-unfetch"));b();var Ln,sr=class extends De{constructor(t){super(t)}async get(t){let{projectId:n}=this.options,r=this.createUrl(le(sr,Ln),{...t,projectId:n});return await this.apiClient(r)}async upsert(t){let n=this.createUrl(le(sr,Ln));await this.apiClient(n,{method:"PUT",body:JSON.stringify({...t,projectId:this.options.projectId}),expectNoContent:!0})}async remove(t){let n=this.createUrl(le(sr,Ln));await this.apiClient(n,{method:"DELETE",body:JSON.stringify({...t,projectId:this.options.projectId}),expectNoContent:!0})}},We=sr;Ln=new WeakMap,ze(We,Ln,"/api/v2/test");var Bc={command:"get <id>",describe:"Fetch a test",builder:e=>we(N(k(e.positional("id",{demandOption:!0,describe:"Test public ID to fetch"})))),handler:async({apiHost:e,apiKey:t,id:n,format:r,project:i,filename:s})=>{let a=await new We({apiKey:t,apiHost:e,fetch:Wc.default,projectId:i}).get({testId:n});a.tests.length===0?(console.error("Test did not exist"),process.exit(1)):fe(a.tests[0],r,s)}};b();var Hc=Z(require("isomorphic-unfetch"));var Gc={command:"list",describe:"List tests",aliases:["ls"],builder:e=>we(N(k(e))),handler:async({apiHost:e,apiKey:t,format:n,filename:r,project:i})=>{let o=await new We({apiKey:t,apiHost:e,fetch:Hc.default,projectId:i}).get();fe(o.tests,n,r)}};b();var qc=Z(require("isomorphic-unfetch"));b();var Wt=e=>e.id,Bt=e=>`${e.name} (pid: ${e.id})`;b();function ii({client:e}){async function*t(){let n=(await e.get()).tests;for await(let r of n)yield{id:Wt(r),displayName:Bt(r),providerId:r.id,object:r}}return{objects:t(),deleteObject:async n=>{await e.remove({testId:n})},writeObject:async n=>{await e.upsert({test:n.object})}}}var Yc={command:"pull <directory>",describe:"Pulls all tests to local files in a directory",builder:e=>N(k(Ae(e.positional("directory",{describe:"Directory to save the tests to. If a filename ending in yaml or json is used, a package file will be created instead of files in the directory.",type:"string"}).option("format",{alias:["f"],describe:"Output format",default:"yaml",choices:["yaml","json"],type:"string"}).option("what-if",{alias:["w"],describe:"What-if mode reports what would be done but changes no files",default:!1,type:"boolean"}).option("mode",{alias:["m"],describe:'What kind of changes can be made. "create" = create new files, update nothing. "createOrUpdate" = create new files, update existing, delete nothing. "mirror" = create, update, and delete to mirror state',choices:["create","createOrUpdate","mirror"],default:"mirror",type:"string"})))),handler:async({apiHost:e,apiKey:t,directory:n,format:r,mode:i,whatIf:s,project:o,diff:a})=>{var d;let l=new We({apiKey:t,apiHost:e,fetch:qc.default,projectId:o,limitPolicy:Oe}),c=ii({client:l}),f;if(xe(n)){let p=me(n,!1);f=await ye({objects:(d=p.tests)!=null?d:[],selectIdentifier:Wt,selectDisplayName:Bt,onSyncComplete:async(y,g)=>{p.tests=g,at(n,p)}})}else f=await Ce({directory:n,selectIdentifier:Wt,selectDisplayName:Bt,format:r});await ue({source:c,target:f,mode:i,whatIf:s,log:de({diffMode:a})})}};b();var zc=Z(require("isomorphic-unfetch"));var Vc={command:"push <directory>",describe:"Pushes all tests from files in a directory or package to Uniform",builder:e=>N(k(Ae(e.positional("directory",{describe:"Directory to read the tests from. If a filename is used, a package will be read instead.",type:"string"}).option("what-if",{alias:["w"],describe:"What-if mode reports what would be done but changes nothing",default:!1,type:"boolean"}).option("mode",{alias:["m"],describe:'What kind of changes can be made. "create" = create new, update nothing. "createOrUpdate" = create new, update existing, delete nothing. "mirror" = create, update, and delete',choices:["create","createOrUpdate","mirror"],default:"mirror",type:"string"})))),handler:async({apiHost:e,apiKey:t,directory:n,mode:r,whatIf:i,project:s,diff:o})=>{var u;let a=new We({apiKey:t,apiHost:e,fetch:zc.default,projectId:s,limitPolicy:Oe}),l;if(xe(n)){let d=me(n,!0);l=await ye({objects:(u=d.tests)!=null?u:[],selectIdentifier:Wt,selectDisplayName:Bt})}else l=await Ce({directory:n,selectIdentifier:Wt,selectDisplayName:Bt});let f=ii({client:a});await ue({source:l,target:f,mode:r,whatIf:i,log:de({diffMode:o})})}};b();var Kc=Z(require("isomorphic-unfetch"));var Qc={command:"remove <id>",aliases:["delete","rm"],describe:"Delete a test",builder:e=>N(k(e.positional("id",{demandOption:!0,describe:"Test public ID to delete"}))),handler:async({apiHost:e,apiKey:t,id:n,project:r})=>{await new We({apiKey:t,apiHost:e,fetch:Kc.default,projectId:r}).remove({testId:n})}};b();var Jc=Z(require("isomorphic-unfetch"));var Xc={command:"update <filename>",aliases:["put"],describe:"Insert or update a test",builder:e=>N(k(e.positional("filename",{demandOption:!0,describe:"Test file to put"}))),handler:async({apiHost:e,apiKey:t,filename:n,project:r})=>{let i=new We({apiKey:t,apiHost:e,fetch:Jc.default,projectId:r}),s=dt(n);await i.upsert({test:s})}};var Zc={command:"test <command>",describe:"Commands for Context A/B tests",builder:e=>e.command(Yc).command(Vc).command(Bc).command(Qc).command(Gc).command(Xc).demandCommand(),handler:()=>{Be.help()}};var vm={commands:[{command:"context <command>",aliases:["ctx"],describe:"Uniform Context commands",builder:e=>e.command(hc).command($c).command(Ml).command(wl).command(Sc).command(Zc).demandCommand(),handler:()=>{Be.showHelp()}}]};0&&(module.exports={readContextPackage,uniformCLI,writeContextPackage});
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
/**
 * @fileoverview Main entrypoint for libraries using yargs-parser in Node.js
 * CJS and ESM environments.
 *
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */
/**
 * @license
 * Copyright (c) 2016, Contributors
 * SPDX-License-Identifier: ISC
 */
