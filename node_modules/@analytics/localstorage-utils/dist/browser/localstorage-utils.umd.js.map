{"version":3,"file":"localstorage-utils.umd.js","sources":["../../../analytics-util-storage-global/dist/analytics-util-global-storage.module.js","../../src/index.js"],"sourcesContent":["var l=\"object\"==typeof self&&self.self===self&&self||\"object\"==typeof global&&global.global===global&&global||void 0,e=\"undefined\";function o(e){return l[e]}function f(e,o){return l[e]=o,o}function n(l){f(l)}export{o as get,l as globalContext,n as remove,f as set,e as undef};\n//# sourceMappingURL=analytics-util-global-storage.module.js.map\n","import { get, set, remove, undef } from '@analytics/global-storage-utils'\n\nlet isSupported = hasLocalStorage()\n\n/**\n * Check if browser has access to LocalStorage\n * @returns {Boolean}\n */\nfunction hasLocalStorage() {\n  if (typeof isSupported !== undef) return isSupported\n  isSupported = true\n  try {\n    if (typeof localStorage === undef || typeof JSON === undef) {\n      isSupported = false\n    }\n    // test for safari private\n    localStorage.setItem(undef, undef)\n    localStorage.removeItem(undef)\n  } catch (err) {\n    isSupported = false\n  }\n  return isSupported\n}\n\n/**\n * Get value from localStorage or fallback to global window\n * @param {string} key - Key of value to get\n * @returns {*} value\n */\nfunction getItem(key) {\n  return isSupported ? localStorage.getItem(key) : get(key)\n}\n\n/**\n * Set value to localStorage or fallback to global window\n * @param {string} key - Key of value to set\n * @param {*} value \n * @returns value\n */\nfunction setItem(key, value) {\n  return isSupported ? localStorage.setItem(key, value) : set(key, value)\n}\n\n/**\n * Remove value from localStorage or fallback to global window\n * @param {string} key - Key of value to remove\n */\nfunction removeItem(key) {\n  return isSupported ? localStorage.removeItem(key) : remove(key)\n}\n\nexport {\n  hasLocalStorage,\n  getItem,\n  setItem,\n  removeItem\n}"],"names":["globalContext","self","global","undef","set","key","value","isSupported","hasLocalStorage","localStorage","JSON","setItem","removeItem","err","getItem","get","remove"],"mappings":"0OAAaA,IAAAA,EACM,iBAATC,MAAqBA,KAAKA,OAASA,MAAQA,MAChC,iBAAXC,QAAuBA,OAAOA,SAAWA,QAAUA,aAAAA,EAIhDC,EAAQ,qBAiBLC,EAAIC,EAAKC,GAEvB,OADAN,EAAcK,GAAOC,EACdA,ECvBT,IAAIC,EAAcC,IAMlB,SAASA,IACP,UAAWD,IAAgBJ,EAAO,OAAOI,EACzCA,GAAc,EACd,WACaE,eAAiBN,UAAgBO,OAASP,IACnDI,GAAc,GAGhBE,aAAaE,QAAQR,EAAOA,GAC5BM,aAAaG,WAAWT,GACxB,MAAOU,GACPN,GAAc,EAEhB,OAAOA,YAQT,SAAiBF,GACf,OAAOE,EAAcE,aAAaK,QAAQT,GDxBvB,SAODA,GAClB,OAAOL,EAAcK,GCgB4BU,CAAIV,qCAiBvD,SAAoBA,GAClB,OAAOE,EAAcE,aAAaG,WAAWP,YDhBxBA,GACrBD,EAAIC,GCegDW,CAAOX,cAT7D,SAAiBA,EAAKC,GACpB,OAAOC,EAAcE,aAAaE,QAAQN,EAAKC,GAASF,EAAIC,EAAKC"}