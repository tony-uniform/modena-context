var analyticsSegment=function(){"use strict";function n(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function t(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},a=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable}))),a.forEach(function(e){n(t,e,i[e])})}return t}var e={writeKey:null,disableAnonymousTraffic:!1,syncAnonymousId:!1,integrations:{}};return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"segment",config:t({},e,n),methods:{group:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;void 0!==window.analytics&&window.analytics.group(n,t,e,i)}},bootstrap:function(n){var t=n.config,e=n.instance;t.disableAnonymousTraffic&&!e.user("userId")&&e.once("identifyStart",function(n){n.plugins.segment.loaded()||e.loadPlugin("segment")})},initialize:function(n){var t=n.config,e=n.instance,i=(n.payload,t.disableAnonymousTraffic),a=t.writeKey,o=t.customScriptSrc;if(!a)throw new Error("No segment writeKey");if(!e.user("userId")&&i)return!1;!function(){var n,t,e=window.analytics=window.analytics||[];if(!e.initialize&&(n=document.getElementsByTagName("script"),t=o||"cdn.segment.com/analytics.js/v1/",!Object.keys(n).filter(function(e){return((n[e]||{}).src||"").indexOf(t)>-1}).length)){e.invoked=!0,e.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"],e.factory=function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(n),e.push(t),e}};for(var i=0;i<e.methods.length;i++){var r=e.methods[i];e[r]=e.factory(r)}e.load=function(n,t){var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=o||"https://cdn.segment.com/analytics.js/v1/"+n+"/analytics.min.js",i.id="segment-io";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(i,a),e._loadOptions=t},e.SNIPPET_VERSION="4.1.0",e.load(a)}}()},page:function(n){var e=n.payload,i=n.config;if("undefined"!=typeof analytics){var a=e.properties||{},o=a.name||a.title,r=a.category;analytics.page(r,o,a,t({integrations:i.integrations},e.options))}},track:function(n){var e=n.payload,i=n.config;"undefined"!=typeof analytics&&analytics.track(e.event,e.properties,t({integrations:i.integrations},e.options))},identify:function(n){var e=n.payload,i=n.config;if("undefined"!=typeof analytics){var a=e.userId,o=e.traits,r=e.options;"string"==typeof a?analytics.identify(a,o,t({integrations:i.integrations},r)):analytics.identify(o,t({integrations:i.integrations},r))}},reset:function(){analytics.reset()},ready:function(n){var t=n.instance;if(n.config.syncAnonymousId&&"undefined"!=typeof analytics){var e=analytics.user();if(e){var i=e.anonymousId(),a=t.user("anonymousId");i&&i!==a&&t.setAnonymousId(i)}}},loaded:function(){return window.analytics&&!!analytics.initialized}}}}();