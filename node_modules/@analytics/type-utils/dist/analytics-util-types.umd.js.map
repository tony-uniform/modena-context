{"version":3,"file":"analytics-util-types.umd.js","sources":["../src/index.js"],"sourcesContent":["\n/*\n  Constants for reuse\n*/\nexport const FUNCTION = 'function'\nexport const STRING = 'string'\nexport const UNDEFINED = 'undefined'\nexport const BOOLEAN = 'boolean'\nexport const OBJECT = 'object'\nexport const ARRAY = 'array'\nexport const NUMBER = 'number'\nexport const noOp = () => {}\n\nexport const isBrowser = typeof window !== UNDEFINED\n\n/** \n * Check if value is function.\n * @param x\n * @return {x is Function}\n */\nexport function isFunction(x) {\n  return typeof x === FUNCTION\n}\n\n/** \n * Check if value is string.\n * @param x\n * @return {x is string}\n */\nexport function isString(x) {\n  return typeof x === STRING\n}\n\n/** \n * Check if value is number.\n * @param v\n * @return {v is Object}\n */\nexport function isNumber(v) {\n  return typeof v === NUMBER && !isNaN(v)\n}\n\n/** \n * Check if value is undefined.\n * @param x\n * @return {x is undefined}\n */\nexport function isUndefined(x) {\n  return typeof x === UNDEFINED\n}\n\n/** \n * @param x\n * @return {x is boolean}\n */\nexport function isBoolean(x) {\n  return typeof x === BOOLEAN\n}\n\n/** \n * @param x\n * @return {x is boolean}\n */\nexport function isNull(x) {\n  return x === null\n}\n\n/** \n * @template T\n * @param x\n * @return {x is Array<T>}\n */\nexport function isArray(x) {\n  return Object.prototype.toString.call(x) === '[object Array]'\n}\n\n/** \n * @param obj\n * @return {obj is Object}\n */\nexport function isObject(obj) {\n  if (typeof obj !== OBJECT || obj === null) return false\n\n  let proto = obj\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto)\n  }\n\n  return Object.getPrototypeOf(obj) === proto\n}\n\n\n/**\n * Check if value is regexp\n * @param {*} value - Value to check\n * @return {boolean} \n */\nexport function isRegex(value) {\n  return value instanceof RegExp\n}\n\n/** \n * @param func - function to check if noOp\n * @return {Boolean} - is noOp\n * @examples\n   function foo() {}\n   isNoOp(foo) // true\n   isNoOp(() => { }) // true\n   isNoOp(() => { console.log('hi') }) // false\n */\nexport function isNoOp(func) {\n  if (!isFunction(func)) return false\n  const emptyFunc = /{(\\r|\\n|\\s)*}/gm\n  const noOpStr = noOp.toString()\n  const funcString = (func.toString().match(emptyFunc) || [''])[0].replace(emptyFunc, noOpStr)\n  return noOpStr === funcString\n}\n\n/**\n * Check if value is truthy\n * @param {*} value \n * @return {Boolean} - is truthy value\n */\nexport function isTruthy(v) {\n  if (isString(v) && v.toLowerCase() === 'false') return false\n  return !!v\n}\n\n/**\n * Check if value is email\n * @param {*} str \n * @return {Boolean} - is email like value\n */\nexport function isEmail(str) {\n  if (str.length > 320) return false\n  return /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(str)\n}\n\n/** \n * @param obj\n * @return {obj is NodeList}\n */\nexport function isNodeList(obj) {\n  return NodeList.prototype.isPrototypeOf(obj)\n}\n\n/**\n * Check if input is DOM element\n * @param {HTMLElement|*} element\n * @return {boolean} \n */\nexport function isElement(element) {\n  return element instanceof Element || element instanceof HTMLDocument\n}\n\n/**\n * Check if element is form element\n * @param {HTMLElement} element\n * @return {boolean} \n */\nexport function isForm(element) {\n  return isElement(element) && element.nodeName === 'FORM'\n}\n\n\n/**\n * Check if DOM element is hidden\n * @param {HTMLElement|null|undefined} element\n * @param {HTMLElement|null|undefined} until \n * @return {boolean} \n */\nexport function isHidden(element, until) {\n  if (!element || getComputedStyle(element).visibility === \"hidden\") return true\n\n  while (element) {\n    if (until != null && element === until) return false\n    if (getComputedStyle(element).display === \"none\") return true\n    element = element.parentElement\n  }\n\n  return false\n}"],"names":["FUNCTION","STRING","UNDEFINED","BOOLEAN","OBJECT","NUMBER","noOp","isBrowser","window","isFunction","x","isString","isElement","element","Element","HTMLDocument","Object","prototype","toString","call","str","length","test","nodeName","until","getComputedStyle","visibility","display","parentElement","func","emptyFunc","noOpStr","match","replace","obj","NodeList","isPrototypeOf","v","isNaN","proto","getPrototypeOf","value","RegExp","toLowerCase"],"mappings":"uOAIaA,EAAW,WACXC,EAAS,SACTC,EAAY,YACZC,EAAU,UACVC,EAAS,SAETC,EAAS,SACTC,EAAO,aAEPC,SAAmBC,SAAWN,WAO3BO,EAAWC,GACzB,cAAcA,IAAMV,WAQNW,EAASD,GACvB,cAAcA,IAAMT,WAyHNW,EAAUC,GACxB,OAAOA,aAAmBC,SAAWD,aAAmBE,qBA/IrC,mGA+DGL,GACtB,MAA6C,mBAAtCM,OAAOC,UAAUC,SAASC,KAAKT,yBAlBdA,GACxB,cAAcA,IAAMP,kDA6EEiB,GACtB,QAAIA,EAAIC,OAAS,8IAC8HC,KAAKF,sBAyB/HP,GACrB,OAAOD,EAAUC,IAAiC,SAArBA,EAAQU,6CAUdV,EAASW,GAChC,IAAKX,GAAoD,WAAzCY,iBAAiBZ,GAASa,WAAyB,SAEnE,KAAOb,GAAS,CACd,GAAa,MAATW,GAAiBX,IAAYW,EAAO,SACxC,GAA0C,SAAtCC,iBAAiBZ,GAASc,QAAoB,SAClDd,EAAUA,EAAQe,cAGpB,4BAtEqBC,GACrB,IAAKpB,EAAWoB,GAAO,SACvB,IAAMC,EAAY,kBACZC,EAAUzB,EAAKY,WAErB,OAAOa,KADaF,EAAKX,WAAWc,MAAMF,IAAc,CAAC,KAAK,GAAGG,QAAQH,EAAWC,0BA4B3DG,GACzB,OAAOC,SAASlB,UAAUmB,cAAcF,sBAhFnBxB,GACrB,OAAa,OAANA,uBA1BgB2B,GACvB,cAAcA,IAAMhC,IAAWiC,MAAMD,wBAyCdH,GACvB,UAAWA,IAAQ9B,GAAkB,OAAR8B,EAAc,SAG3C,IADA,IAAIK,EAAQL,EAC4B,OAAjClB,OAAOwB,eAAeD,IAC3BA,EAAQvB,OAAOwB,eAAeD,GAGhC,OAAOvB,OAAOwB,eAAeN,KAASK,sBAShBE,GACtB,OAAOA,aAAiBC,yCAyBDL,GACvB,QAAI1B,EAAS0B,IAA0B,UAApBA,EAAEM,gBACZN,2BA9EiB3B,GAC1B,cAAcA,IAAMR"}