var analyticUtil=function(e){var r,t=(function(e,r){e.exports=function(e,r,t,n,o){for(r=r.split?r.split("."):r,n=0;n<r.length;n++)e=e?e[r[n]]:o;return e===o?t:e}}(r={exports:{}}),r.exports);function n(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}var o="undefined"!=typeof window;function a(e){if(!o)return!1;var r=e||document.referrer;if(r){var t=window.document.location.port,n=r.split("/")[2];return t&&(n=n.replace(":"+t,"")),n!==window.location.hostname}return!1}function i(e,r){var t=(e.split("?")||[,])[1];if(!t||-1===t.indexOf(r))return e;var n=new RegExp("(\\&|\\?)"+r+'([_A-Za-z0-9"+=.\\/\\-@%]+)',"g"),o=("?"+t).replace(n,"").replace(/^&/,"?");return e.replace("?"+t,o)}function u(e){return function(e){for(var r,t=Object.create(null),o=/([^&=]+)=?([^&]*)/g;r=o.exec(e);){var a=n(r[1]),i=n(r[2]);"[]"===a.substring(a.length-2)?(t[a=a.substring(0,a.length-2)]||(t[a]=[])).push(i):t[a]=""===i||i}for(var u in t){var l=u.split("[");l.length>1&&(c(t,l.map(function(e){return e.replace(/[?[\]\\ ]/g,"")}),t[u]),delete t[u])}return t}(function(e){if(e){var r=e.match(/\?(.*)/);return r&&r[1]?r[1].split("#")[0]:""}return o&&window.location.search.substring(1)}(e))}function c(e,r,t){for(var n=r.length-1,o=0;o<n;++o){var a=r[o];if("__proto__"===a||"constructor"===a)break;a in e||(e[a]={}),e=e[a]}e[r[n]]=t}function l(e){if(!o)return null;var r=document.createElement("a");return r.setAttribute("href",e),r.hostname}function s(e){return(l(e)||"").split(".").slice(-2).join(".")}function f(e){var r=e.split(".");return r.length>1?r.slice(0,-1).join("."):e}var m={trimTld:f,getDomainBase:s,getDomainHost:l},p="google",g="q",d={"daum.net":g,"eniro.se":"search_word","naver.com":"query","yahoo.com":"p","msn.com":g,"aol.com":g,"ask.com":g,"baidu.com":"wd","yandex.com":"text","rambler.ru":"words",google:g,"bing.com":{p:g,n:"live"}};return e.decodeUri=n,e.dotProp=t,e.getBrowserLocale=function(){if(o){var e=navigator,r=e.languages;return e.userLanguage||(r&&r.length?r[0]:e.language)}},e.getTimeZone=function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){}},e.isExternalReferrer=a,e.isScriptLoaded=function(e){if(!o)return!0;var r=document.getElementsByTagName("script");return!!Object.keys(r).filter(function(t){var n=r[t].src;return"string"==typeof e?-1!==n.indexOf(e):!!(e instanceof RegExp)&&n.match(e)}).length},e.paramsClean=i,e.paramsGet=function(e,r){return n((RegExp(e+"=(.+?)(&|$)").exec(r)||[,""])[1])},e.paramsParse=u,e.paramsRemove=function(e,r){return o?new Promise(function(t,n){if(window.history&&window.history.replaceState){var o=window.location.href,a=i(o,e);o!==a&&history.replaceState({},"",a)}return r&&r(),t()}):Promise.resolve()},e.parseReferrer=function(e,r){if(!o)return!1;var t={source:"(direct)",medium:"(none)",campaign:"(not set)"};e&&a(e)&&(t.referrer=e);var n=function(e){if(!e||!o)return!1;var r=s(e),t=document.createElement("a");if(t.href=e,t.hostname.indexOf(p)>-1&&(r=p),d[r]){var n=d[r],i=new RegExp(("string"==typeof n?n:n.p)+"=.*?([^&#]*|$)","gi"),u=t.search.match(i);return{source:n.n||f(r),medium:"organic",term:(u?u[0].split("=")[1]:"")||"(not provided)"}}var c=a(e)?"referral":"internal";return{source:t.hostname,medium:c}}(e);n&&Object.keys(n).length&&(t=Object.assign({},t,n));var i=u(r),c=Object.keys(i);if(!c.length)return t;var l=c.reduce(function(e,r){return r.match(/^utm_/)&&(e[""+r.replace(/^utm_/,"")]=i[r]),r.match(/^(d|g)clid/)&&(e.source=p,e.medium=i.gclid?"cpc":"cpm",e[r]=i[r]),e},{});return Object.assign({},t,l)},e.throttle=function(e,r){var t,n,o,a=null,i=0,u=function(){i=new Date,a=null,o=e.apply(t,n)};return function(){var c=new Date;i||(i=c);var l=r-(c-i);return t=this,n=arguments,l<=0?(clearTimeout(a),a=null,i=c,o=e.apply(t,n)):a||(a=setTimeout(u,l)),o}},e.url=m,e.uuid=function(){for(var e="",r=0,t=4294967295*Math.random()|0;r++<36;){var n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx"[r-1],o=15&t;e+="-"==n||"4"==n?n:("x"==n?o:3&o|8).toString(16),t=r%8==0?4294967295*Math.random()|0:t>>4}return e},e}({});
//# sourceMappingURL=analytics-utils.js.map
