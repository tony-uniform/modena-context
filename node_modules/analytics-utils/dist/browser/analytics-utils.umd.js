!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((e||self).analyticUtil={})}(this,function(e){var r=function(e){var r={exports:{}};return function(e,r){e.exports=function(e,r,t,n,o){for(r=r.split?r.split("."):r,n=0;n<r.length;n++)e=e?e[r[n]]:o;return e===o?t:e}}(r),r.exports}();function t(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}var n="undefined"!=typeof window;function o(e){if(!n)return!1;var r=e||document.referrer;if(r){var t=window.document.location.port,o=r.split("/")[2];return t&&(o=o.replace(":"+t,"")),o!==window.location.hostname}return!1}function i(e,r){var t=(e.split("?")||[,])[1];if(!t||-1===t.indexOf(r))return e;var n=new RegExp("(\\&|\\?)"+r+'([_A-Za-z0-9"+=.\\/\\-@%]+)',"g"),o=("?"+t).replace(n,"").replace(/^&/,"?");return e.replace("?"+t,o)}function a(e){return function(e){for(var r,n=Object.create(null),o=/([^&=]+)=?([^&]*)/g;r=o.exec(e);){var i=t(r[1]),a=t(r[2]);"[]"===i.substring(i.length-2)?(n[i=i.substring(0,i.length-2)]||(n[i]=[])).push(a):n[i]=""===a||a}for(var c in n){var l=c.split("[");l.length>1&&(u(n,l.map(function(e){return e.replace(/[?[\]\\ ]/g,"")}),n[c]),delete n[c])}return n}(function(e){if(e){var r=e.match(/\?(.*)/);return r&&r[1]?r[1].split("#")[0]:""}return n&&window.location.search.substring(1)}(e))}function u(e,r,t){for(var n=r.length-1,o=0;o<n;++o){var i=r[o];if("__proto__"===i||"constructor"===i)break;i in e||(e[i]={}),e=e[i]}e[r[n]]=t}function c(e){if(!n)return null;var r=document.createElement("a");return r.setAttribute("href",e),r.hostname}function l(e){return(c(e)||"").split(".").slice(-2).join(".")}function s(e){var r=e.split(".");return r.length>1?r.slice(0,-1).join("."):e}var f={trimTld:s,getDomainBase:l,getDomainHost:c},m="google",p="q",d={"daum.net":p,"eniro.se":"search_word","naver.com":"query","yahoo.com":"p","msn.com":p,"aol.com":p,"ask.com":p,"baidu.com":"wd","yandex.com":"text","rambler.ru":"words",google:p,"bing.com":{p:p,n:"live"}};e.decodeUri=t,e.dotProp=r,e.getBrowserLocale=function(){if(n){var e=navigator,r=e.languages;return e.userLanguage||(r&&r.length?r[0]:e.language)}},e.getTimeZone=function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){}},e.isExternalReferrer=o,e.isScriptLoaded=function(e){if(!n)return!0;var r=document.getElementsByTagName("script");return!!Object.keys(r).filter(function(t){var n=r[t].src;return"string"==typeof e?-1!==n.indexOf(e):!!(e instanceof RegExp)&&n.match(e)}).length},e.paramsClean=i,e.paramsGet=function(e,r){return t((RegExp(e+"=(.+?)(&|$)").exec(r)||[,""])[1])},e.paramsParse=a,e.paramsRemove=function(e,r){return n?new Promise(function(t,n){if(window.history&&window.history.replaceState){var o=window.location.href,a=i(o,e);o!==a&&history.replaceState({},"",a)}return r&&r(),t()}):Promise.resolve()},e.parseReferrer=function(e,r){if(!n)return!1;var t={source:"(direct)",medium:"(none)",campaign:"(not set)"};e&&o(e)&&(t.referrer=e);var i=function(e){if(!e||!n)return!1;var r=l(e),t=document.createElement("a");if(t.href=e,t.hostname.indexOf(m)>-1&&(r=m),d[r]){var i=d[r],a=new RegExp(("string"==typeof i?i:i.p)+"=.*?([^&#]*|$)","gi"),u=t.search.match(a);return{source:i.n||s(r),medium:"organic",term:(u?u[0].split("=")[1]:"")||"(not provided)"}}var c=o(e)?"referral":"internal";return{source:t.hostname,medium:c}}(e);i&&Object.keys(i).length&&(t=Object.assign({},t,i));var u=a(r),c=Object.keys(u);if(!c.length)return t;var f=c.reduce(function(e,r){return r.match(/^utm_/)&&(e[""+r.replace(/^utm_/,"")]=u[r]),r.match(/^(d|g)clid/)&&(e.source=m,e.medium=u.gclid?"cpc":"cpm",e[r]=u[r]),e},{});return Object.assign({},t,f)},e.throttle=function(e,r){var t,n,o,i=null,a=0,u=function(){a=new Date,i=null,o=e.apply(t,n)};return function(){var c=new Date;a||(a=c);var l=r-(c-a);return t=this,n=arguments,l<=0?(clearTimeout(i),i=null,a=c,o=e.apply(t,n)):i||(i=setTimeout(u,l)),o}},e.url=f,e.uuid=function(){for(var e="",r=0,t=4294967295*Math.random()|0;r++<36;){var n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx"[r-1],o=15&t;e+="-"==n||"4"==n?n:("x"==n?o:3&o|8).toString(16),t=r%8==0?4294967295*Math.random()|0:t>>4}return e}});
//# sourceMappingURL=analytics-utils.umd.js.map
