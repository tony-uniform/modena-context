(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{698:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return y}});var o=t(5893),i=t(7294),r=t(5152),s=t.n(r),c=t(385),a=t.n(c),u=s()((function(){return t.e(171).then(t.t.bind(t,5171,23))}),{loadableGenerated:{webpack:function(){return[5171]}},ssr:!1});var l=function(){return(0,o.jsx)("svg",{style:{height:30,width:30,paddingTop:5},viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})},p=function(e){var n=e.composition,t=e.containerRef,r=(0,i.useState)(!1),s=r[0],c=r[1];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{type:"button",onClick:function(){c(!s),t.current.style.marginRight=s?"0px":"500px"},className:[a()["composition-button"],s?a()["composition-button-on"]:a()["composition-button-off"]].join(" "),children:(0,o.jsx)(l,{})}),s&&(0,o.jsxs)("div",{className:[a().sidenav,s&&a()["sidenav-open"]].join(" "),children:[(0,o.jsx)("a",{className:a()["sidenav-close"],onClick:function(){c(!1),t.current.style.marginRight="0"},children:"\xd7"}),(0,o.jsx)(u,{src:n})]})]})},v=t(1163),w=t(8225);function d(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var f=function(e){var n=(0,v.useRouter)(),t=(0,i.useCallback)((function(){console.log("\ud83e\udd7d Preview updated."),delete window.next.router.sdc[new URL("/_next/data/".concat(window.__NEXT_DATA__.buildId).concat("/"===n.asPath?"/index":n.asPath,".json"),location.href).toString()],n.replace(n.asPath,void 0,{scroll:!1})}),[n]);return(0,w.ub)(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),o.forEach((function(n){d(e,n,t[n])}))}return e}({},e,{enabled:n.isPreview,effect:t}))},h=t(1752),m=t(8213),b=t.n(m);var _=function(){return(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",style:{height:30,width:30,paddingTop:5},viewBox:"0 0 25 25",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.636 18.364a9 9 0 010-12.728m12.728 0a9 9 0 010 12.728m-9.9-2.829a5 5 0 010-7.07m7.072 0a5 5 0 010 7.07M13 12a1 1 0 11-2 0 1 1 0 012 0z"})})},x=function(){return(0,o.jsx)("svg",{style:{height:30,width:30,paddingTop:5},viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636a9 9 0 010 12.728m0 0l-2.829-2.829m2.829 2.829L21 21M15.536 8.464a5 5 0 010 7.072m0 0l-2.829-2.829m-4.243 2.829a4.978 4.978 0 01-1.414-2.83m-1.414 5.658a9 9 0 01-2.167-9.238m7.824 2.167a1 1 0 111.414 1.414m-1.414-1.414L3 3m8.293 8.293l1.414 1.414"})})},j=function(e){var n=e.previewing,t=(0,v.useRouter)(),i=(0,h.default)().publicRuntimeConfig.previewSecret;return(0,o.jsx)("button",{type:"button",onClick:function(){var e="/api/preview?slug=".concat(t.asPath).concat(n?"&disable=1":"&secret=".concat(i));t.push(e)},className:[b()["preview-switch-button"],n?b()["preview-switch-button-on"]:b()["preview-switch-button-off"]].join(" "),children:n?(0,o.jsx)(_,{}):(0,o.jsx)(x,{})})},g=t(5744);var k=function(e){var n=e.previewActive,t=e.composition,i=(0,h.default)().publicRuntimeConfig.projectId;return f({compositionId:null===t||void 0===t?void 0:t._id,projectId:i}),(0,g.Z)()?(0,o.jsx)(j,{previewing:n}):null},P=t(91),C=t.n(P);var y=function(e){var n=e.preview,t=e.composition,i=e.containerRef;return(0,o.jsxs)("div",{className:C().panel,children:[(0,o.jsx)("div",{className:C()["preview-switch"],children:(0,o.jsx)(k,{previewActive:n,composition:t})}),(0,o.jsx)("div",{className:C()["composition-preview"],children:(0,o.jsx)(p,{containerRef:i,composition:t})})]})}},385:function(e){e.exports={"composition-button":"CompositionPreview_composition-button__7frDR","composition-button-on":"CompositionPreview_composition-button-on__HLl9X","composition-button-off":"CompositionPreview_composition-button-off__NLzgN",sidenav:"CompositionPreview_sidenav__PWLtt","sidenav-open":"CompositionPreview_sidenav-open__sV_yL","sidenav-close":"CompositionPreview_sidenav-close__XDKQW"}},91:function(e){e.exports={panel:"PreviewDevPanel_panel__WOavO"}},8213:function(e){e.exports={"preview-switch-button":"PreviewSwitch_preview-switch-button__2Ua3q","preview-switch-button-on":"PreviewSwitch_preview-switch-button-on__1fqS5","preview-switch-button-off":"PreviewSwitch_preview-switch-button-off__nuNYb"}},1163:function(e,n,t){e.exports=t(880)}}]);